---
title: 2é“ç®—æ³•é¢˜çš„ä¼˜åŒ–è¿‡ç¨‹
tags: ç®—æ³•
abbrlink: '7e570359'
date: 2021-04-08 23:38:41
---

> æœ€è¿‘åˆ·äº†é‚£ä¹ˆå¤šçš„ç®—æ³•,æ„Ÿè§‰è‡ªå·±åˆšåˆšæœ‰ç‚¹è¿›æ­¥,åˆè¢«ä¸¤é“ç®€å•é¢˜æžæ™•äº†ðŸ™ƒðŸ™ƒ,å½»åº•æš´éœ²äº†è‡ªå·±å¯¹æ—¶é—´å¤æ‚åº¦æŽŒæ¡ä¸è¶³çš„é—æ¼,å› æ­¤åœ¨è¿™é‡Œè®°å½•ä¸‹ä¼˜åŒ–çš„è¿‡ç¨‹.

### ç¬¬ä¸€é¢˜

ç»™ä½ ä¸€ä¸ªæœ‰åºæ•°ç»„ nums ï¼Œè¯·ä½  åŽŸåœ° åˆ é™¤é‡å¤å‡ºçŽ°çš„å…ƒç´ ï¼Œä½¿æ¯ä¸ªå…ƒç´  æœ€å¤šå‡ºçŽ°ä¸¤æ¬¡ ï¼Œè¿”å›žåˆ é™¤åŽæ•°ç»„çš„æ–°é•¿åº¦ã€‚

ä¸è¦ä½¿ç”¨é¢å¤–çš„æ•°ç»„ç©ºé—´ï¼Œä½ å¿…é¡»åœ¨ åŽŸåœ° ä¿®æ”¹è¾“å…¥æ•°ç»„ å¹¶åœ¨ä½¿ç”¨ O(1) é¢å¤–ç©ºé—´çš„æ¡ä»¶ä¸‹å®Œæˆã€‚

ç¤ºä¾‹ 1ï¼š

è¾“å…¥ï¼šnums = [1,1,1,2,2,3]
è¾“å‡ºï¼š5, nums = [1,1,2,2,3]
è§£é‡Šï¼šå‡½æ•°åº”è¿”å›žæ–°é•¿åº¦ length = 5, å¹¶ä¸”åŽŸæ•°ç»„çš„å‰äº”ä¸ªå…ƒç´ è¢«ä¿®æ”¹ä¸º 1, 1, 2, 2, 3 ã€‚ ä¸éœ€è¦è€ƒè™‘æ•°ç»„ä¸­è¶…å‡ºæ–°é•¿åº¦åŽé¢çš„å…ƒç´ ã€‚
ç¤ºä¾‹ 2ï¼š

è¾“å…¥ï¼šnums = [0,0,1,1,1,1,2,3,3]
è¾“å‡ºï¼š7, nums = [0,0,1,1,2,3,3]
è§£é‡Šï¼šå‡½æ•°åº”è¿”å›žæ–°é•¿åº¦ length = 7, å¹¶ä¸”åŽŸæ•°ç»„çš„å‰äº”ä¸ªå…ƒç´ è¢«ä¿®æ”¹ä¸ºÂ 0, 0, 1, 1, 2, 3, 3 ã€‚ ä¸éœ€è¦è€ƒè™‘æ•°ç»„ä¸­è¶…å‡ºæ–°é•¿åº¦åŽé¢çš„å…ƒç´ ã€‚
ä¸€çœ‹åˆ°é¢˜ç›®,è§‰å¾—ä¸éš¾,é©¬ä¸Šå¼€å§‹å†™ä»£ç ,å°±æ¨¡æ‹Ÿæ•´ä¸ªè¿‡ç¨‹,å‡ åˆ†é’Ÿæžå®š.
```JavaScript
var removeDuplicates = function(nums) {
    
    let len = nums.length
    let last = nums[len-1]
    let count = 1

    for(let i = nums.length-2;i>=0;i--) {
        if(nums[i] === last) {
            count++
            if(count>2) {
                len--
                for(let j = i;j<len;j++) {
                    nums[j] = nums[j+1]
                }

            }
        }else {
            count = 1
            last = nums[i]
        }   
    }
    return len
};
```

åˆšå¥½è¿™å‡ å¤©å‡ ä¸ªåŒäº‹éƒ½åœ¨æ‰“å¡æ¯æ—¥ä¸€é¢˜,æˆ‘ä»¬äº¤æµäº†ä¸€ä¸‹,æˆ‘æŠŠè‡ªå·±çš„ä»£ç ç»™åŒäº‹çœ‹äº†çœ‹,ä¸€ä¸ªåŒäº‹ç«‹é©¬è¯´,ä½ è¿™ä¸ªæ—¶é—´å¤æ‚åº¦å¤ªé«˜äº†,æˆ‘ä»”ç»†çœ‹äº†çœ‹ä»£ç ,ç¡®å®ž,å¾ªçŽ¯é‡Œé¢ç§»åŠ¨æ•°ç»„,å¤§æ¦‚å¤æ‚åº¦O(n^2).

å¬äº†åŒäº‹çš„çš„è§£æ³•,æˆ‘é¡¿æ‚Ÿäº†,åŽŸæ¥åŒæŒ‡é’ˆå°±å¥½äº†,å¿«æ…¢æŒ‡é’ˆ,æ…¢æŒ‡é’ˆä¿æŒé•¿åº¦,å¿«æŒ‡é’ˆæ¯æ¬¡+1ç”¨æ¥æ£€æŸ¥åŽé¢çš„å…ƒç´ ,é‡åˆ°ä¸åŒçš„å…ƒç´ ,å¹¶ä¸”å‰æ–¹å·²ç»å‡ºçŽ°äº†ä¸¤ä¸ªé‡å¤çš„,å°±è¦†ç›–å‰æ–¹æ…¢æŒ‡é’ˆçš„å…ƒç´ ,ç„¶åŽæ…¢æŒ‡é’ˆç»§ç»­+1

ä¸‹é¢æ˜¯ä»£ç :
```JavaScript
var removeDuplicates = function(nums) {
    let n = nums.length
    if(n<2) {
        return n
    }
    let slow = 2
    let fast = 2
    
    while(fast<n) {
        if(nums[slow-2] !== nums[fast]) {
            nums[slow] = nums[fast]
            slow++
        }
        fast++
    }
    
    return slow
};
```
è¿™æ ·æ—¶é—´å¤æ‚åº¦å°±è¢«ä¼˜åŒ–åˆ°äº†O(n),åªéåŽ†äº†ä¸€è¾¹.
ç»è¿‡è‡ªå·±çš„æµ‹è¯•,åœ¨é•¿åº¦ä¸º999999,ä¸‰ä¸ªä¸€ç»„ç›¸åŒçš„æ•°ç»„çš„è¿è¡Œæµ‹è¯•ä¸‹,ç¬¬äºŒç§èŠ±è´¹å¤§æ¦‚3ms,è€Œç¬¬ä¸€ç§,å±…ç„¶ç”¨äº†100000+ms,ç›¸å·®äº†3ä¸‡å€!!!ðŸ¤¯ ðŸ¤¯ ðŸ¤¯ ðŸ¤¯ ðŸ¤¯ 

### ç¬¬äºŒé¢˜

å°åŠ›å°† N ä¸ªé›¶ä»¶çš„æŠ¥ä»·å­˜äºŽæ•°ç»„ numsã€‚å°åŠ›é¢„ç®—ä¸º targetï¼Œå‡å®šå°åŠ›ä»…è´­ä¹°ä¸¤ä¸ªé›¶ä»¶ï¼Œè¦æ±‚è´­ä¹°é›¶ä»¶çš„èŠ±è´¹ä¸è¶…è¿‡é¢„ç®—ï¼Œè¯·é—®ä»–æœ‰å¤šå°‘ç§é‡‡è´­æ–¹æ¡ˆã€‚

æ³¨æ„ï¼šç­”æ¡ˆéœ€è¦ä»¥ 1e9 + 7 (1000000007) ä¸ºåº•å–æ¨¡ï¼Œå¦‚ï¼šè®¡ç®—åˆå§‹ç»“æžœä¸ºï¼š1000000008ï¼Œè¯·è¿”å›ž 1
ç¤ºä¾‹ 1ï¼š

è¾“å…¥ï¼šnums = [2,5,3,5], target = 6

è¾“å‡ºï¼š1

è§£é‡Šï¼šé¢„ç®—å†…ä»…èƒ½è´­ä¹° nums[0] ä¸Ž nums[2]ã€‚

ç¤ºä¾‹ 2ï¼š

è¾“å…¥ï¼šnums = [2,2,1,9], target = 10

è¾“å‡ºï¼š4

è§£é‡Šï¼šç¬¦åˆé¢„ç®—çš„é‡‡è´­æ–¹æ¡ˆå¦‚ä¸‹ï¼š
nums[0] + nums[1] = 4
nums[0] + nums[2] = 3
nums[1] + nums[2] = 3
nums[2] + nums[3] = 10

ç¬¬ä¸€çœ¼çœ‹åˆ°è¿™ä¸ªé¢˜,å¿ƒæƒ³è¿™ä¹ˆç®€å•çš„å—?
ç«‹é©¬åˆæ˜¯åŒå±‚å¾ªçŽ¯éåŽ†ä¸€è¾¹,æžœä¸å…¶ç„¶è¶…æ—¶äº†,ä¸€çœ‹ç»™çš„æµ‹è¯•ç”¨ä¾‹,é•¿åº¦ `2 <= nums.length <= 10^5`
è€ƒè™‘åˆ°æ²¡æœ‰è´Ÿæ•°,äºŽæ˜¯åŠ äº†ä¸ªåˆ¤æ–­ç¬¬ä¸€ä¸ªæ•°çš„é•¿åº¦æ˜¯å¦å¤§äºŽtarget,ç„¶è€Œè¿˜æ˜¯è¶…æ—¶.
æƒ³äº†æƒ³,å…ˆæŽ’ä¸‹é¡ºåºå§,ç„¶åŽäºŒåˆ†æ‰¾åˆ°å°äºŽtargetçš„éƒ¨åˆ†,åœ¨è¿™ä¸ªèŒƒå›´å†…åˆ¤æ–­,åŽæ¥åˆæƒ³,å¦‚æžœtargetå¾ˆå¤§æ€Žä¹ˆåŠž?ä¸è¿˜æ˜¯è¦éåŽ†å¾ˆå¤šæ¬¡å—?
æƒ³å•Šæƒ³,æ­»æŽ‰nä¸ªè„‘ç»†èƒž,mæ ¹å¤´å‘åŽ,æˆ‘æ˜Žç™½äº†,åœ¨ä¸€ä¸ªé¡ºåºçš„æ•°ç»„é‡Œ,å¦‚æžœä¸‹æ ‡iå’Œä¸‹æ ‡jæ»¡è¶³å°äºŽtarget,é‚£ä¹ˆiå’Œå…¶ä»–å°äºŽjçš„å…¶ä»–ç»„åˆéƒ½æ»¡è¶³,è¿™ä¸ªä¸ªæ•°æ˜¯(j-i)ä¸ª,ç„¶åŽi++ç»§ç»­åˆ¤æ–­å°±è¡Œäº†,å¦‚æžœå¤§äºŽtargetäº†,å°±å¤§æ•°çš„ä¸‹æ ‡,j å‘å·¦ç§»åŠ¨j-- å°±è¡Œäº†. æƒ³æ˜Žç™½åŽ,æ‰å‘çŽ°å·²ç»è¿‡åŽ»1ä¸ªå°æ—¶äº†.é©¬ä¸ŠåŠ¨æ‰‹å†™ä»£ç 
```JavaScript
var purchasePlans = function(nums, target) {
    const MOD = 1000000007
    nums.sort((a,b) => a-b)

    let i = 0
    let  j = nums.length-1
    let res = 0
    while(i<j) {
        if(nums[i] + nums[j] <= target) {
            res+=j-i
            res = res%MOD
            i++
        }else {
            j--
        }
    }
    return res
};
```

è¿™æ ·å°±O(n)äº†,åŒæ—¶,ä¸è¦å¿˜äº†æ¨¡MOD.

æ³¨æ„æ—¶é—´å¤æ‚åº¦,ä¸è¦å†å†™ä½Žæ•ˆçŽ‡çš„ä»£ç äº†ðŸ’ªðŸ’ªðŸ’ªðŸ’ªðŸ’ª