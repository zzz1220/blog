<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>simmyo_zçš„åšå®¢</title>
  
  
  <link href="/atom.xml" rel="self"/>
  
  <link href="https://zzz1220.github.io/"/>
  <updated>2023-11-08T06:09:34.190Z</updated>
  <id>https://zzz1220.github.io/</id>
  
  <author>
    <name>zzz1220</name>
    
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>ç±»å‹ä½“æ“ä»£ç ç‰‡æ®µ</title>
    <link href="https://zzz1220.github.io/posts/5abfc5c1/"/>
    <id>https://zzz1220.github.io/posts/5abfc5c1/</id>
    <published>2023-11-05T13:45:51.000Z</published>
    <updated>2023-11-08T06:09:34.190Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>&quot;TSç±»å‹ä½“æ“&quot;é€šå¸¸æ˜¯æŒ‡åœ¨TypeScriptä¸­ä½¿ç”¨ç±»å‹ç³»ç»Ÿçš„ä¸€ç§æŠ€å·§ï¼Œä»¥æ›´å¥½åœ°åˆ©ç”¨TypeScriptçš„ç±»å‹æ£€æŸ¥åŠŸèƒ½ã€‚TypeScriptæ˜¯JavaScriptçš„ä¸€ä¸ªè¶…é›†ï¼Œå®ƒæ·»åŠ äº†é™æ€ç±»å‹å®šä¹‰ï¼Œä½¿å¾—åœ¨å¼€å‘å¤§å‹åº”ç”¨ç¨‹åºæ—¶æ›´å®¹æ˜“è¿›è¡Œç±»å‹æ£€æŸ¥å’Œè°ƒè¯•ã€‚TSç±»å‹ä½“æ“æ˜¯æŒ‡åˆ©ç”¨TypeScriptå¼ºå¤§çš„ç±»å‹ç³»ç»Ÿï¼Œé€šè¿‡å·§å¦™çš„ç±»å‹å®šä¹‰å’Œä½¿ç”¨æŠ€å·§ï¼Œä»¥åŠä¸€äº›ç‰¹æ®Šçš„ç±»å‹æ“ä½œï¼Œæ¥å®ç°æ›´é«˜çº§ã€æ›´å¤æ‚çš„ç±»å‹æ£€æŸ¥å’Œç±»å‹æ¨æ–­ã€‚</p></blockquote><p>æœ€è¿‘ä¸ºäº†æ›´å¥½çš„å­¦ä¹ tsçš„ç±»å‹ç³»ç»Ÿï¼Œå¼€å§‹ç»ƒä¹ ç±»å‹ä½“æ“ã€‚åœ°å€ï¼š<br><a href="https://github.com/type-challenges/type-challenges" target="_blank" rel="noopener">https://github.com/type-challenges/type-challenges</a><br>è®°å½•ä¸€äº›å¸¸ç”¨çš„ç±»å‹æŠ€å·§</p><h1>ç±»å‹ä½“æ“åŒ…æ‹¬å“ªäº›å†…å®¹ï¼Ÿ</h1><p>TSç±»å‹ä½“æ“å¯ä»¥åŒ…æ‹¬ä»¥ä¸‹å†…å®¹ï¼š</p><p>ç±»å‹æ¨æ–­å’Œç±»å‹æ³¨è§£ï¼šTypeScriptå…è®¸ä½ åœ¨å˜é‡ã€å‡½æ•°å‚æ•°ã€å‡½æ•°è¿”å›ç±»å‹ç­‰åœ°æ–¹è¿›è¡Œç±»å‹æ³¨è§£ï¼ŒåŒæ—¶ä¹Ÿæœ‰ä¸€å®šçš„ç±»å‹æ¨æ–­æœºåˆ¶ï¼Œå¯ä»¥æ ¹æ®ä¸Šä¸‹æ–‡è‡ªåŠ¨æ¨æ–­ç±»å‹ã€‚<br>è”åˆç±»å‹å’Œäº¤å‰ç±»å‹ï¼šé€šè¿‡è”åˆç±»å‹ï¼ˆUnion Typesï¼‰å’Œäº¤å‰ç±»å‹ï¼ˆIntersection Typesï¼‰ï¼Œå¯ä»¥å°†å¤šç§ç±»å‹ç»„åˆåœ¨ä¸€èµ·ï¼Œå®ç°æ›´çµæ´»çš„ç±»å‹å®šä¹‰ã€‚<br>æ³›å‹ï¼šä½¿ç”¨æ³›å‹å¯ä»¥åœ¨å¤šä¸ªåœ°æ–¹é‡ç”¨ç›¸åŒçš„ç±»å‹ï¼Œå¢åŠ ä»£ç çš„çµæ´»æ€§å’Œé‡ç”¨æ€§ã€‚<br>æ¡ä»¶ç±»å‹ï¼šæ¡ä»¶ç±»å‹æ˜¯TypeScriptä¸­çš„é«˜çº§ç±»å‹ï¼Œå…è®¸æ ¹æ®å…¶ä»–ç±»å‹æ¥é€‰æ‹©å…¶ä¸­ä¸€ç§ç±»å‹å®šä¹‰ã€‚<br>æ˜ å°„ç±»å‹ï¼šæ˜ å°„ç±»å‹å…è®¸ä½ ä»ä¸€ä¸ªç°æœ‰çš„ç±»å‹åˆ›å»ºä¸€ä¸ªæ–°çš„ç±»å‹ï¼Œå…¶ä¸­æ¯ä¸ªå±æ€§éƒ½å¯ä»¥æŒ‰ç…§ä¸€å®šçš„è§„åˆ™è½¬æ¢ã€‚<br>ç±»å‹å®ˆå«ï¼šä½¿ç”¨ç±»å‹å®ˆå«å¯ä»¥åœ¨è¿è¡Œæ—¶æ£€æŸ¥ç±»å‹ï¼Œå¸®åŠ©ä½ åœ¨ä»£ç ä¸­å¤„ç†ä¸åŒçš„ç±»å‹æƒ…å†µã€‚<br>keyof æ“ä½œç¬¦ï¼škeyof æ“ä½œç¬¦ç”¨äºè·å–å¯¹è±¡ç±»å‹çš„æ‰€æœ‰é”®ï¼Œå®ƒå¸¸ç”¨äºæ³›å‹çº¦æŸå’Œç±»å‹æ“ä½œã€‚<br>ç±»å‹æ“ä½œç¬¦ï¼šTypeScriptæä¾›äº†ä¸€äº›ç±»å‹æ“ä½œç¬¦ï¼Œå¦‚keyofã€typeofã€inç­‰ï¼Œç”¨äºæ“ä½œå’Œè·å–ç±»å‹ä¿¡æ¯ã€‚<br>ç´¢å¼•ç±»å‹ï¼šç´¢å¼•ç±»å‹å¯ä»¥ç”¨äºè®¿é—®å¯¹è±¡çš„å±æ€§ï¼Œå¹¶ä¿ç•™å…¶ç±»å‹ä¿¡æ¯ã€‚</p><p>TSç±»å‹ä½“æ“æ˜¯åˆ©ç”¨TypeScriptå¼ºå¤§ç±»å‹ç³»ç»Ÿçš„ä¸€ç§æŠ€å·§å’Œæ€ç»´æ–¹å¼ï¼Œå®ƒå¯ä»¥å¸®åŠ©å¼€å‘è€…æ›´å¥½åœ°åˆ©ç”¨ç±»å‹æ£€æŸ¥æ¥æé«˜ä»£ç çš„å¯é æ€§å’Œå¥å£®æ€§ã€‚</p><h1>ä»£ç ç‰‡æ®µ</h1><p>åˆ¤æ–­ä¸¤ä¸ªç±»å‹æ˜¯å¦ç›¸ç­‰</p><pre><code class="language-ts">export type Equal&lt;X, Y&gt; = (&lt;T&gt;() =&gt; T extends X ? 1 : 2) extends &lt;T&gt;() =&gt; T extends Y ? 1 : 2  ? true  : false</code></pre><p>éå†ä¸€ä¸ªæ•°ç»„çš„ç±»å‹</p><pre><code class="language-ts">type TupleToObject&lt;T extends readonly any[]&gt; = {  // éå†å†™æ³•ï¼š[key in T[number]]  [key in T[number]]: key;};</code></pre><p>éå†è”åˆç±»å‹</p><pre><code class="language-ts">// å¯¹äºè”åˆç±»å‹ï¼Œextends è¯­æ³•ï¼Œä¼šæŠŠTä¸­æ¯ä¸€ä¸ªç±»å‹éƒ½æ‹¿å‡ºæ¥è¿›è¡Œä¸€æ¬¡åˆ¤æ–­type MyExclude&lt;T, U&gt; = T extends U ? never : T;// å†æ¥ä¸ªä¾‹å­ï¼Œå®ç°æ³›å‹IsUnion&lt;T&gt;ï¼Œå®ƒå¯ä»¥åˆ¤æ–­Tæ˜¯å¦ä¸ºè”åˆç±»å‹ã€‚T å¦‚æœæ˜¯è”åˆç±»å‹ï¼Œä¼šåˆ†æˆå¤šä¸ªå­ç±»å‹å’ŒB æ¯”è¾ƒï¼Œç„¶åå†åˆ¤æ–­// B çš„æ‰€æœ‰ç±»å‹æ˜¯ä¸æ˜¯å’Œå’ŒT çš„å­ç±»å‹ä¸€è‡´ï¼Œè¿™é‡Œåˆ©ç”¨[B] é˜»æ­¢ç¬¬äºŒä¸ªextends åšç±»å‹æ‹†åˆ†ã€‚type IsUnion&lt;T, B = T&gt; = T extends B ? [B] extends [T] ? false : true : never;// æµ‹è¯•type case1 = IsUnion&lt;string&gt;  // falsetype case2 = IsUnion&lt;string|number&gt;  // truetype case3 = IsUnion&lt;[string|number]&gt;  // false</code></pre><p>å­—ç¬¦ä¸²ç±»å‹åˆ¤æ–­</p><pre><code class="language-ts">// å¯¹äºå­—ç¬¦ä¸²çš„ç±»å‹åˆ¤æ–­ï¼Œå¯ä»¥ç”¨extends æ¥åˆ¤æ–­ï¼Œtype TrimsChars = &quot; &quot; | &quot;\n&quot; | &quot;\t&quot;;type TrimLeft&lt;S extends string&gt; = S extends `${TrimsChars}${infer R}`  ? TrimLeft&lt;R&gt;  : S;</code></pre><p>åˆå¹¶æ•°ç»„</p><pre><code class="language-ts">type Concat&lt;T extends any[], U extends any[]&gt; = [...T, ...U]</code></pre><p>ç”Ÿæˆæ•°ç»„</p><pre><code class="language-ts">type newArr&lt;T extends number, A extends any[] = []&gt; =   A['length'] extends T    ? A    : newArr&lt;T, [...A, '']&gt;type newArr&lt;5&gt; = ['','','','','']    </code></pre>]]></content>
    
    <summary type="html">
    
      
      
        &lt;blockquote&gt;
&lt;p&gt;&amp;quot;TSç±»å‹ä½“æ“&amp;quot;é€šå¸¸æ˜¯æŒ‡åœ¨TypeScriptä¸­ä½¿ç”¨ç±»å‹ç³»ç»Ÿçš„ä¸€ç§æŠ€å·§ï¼Œä»¥æ›´å¥½åœ°åˆ©ç”¨TypeScriptçš„ç±»å‹æ£€æŸ¥åŠŸèƒ½ã€‚TypeScriptæ˜¯JavaScriptçš„ä¸€ä¸ªè¶…é›†ï¼Œå®ƒæ·»åŠ äº†é™æ€ç±»å‹å®šä¹‰ï¼Œä½¿å¾—åœ¨å¼€å‘å¤§å‹åº”ç”¨ç¨‹åºæ—¶æ›´å®¹æ˜“è¿›
      
    
    </summary>
    
    
      <category term="TypeScript" scheme="https://zzz1220.github.io/tags/TypeScript/"/>
    
  </entry>
  
  <entry>
    <title>Promiseä¸ç»å¸¸ä½¿ç”¨çš„ä¸¤ä¸ªå‡½æ•°</title>
    <link href="https://zzz1220.github.io/posts/90d0eaa2/"/>
    <id>https://zzz1220.github.io/posts/90d0eaa2/</id>
    <published>2023-10-24T07:16:07.000Z</published>
    <updated>2023-11-08T07:30:39.880Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>Promise å‰ç«¯ç”¨çš„æ¯”è¾ƒå¤šï¼Œæ¯”å¦‚<code>Promise.all</code>, <code>Promise.race</code>, ä½†æ˜¯promiseä¸¤ä¸ªä¸å¤ªå¸¸è§çš„å‡½æ•°<code>Promise.allSettled()</code> å’Œ <code>Promise.any()</code></p></blockquote><h1>Promise.allSettled()</h1><p>Promise.allSettled() é™æ€æ–¹æ³•å°†ä¸€ä¸ª Promise å¯è¿­ä»£å¯¹è±¡ä½œä¸ºè¾“å…¥ï¼Œå¹¶è¿”å›ä¸€ä¸ªå•ç‹¬çš„ Promiseã€‚å½“æ‰€æœ‰è¾“å…¥çš„ Promise éƒ½å·²æ•²å®šæ—¶ï¼ˆåŒ…æ‹¬ä¼ å…¥ç©ºçš„å¯è¿­ä»£å¯¹è±¡æ—¶ï¼‰ï¼Œè¿”å›çš„ Promise å°†è¢«å…‘ç°ï¼Œå¹¶å¸¦æœ‰æè¿°æ¯ä¸ª Promise ç»“æœçš„å¯¹è±¡æ•°ç»„ã€‚</p><p>Promise.allSettled() æ–¹æ³•æ˜¯ promise å¹¶å‘æ–¹æ³•ä¹‹ä¸€ã€‚åœ¨ä½ æœ‰å¤šä¸ªä¸ä¾èµ–äºå½¼æ­¤æˆåŠŸå®Œæˆçš„å¼‚æ­¥ä»»åŠ¡æ—¶ï¼Œæˆ–è€…ä½ æ€»æ˜¯æƒ³çŸ¥é“æ¯ä¸ª promise çš„ç»“æœæ—¶ï¼Œä½¿ç”¨ Promise.allSettled() ã€‚</p><p>ç›¸æ¯”ä¹‹ä¸‹ï¼Œå¦‚æœä»»åŠ¡ç›¸äº’ä¾èµ–ï¼Œæˆ–è€…å¦‚æœä½ æƒ³åœ¨ä»»ä½• promise è¢«æ‹’ç»æ—¶ç«‹å³æ‹’ç»ï¼ŒPromise.all() è¿”å›çš„ Promise å¯èƒ½æ›´åˆé€‚ã€‚</p><h1>Promise.any()</h1><p>Promise.any() é™æ€æ–¹æ³•å°†ä¸€ä¸ª Promise å¯è¿­ä»£å¯¹è±¡ä½œä¸ºè¾“å…¥ï¼Œå¹¶è¿”å›ä¸€ä¸ª Promiseã€‚å½“è¾“å…¥çš„ä»»ä½•ä¸€ä¸ª Promise å…‘ç°æ—¶ï¼Œè¿™ä¸ªè¿”å›çš„ Promise å°†ä¼šå…‘ç°ï¼Œå¹¶è¿”å›ç¬¬ä¸€ä¸ªå…‘ç°çš„å€¼ã€‚å½“æ‰€æœ‰è¾“å…¥ Promise éƒ½è¢«æ‹’ç»ï¼ˆåŒ…æ‹¬ä¼ é€’äº†ç©ºçš„å¯è¿­ä»£å¯¹è±¡ï¼‰æ—¶ï¼Œå®ƒä¼šä»¥ä¸€ä¸ªåŒ…å«æ‹’ç»åŸå› æ•°ç»„çš„ AggregateError æ‹’ç»ã€‚</p><p>Promise.any() æ–¹æ³•æ˜¯ Promise å¹¶å‘æ–¹æ³•ä¹‹ä¸€ã€‚è¯¥æ–¹æ³•å¯¹äºè¿”å›ç¬¬ä¸€ä¸ªå…‘ç°çš„ Promise éå¸¸æœ‰ç”¨ã€‚ä¸€æ—¦æœ‰ä¸€ä¸ª Promise å…‘ç°ï¼Œå®ƒå°±ä¼šç«‹å³è¿”å›ï¼Œå› æ­¤ä¸ä¼šç­‰å¾…å…¶ä»– Promise å®Œæˆã€‚</p><p>ä¸ Promise.all() è¿”å›ä¸€ä¸ªå…‘ç°å€¼æ•°ç»„ä¸åŒçš„æ˜¯ï¼Œæˆ‘ä»¬åªä¼šå¾—åˆ°ä¸€ä¸ªå…‘ç°å€¼ï¼ˆå‡è®¾è‡³å°‘æœ‰ä¸€ä¸ª Promise è¢«å…‘ç°ï¼‰ã€‚æ­¤æ–¹æ³•å¯¹äºé‚£äº›å¦‚æœæˆ‘ä»¬åªéœ€è¦ä¸€ä¸ª Promise è¢«å…‘ç°ï¼Œä½†ä¸åœ¨æ„å“ªä¸€ä¸ªè¢«å…‘ç°çš„æƒ…å†µæ›´æœ‰ç›Šã€‚è¯·æ³¨æ„å¦ä¸€ä¸ªåŒºåˆ«ï¼šè¯¥æ–¹æ³•åœ¨æ¥æ”¶åˆ°ç©ºçš„å¯è¿­ä»£å¯¹è±¡æ—¶ä¼šæ‹’ç»ï¼Œå› ä¸ºå®é™…ä¸Šï¼Œè¯¥å¯è¿­ä»£å¯¹è±¡ä¸åŒ…å«ä»»ä½•å…‘ç°çš„é¡¹ã€‚ä½ å¯ä»¥å°† Promise.any() å’Œ Promise.all() ä¸ Array.prototype.some() å’Œ Array.prototype.every() è¿›è¡Œæ¯”è¾ƒã€‚</p><p>åŒæ—¶ï¼Œä¸ Promise.race() è¿”å›ç¬¬ä¸€ä¸ªæ•²å®šï¼ˆæ— è®ºæ˜¯å…‘ç°è¿˜æ˜¯æ‹’ç»ï¼‰çš„å€¼ä¸åŒçš„æ˜¯ï¼Œè¯¥æ–¹æ³•è¿”å›ç¬¬ä¸€ä¸ªå…‘ç°çš„å€¼ã€‚è¯¥æ–¹æ³•å¿½ç•¥æ‰€æœ‰è¢«æ‹’ç»çš„ Promiseï¼Œç›´åˆ°ç¬¬ä¸€ä¸ªè¢«å…‘ç°çš„ Promiseã€‚</p><p>å‚è€ƒï¼š<br><a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Promise" target="_blank" rel="noopener">https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Promise</a></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;blockquote&gt;
&lt;p&gt;Promise å‰ç«¯ç”¨çš„æ¯”è¾ƒå¤šï¼Œæ¯”å¦‚&lt;code&gt;Promise.all&lt;/code&gt;, &lt;code&gt;Promise.race&lt;/code&gt;, ä½†æ˜¯promiseä¸¤ä¸ªä¸å¤ªå¸¸è§çš„å‡½æ•°&lt;code&gt;Promise.allSettled()&lt;/code&gt; å’Œ
      
    
    </summary>
    
    
      <category term="TypeScript" scheme="https://zzz1220.github.io/tags/TypeScript/"/>
    
  </entry>
  
  <entry>
    <title>jsåˆ›å»ºäºŒç»´æ•°ç»„</title>
    <link href="https://zzz1220.github.io/posts/f6cbb8a5/"/>
    <id>https://zzz1220.github.io/posts/f6cbb8a5/</id>
    <published>2023-10-21T06:38:21.000Z</published>
    <updated>2023-11-08T07:30:23.108Z</updated>
    
    <content type="html"><![CDATA[<p><code>js</code> åˆ›å»ºäºŒç»´æ•°ç»„ä¸åƒ<code>java</code>é‚£ä¹ˆç›´ç™½</p><pre><code class="language-java">// åˆå§‹åŒ–ä¸€ä¸ª3 * 3 çš„äºŒç»´æ•°ç»„int nums[][] = new int[3][3];</code></pre><p>ä¹‹å‰æˆ‘éƒ½æ˜¯è¿™æ ·å†™çš„</p><pre><code class="language-javascript">const nums = new Array(3).fill(0).map(() =&gt; new Array(3).fill(0))</code></pre><p>ä»Šå¤©çœ‹åˆ°ä¸€ä¸ªæ›´ç®€æ´çš„å†™æ³•</p><pre><code class="language-javascript">const nums = Array.from({ length: 3 }, () =&gt; [0,0,0]);</code></pre><p>ä¸»è¦æ˜¯åˆ©ç”¨äº†<code>Array.from</code>è¿™ä¸ªè¯­æ³•<br><a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Array/from" target="_blank" rel="noopener">https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Array/from</a></p><p>Array.from(arrayLike)<br>Array.from(arrayLike, mapFn)<br>Array.from(arrayLike, mapFn, thisArg)</p><p>ä¸»è¦æ˜¯ç¬¬ä¸€ä¸ªå‚æ•°ï¼Œå¯ä»¥ä¼ å…¥ä¸€ä¸ªarrayLikeå¯¹è±¡ï¼Œè¿™é‡Œå¯ä»¥ä¼ <code>{ length: 3 }</code>ï¼Œæ¯”èµ·æˆ‘ä¹‹å‰çš„å†™æ³•ï¼Œçœ‹èµ·æ¥æ›´ç®€æ´å’Œå¯è¯»ã€‚</p><pre><code class="language-javascript">console.log(Array.from('foo'));// Expected output: Array [&quot;f&quot;, &quot;o&quot;, &quot;o&quot;]console.log(Array.from([1, 2, 3], (x) =&gt; x + x));// Expected output: Array [2, 4, 6]</code></pre>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;&lt;code&gt;js&lt;/code&gt; åˆ›å»ºäºŒç»´æ•°ç»„ä¸åƒ&lt;code&gt;java&lt;/code&gt;é‚£ä¹ˆç›´ç™½&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;language-java&quot;&gt;// åˆå§‹åŒ–ä¸€ä¸ª3 * 3 çš„äºŒç»´æ•°ç»„
int nums[][] = new int[3][3];
&lt;/co
      
    
    </summary>
    
    
      <category term="JavaScript" scheme="https://zzz1220.github.io/tags/JavaScript/"/>
    
  </entry>
  
  <entry>
    <title>æœ€ç®€å•çš„cssæ’ç‰ˆä»£ç </title>
    <link href="https://zzz1220.github.io/posts/ba9e13e/"/>
    <id>https://zzz1220.github.io/posts/ba9e13e/</id>
    <published>2022-11-20T18:24:45.000Z</published>
    <updated>2023-11-07T06:53:35.497Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>RT, å‡ è¡Œç®€å•çš„css ä»£ç è®©ä½ çš„æ’ç‰ˆçœ‹èµ·æ¥not bad, psï¼ˆè¿™ç¯‡post æ˜¯ç”¨ github Codespaces æäº¤çš„ï¼‰ã€‚</p></blockquote><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="selector-tag">html</span> &#123;</span><br><span class="line">  <span class="attribute">max-width</span>: <span class="number">70ch</span>;</span><br><span class="line">  <span class="attribute">padding</span>: <span class="number">3em</span> <span class="number">1em</span>;</span><br><span class="line">  <span class="attribute">margin</span>: auto;</span><br><span class="line">  <span class="attribute">line-height</span>: <span class="number">1.75</span>;</span><br><span class="line">  <span class="attribute">font-size</span>: <span class="number">1.25em</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-tag">h1</span>,</span><br><span class="line"><span class="selector-tag">h2</span>,</span><br><span class="line"><span class="selector-tag">h3</span>,</span><br><span class="line"><span class="selector-tag">h4</span>,</span><br><span class="line"><span class="selector-tag">h5</span>,</span><br><span class="line"><span class="selector-tag">h6</span> &#123;</span><br><span class="line">  <span class="attribute">margin</span>: <span class="number">3em</span> <span class="number">0</span> <span class="number">1em</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-tag">p</span>,</span><br><span class="line"><span class="selector-tag">ul</span>,</span><br><span class="line"><span class="selector-tag">ol</span> &#123;</span><br><span class="line">  <span class="attribute">margin-bottom</span>: <span class="number">2em</span>;</span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#1d1d1d</span>;</span><br><span class="line">  <span class="attribute">font-family</span>: sans-serif;</span><br><span class="line">&#125;</span><br><span class="line">  </span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;blockquote&gt;
&lt;p&gt;RT, å‡ è¡Œç®€å•çš„css ä»£ç è®©ä½ çš„æ’ç‰ˆçœ‹èµ·æ¥not bad, psï¼ˆè¿™ç¯‡post æ˜¯ç”¨ github Codespaces æäº¤çš„ï¼‰ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;figure class=&quot;highlight css&quot;&gt;&lt;table&gt;
      
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>å‡ ä¸ªæœ‰æ„æ€çš„æ™ºåŠ›é¢˜</title>
    <link href="https://zzz1220.github.io/posts/b998d6a0/"/>
    <id>https://zzz1220.github.io/posts/b998d6a0/</id>
    <published>2021-07-19T15:06:10.000Z</published>
    <updated>2023-11-07T06:53:35.496Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>ä¸ºäº†é”»ç‚¼è„‘åŠ›ï¼Œé¿å…æå‰æ‚£ä¸Šè€å¹´ç—´å‘†ç—‡ï¼Œæœ‰å¿…è¦åšä¸€äº›é”»ç‚¼æ€ç»´çš„æ™ºåŠ›é¢˜ã€‚ğŸ™‚è¿™é‡Œä¸ç»™å‡ºç­”æ¡ˆï¼Œç­”æ¡ˆç½‘ä¸Šéƒ½æœ‰ï¼Œåªç»™ä¸€ç‚¹æç¤ºã€‚</p></blockquote><h2 id="1-1000ç“¶è¯æ°´æ‰¾æ¯’è¯"><a class="header-anchor" href="#1-1000ç“¶è¯æ°´æ‰¾æ¯’è¯">Â¶</a>1.1000ç“¶è¯æ°´æ‰¾æ¯’è¯</h2><p>ä¸€é“ç»å…¸é¢˜ï¼Œç½‘ä¸Šéƒ½è¯´æ˜¯å¾®è½¯é¢è¯•é¢˜ï¼Œä½†è²Œä¼¼è¿™å‡ å¹´æ²¡è§å¾®è½¯è€ƒè¿‡â€¦</p><p>é¢˜ç›®æè¿°å¦‚ä¸‹ï¼š</p><p>ä¸€å…± 1000 ç“¶è¯æ°´ï¼Œå…¶ä¸­ 1 ç“¶æœ‰æ¯’è¯ã€‚<br>å·²çŸ¥å°ç™½é¼ å–æ¯’è¯ä¸€å¤©å†…æ­»<br>è‹¥æƒ³åœ¨ä¸€å¤©å†…æ‰¾åˆ°æ¯’è¯ï¼Œæœ€å°‘éœ€è¦å‡ åªå°ç™½é¼ ï¼Ÿ</p><p><strong>å…³é”®å­—ï¼šäºŒè¿›åˆ¶</strong></p><h2 id="2-æŠ¢30"><a class="header-anchor" href="#2-æŠ¢30">Â¶</a>2.æŠ¢30</h2><p>æŠ¢ 30 æ˜¯åŒäººæ¸¸æˆ<br>æ¸¸æˆè§„åˆ™æ˜¯ï¼šç¬¬ä¸€ä¸ªäººå–Š â€œ 1 â€æˆ– â€œ 2 â€ï¼Œç¬¬äºŒä¸ªäººè¦æ¥ç€å¾€ä¸‹å–Šä¸€ä¸ªæˆ–ä¸¤ä¸ªæ•°ï¼Œç„¶åå†è½®åˆ°ç¬¬ä¸€ä¸ªäººã€‚ä¸¤äººè½®æµè¿›è¡Œä¸‹å»ã€‚æœ€åå–Š 30 çš„äººè·èƒœã€‚é—®å–Šæ•°å­—çš„æœ€ä½³ç­–ç•¥ã€‚</p><p><strong>å…³é”®å­—ï¼šbashåšå¼ˆ</strong></p><h2 id="3-ä¸‰ä¸ªç©ºç“¶å­"><a class="header-anchor" href="#3-ä¸‰ä¸ªç©ºç“¶å­">Â¶</a>3.ä¸‰ä¸ªç©ºç“¶å­</h2><p>æœ‰ä¸‰ä¸ªç©ºç“¶å­ï¼Œä¸€ä¸ª8Lï¼Œä¸€ä¸ª5Lï¼Œä¸€ä¸ª3Lï¼Œç›®å‰8Lçš„ç“¶å­è£…æ»¡äº†ç‰›å¥¶ã€‚è¯•é—®ï¼Œå¦‚æœåœ¨ä¸æµªè´¹ä¸€æ»´æ°´å’Œæ— åˆ»åº¦çš„æƒ…å†µä¸‹ï¼Œå¦‚ä½•æµ‹é‡å‡º4Lçš„ç‰›å¥¶ï¼Ÿ</p><p><strong>å…³é”®å­—: æ¨¡æ‹Ÿï¼Œåæ¨</strong></p><h2 id="4-ç¯æ³¡å¼€å…³"><a class="header-anchor" href="#4-ç¯æ³¡å¼€å…³">Â¶</a>4.ç¯æ³¡å¼€å…³</h2><p>ä¸€ä¸ªåœ†ç¯ä¸Šæœ‰ 100 ä¸ªç¯æ³¡ï¼Œç¯æ³¡æœ‰äº®å’Œæš—ä¸¤ç§çŠ¶æ€ã€‚æŒ‰ä¸€ä¸ªç¯æ³¡çš„å¼€å…³å¯ä»¥æ”¹å˜å®ƒå’Œä¸å®ƒç›¸é‚»ä¸¤ä¸ªç¯æ³¡çš„çŠ¶æ€ã€‚ è®¾è®¡ä¸€ç§ç®—æ³•ï¼Œå¯¹äºä»»æ„åˆå§‹çŠ¶æ€ï¼Œä½¿æ‰€æœ‰ç¯æ³¡å…¨äº®ã€‚</p><p><strong>å…³é”®å­—ï¼šæ¨¡æ‹Ÿï¼Œåæ¨ï¼Œä»å…¨ç­å¯ä»¥æ¢å¤åˆ°å…¨äº®ã€‚</strong></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;blockquote&gt;
&lt;p&gt;ä¸ºäº†é”»ç‚¼è„‘åŠ›ï¼Œé¿å…æå‰æ‚£ä¸Šè€å¹´ç—´å‘†ç—‡ï¼Œæœ‰å¿…è¦åšä¸€äº›é”»ç‚¼æ€ç»´çš„æ™ºåŠ›é¢˜ã€‚ğŸ™‚è¿™é‡Œä¸ç»™å‡ºç­”æ¡ˆï¼Œç­”æ¡ˆç½‘ä¸Šéƒ½æœ‰ï¼Œåªç»™ä¸€ç‚¹æç¤ºã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2 id=&quot;1-1000ç“¶è¯æ°´æ‰¾æ¯’è¯&quot;&gt;&lt;a class=&quot;header-anchor&quot; 
      
    
    </summary>
    
    
      <category term="-æ™ºåŠ›é¢˜" scheme="https://zzz1220.github.io/tags/%E6%99%BA%E5%8A%9B%E9%A2%98/"/>
    
  </entry>
  
  <entry>
    <title>rediså¸¸è§çš„ä½¿ç”¨æ¡ˆä¾‹</title>
    <link href="https://zzz1220.github.io/posts/753a7543/"/>
    <id>https://zzz1220.github.io/posts/753a7543/</id>
    <published>2021-05-30T12:15:43.000Z</published>
    <updated>2023-11-07T06:53:35.496Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p><code>redis</code>é™¤äº†ç¼“å­˜ï¼Œè¿˜æœ‰å¾ˆå¤šçš„ä½¿ç”¨æ–¹å¼ï¼Œäº’è”ç½‘é¡¹ç›®çš„å¾ˆå¤šåŠŸèƒ½éƒ½æ˜¯é€šè¿‡<code>redis</code>å®ç°çš„ï¼Œä»Šå¤©ç®€å•ä»‹ç»ä¸€äº›ã€‚</p></blockquote><h2 id="ç®€å•å›é¡¾ä¸‹redisæ˜¯ä»€ä¹ˆ"><a class="header-anchor" href="#ç®€å•å›é¡¾ä¸‹redisæ˜¯ä»€ä¹ˆ">Â¶</a>ç®€å•å›é¡¾ä¸‹redisæ˜¯ä»€ä¹ˆ</h2><p><code>Redis</code>æ˜¯ä¸€ä¸ªä½¿ç”¨<code>ANSI C</code>ç¼–å†™çš„å¼€æºã€æ”¯æŒç½‘ç»œã€åŸºäºå†…å­˜ã€åˆ†å¸ƒå¼ã€å¯é€‰æŒä¹…æ€§çš„é”®å€¼å¯¹å­˜å‚¨æ•°æ®åº“ã€‚ä»2015å¹´6æœˆå¼€å§‹ï¼Œ<code>Redis</code>çš„å¼€å‘ç”±<code>Redis Labs</code>èµåŠ©ï¼Œè€Œ2013å¹´5æœˆè‡³2015å¹´6æœˆæœŸé—´ï¼Œå…¶å¼€å‘ç”±<code>Pivotal</code>èµåŠ©ã€‚åœ¨2013å¹´5æœˆä¹‹å‰ï¼Œå…¶å¼€å‘ç”±<code>VMware</code>èµåŠ©ã€‚æ ¹æ®æœˆåº¦æ’è¡Œç½‘ç«™<code>DB-Engines.com</code>çš„æ•°æ®ï¼Œ<code>Redis</code>æ˜¯æœ€æµè¡Œçš„é”®å€¼å¯¹å­˜å‚¨æ•°æ®åº“ã€‚</p><h2 id="redisçš„ç‰¹ç‚¹"><a class="header-anchor" href="#redisçš„ç‰¹ç‚¹">Â¶</a>redisçš„ç‰¹ç‚¹</h2><ol><li>é«˜æ€§èƒ½<br>æ€§èƒ½æé«˜ â€“ <code>Redis</code>èƒ½è¯»çš„é€Ÿåº¦æ˜¯110000æ¬¡/s,å†™çš„é€Ÿåº¦æ˜¯81000æ¬¡/s ã€‚</li><li>å’ŒåŸç”Ÿè¯­è¨€æ— ç¼çš„æ•°æ®ç»“æ„<br><code>Redis</code>æ”¯æŒäºŒè¿›åˆ¶æ¡ˆä¾‹çš„ <code>Strings</code>, <code>Lists</code>, <code>Hashes</code>, <code>Sets</code> åŠ <code>Ordered Sets</code> æ•°æ®ç±»å‹æ“ä½œã€‚</li><li>ä¸°å¯Œçš„ç‰¹æ€§<br>Redisè¿˜æ”¯æŒ <code>publish/subscribe</code>, é€šçŸ¥, <code>key</code> è¿‡æœŸç­‰ç­‰ç‰¹æ€§ã€‚</li><li>æ”¯æŒæŒä¹…åŒ–<br><code>Redis</code>æ”¯æŒæ•°æ®çš„æŒä¹…åŒ–ï¼Œå¯ä»¥å°†å†…å­˜ä¸­çš„æ•°æ®ä¿å­˜åœ¨ç£ç›˜ä¸­ï¼Œé‡å¯çš„æ—¶å€™å¯ä»¥å†æ¬¡åŠ è½½è¿›è¡Œä½¿ç”¨ã€‚</li><li>åˆ†å¸ƒå¼<br><code>Redis</code>æ”¯æŒæ•°æ®çš„å¤‡ä»½ï¼Œå³<code>master-slave</code>æ¨¡å¼çš„æ•°æ®å¤‡ä»½ã€‚</li><li>é«˜å¯ç”¨<br><code>Redis Sentinel</code> ä¸€ä¸ªåˆ†å¸ƒå¼æ¶æ„ï¼Œç›‘æ§å„ä¸ªæœºå™¨çš„çŠ¶æ€åŠæ—¶ä½œå‡ºè°ƒæ•´ï¼Œé‡æ–°é€‰å–ä¸»èŠ‚ç‚¹ã€‚</li></ol><h2 id="äº”ç§æ•°æ®ç±»å‹å’Œå¸¸è§ç”¨æ³•"><a class="header-anchor" href="#äº”ç§æ•°æ®ç±»å‹å’Œå¸¸è§ç”¨æ³•">Â¶</a>äº”ç§æ•°æ®ç±»å‹å’Œå¸¸è§ç”¨æ³•</h2><h3 id="1-string"><a class="header-anchor" href="#1-string">Â¶</a>1. <code>string</code></h3><p><code>string</code>åœ¨<code>redis</code>é‡Œæ˜¯é€šè¿‡å­—ç¬¦æ•°ç»„å®ç°çš„ã€‚ä½ å¯ä»¥ç†è§£æˆä¸ Memcached ä¸€æ¨¡ä¸€æ ·çš„ç±»å‹ï¼Œä¸€ä¸ª key å¯¹åº”ä¸€ä¸ª valueã€‚valueå…¶å®ä¸ä»…æ˜¯Stringï¼Œä¹Ÿå¯ä»¥æ˜¯æ•°å­—ã€‚string ç±»å‹æ˜¯äºŒè¿›åˆ¶å®‰å…¨çš„ã€‚æ„æ€æ˜¯ redis çš„ string å¯ä»¥åŒ…å«ä»»ä½•æ•°æ®ã€‚æ¯”å¦‚jpgå›¾ç‰‡æˆ–è€…åºåˆ—åŒ–çš„å¯¹è±¡ã€‚string ç±»å‹æ˜¯ Redis æœ€åŸºæœ¬çš„æ•°æ®ç±»å‹ï¼Œstring ç±»å‹çš„å€¼æœ€å¤§èƒ½å­˜å‚¨ 512MBã€‚</p><h4 id="å¸¸è§çš„åœºæ™¯"><a class="header-anchor" href="#å¸¸è§çš„åœºæ™¯">Â¶</a>å¸¸è§çš„åœºæ™¯</h4><ol><li><code>json</code>å­—ç¬¦ä¸²å‚¨å­˜ç¼“å­˜</li><li><code>string</code>ä¹Ÿå¯ä»¥æ˜¯ä¸€ä¸ªæ•°å­—ï¼Œæ‰€ä»¥ä¹Ÿå¯ä»¥ä½œä¸ºè®¡æ•°å™¨ï¼Œä½¿ç”¨<code>INCR</code>å‘½ä»¤</li><li><code>redis</code>ä¹Ÿæ”¯æŒäºŒè¿›åˆ¶ï¼Œæ‰€ä»¥å¯ä»¥å½“ä½œä¸€ä¸ª<code>bitmap</code>,æŠŠå›ºå®šé•¿åº¦çš„bitä½å‚¨å­˜æ•°æ®ã€‚</li><li>å¸ƒéš†è¿‡æ»¤å™¨ï¼Œä¸€ä¸ªå¾ˆé•¿çš„äºŒè¿›åˆ¶å‘é‡ï¼Œä½œä¸ºè¶…å¤§çš„åŒ…å«å…³ç³»çš„æŸ¥è¯¢ã€‚è¯¦ç»†ç‚¹å‡»<a href="https://www.huaweicloud.com/articles/cd70d43549f0a4c36641be61780ab66a.html">è¿™é‡Œ</a></li><li>åˆ†å¸ƒå¼é”ï¼Œæ¯”è¾ƒå¤æ‚ï¼Œå¯ä»¥çœ‹ä¸‹<a href="https://xiaomi-info.github.io/2019/12/17/redis-distributed-lock/">è¿™é‡Œ</a>ã€‚</li></ol><p>å¸¸ç”¨å‘½ä»¤ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">APPEND key value</span><br><span class="line">summary: Append a value to a key</span><br><span class="line">since: 2.0.0</span><br><span class="line"></span><br><span class="line">BITCOUNT key [start end]</span><br><span class="line">summary: Count <span class="built_in">set</span> bits <span class="keyword">in</span> a string</span><br><span class="line">since: 2.6.0</span><br><span class="line"></span><br><span class="line">BITFIELD key [GET <span class="built_in">type</span> offset] [SET <span class="built_in">type</span> offset value] [INCRBY <span class="built_in">type</span> offset increment] [OVERFLOW WRAP|SAT|FAIL]</span><br><span class="line">summary: Perform arbitrary bitfield <span class="built_in">integer</span> operations on strings</span><br><span class="line">since: 3.2.0</span><br><span class="line"></span><br><span class="line">BITOP operation destkey key [key ...]</span><br><span class="line">summary: Perform bitwise operations between strings</span><br><span class="line">since: 2.6.0</span><br><span class="line"></span><br><span class="line">BITPOS key bit [start] [end]</span><br><span class="line">summary: Find first bit <span class="built_in">set</span> or clear <span class="keyword">in</span> a string</span><br><span class="line">since: 2.8.7</span><br><span class="line"></span><br><span class="line">DECR key</span><br><span class="line">summary: Decrement the <span class="built_in">integer</span> value of a key by one</span><br><span class="line">since: 1.0.0</span><br><span class="line"></span><br><span class="line">DECRBY key decrement</span><br><span class="line">summary: Decrement the <span class="built_in">integer</span> value of a key by the given number</span><br><span class="line">since: 1.0.0</span><br><span class="line"></span><br><span class="line">GET key</span><br><span class="line">summary: Get the value of a key</span><br><span class="line">since: 1.0.0</span><br><span class="line"></span><br><span class="line">GETBIT key offset</span><br><span class="line">summary: Returns the bit value at offset <span class="keyword">in</span> the string value stored at key</span><br><span class="line">since: 2.2.0</span><br><span class="line"></span><br><span class="line">GETRANGE key start end</span><br><span class="line">summary: Get a substring of the string stored at a key</span><br><span class="line">since: 2.4.0</span><br><span class="line"></span><br><span class="line">GETSET key value</span><br><span class="line">summary: Set the string value of a key and <span class="built_in">return</span> its old value</span><br><span class="line">since: 1.0.0</span><br><span class="line"></span><br><span class="line">INCR key</span><br><span class="line">summary: Increment the <span class="built_in">integer</span> value of a key by one</span><br><span class="line">since: 1.0.0</span><br><span class="line"></span><br><span class="line">INCRBY key increment</span><br><span class="line">summary: Increment the <span class="built_in">integer</span> value of a key by the given amount</span><br><span class="line">since: 1.0.0</span><br><span class="line"></span><br><span class="line">INCRBYFLOAT key increment</span><br><span class="line">summary: Increment the <span class="built_in">float</span> value of a key by the given amount</span><br><span class="line">since: 2.6.0</span><br><span class="line"></span><br><span class="line">MGET key [key ...]</span><br><span class="line">summary: Get the values of all the given keys</span><br><span class="line">since: 1.0.0</span><br><span class="line"></span><br><span class="line">MSET key value [key value ...]</span><br><span class="line">summary: Set multiple keys to multiple values</span><br><span class="line">since: 1.0.1</span><br><span class="line"></span><br><span class="line">MSETNX key value [key value ...]</span><br><span class="line">summary: Set multiple keys to multiple values, only <span class="keyword">if</span> none of the keys exist</span><br><span class="line">since: 1.0.1</span><br><span class="line"></span><br><span class="line">PSETEX key milliseconds value</span><br><span class="line">summary: Set the value and expiration <span class="keyword">in</span> milliseconds of a key</span><br><span class="line">since: 2.6.0</span><br><span class="line"></span><br><span class="line">SET key value [EX seconds] [PX milliseconds] [NX|XX]</span><br><span class="line">summary: Set the string value of a key</span><br><span class="line">since: 1.0.0</span><br><span class="line"></span><br><span class="line">SETBIT key offset value</span><br><span class="line">summary: Sets or clears the bit at offset <span class="keyword">in</span> the string value stored at key</span><br><span class="line">since: 2.2.0</span><br><span class="line"></span><br><span class="line">SETEX key seconds value</span><br><span class="line">summary: Set the value and expiration of a key</span><br><span class="line">since: 2.0.0</span><br><span class="line"></span><br><span class="line">SETNX key value</span><br><span class="line">summary: Set the value of a key, only <span class="keyword">if</span> the key does not exist</span><br><span class="line">since: 1.0.0</span><br><span class="line"></span><br><span class="line">SETRANGE key offset value</span><br><span class="line">summary: Overwrite part of a string at key starting at the specified offset</span><br><span class="line">since: 2.2.0</span><br><span class="line"></span><br><span class="line">STRLEN key</span><br><span class="line">summary: Get the length of the value stored <span class="keyword">in</span> a key</span><br><span class="line">since: 2.2.0</span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="2-hash"><a class="header-anchor" href="#2-hash">Â¶</a>2. hash</h3><p>Hash æ˜¯ä¸€ä¸ªé”®å€¼(key =&gt; value)å¯¹é›†åˆã€‚Redis hash æ˜¯ä¸€ä¸ª string ç±»å‹çš„ field å’Œ value çš„æ˜ å°„è¡¨ï¼Œhash ç‰¹åˆ«é€‚åˆç”¨äºå­˜å‚¨å¯¹è±¡ã€‚æ¯”å¦‚å‚¨å­˜ç”¨æˆ·ä¿¡æ¯ã€‚ç”¨æˆ·idä½œä¸ºkeyï¼Œå§“åï¼Œå¹´é¾„ï¼Œç”Ÿæ—¥ç­‰ä¿¡æ¯å¯ä»¥ç»´æŠ¤åºåˆ—åŒ–çš„å¯¹è±¡ã€‚</p><h4 id="ä½¿ç”¨åœºæ™¯"><a class="header-anchor" href="#ä½¿ç”¨åœºæ™¯">Â¶</a>ä½¿ç”¨åœºæ™¯</h4><ol><li>å­˜å‚¨å¯¹è±¡ç±»æ•°æ®ï¼Œå› æ­¤å¯ä»¥å­˜ä¸€äº›ç»“æ„åŒ–çš„æ•°æ®ï¼Œæ¯”å¦‚è´­ç‰©è½¦ï¼Œç”¨æˆ·åŸºæœ¬ä¿¡æ¯ã€‚</li></ol><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">HDEL key field [field ...]</span><br><span class="line">summary: Delete one or more <span class="built_in">hash</span> fields</span><br><span class="line">since: 2.0.0</span><br><span class="line"></span><br><span class="line">HEXISTS key field</span><br><span class="line">summary: Determine <span class="keyword">if</span> a <span class="built_in">hash</span> field exists</span><br><span class="line">since: 2.0.0</span><br><span class="line"></span><br><span class="line">HGET key field</span><br><span class="line">summary: Get the value of a <span class="built_in">hash</span> field</span><br><span class="line">since: 2.0.0</span><br><span class="line"></span><br><span class="line">HGETALL key</span><br><span class="line">summary: Get all the fields and values <span class="keyword">in</span> a <span class="built_in">hash</span></span><br><span class="line">since: 2.0.0</span><br><span class="line"></span><br><span class="line">HINCRBY key field increment</span><br><span class="line">summary: Increment the <span class="built_in">integer</span> value of a <span class="built_in">hash</span> field by the given number</span><br><span class="line">since: 2.0.0</span><br><span class="line"></span><br><span class="line">HINCRBYFLOAT key field increment</span><br><span class="line">summary: Increment the <span class="built_in">float</span> value of a <span class="built_in">hash</span> field by the given amount</span><br><span class="line">since: 2.6.0</span><br><span class="line"></span><br><span class="line">HKEYS key</span><br><span class="line">summary: Get all the fields <span class="keyword">in</span> a <span class="built_in">hash</span></span><br><span class="line">since: 2.0.0</span><br><span class="line"></span><br><span class="line">HLEN key</span><br><span class="line">summary: Get the number of fields <span class="keyword">in</span> a <span class="built_in">hash</span></span><br><span class="line">since: 2.0.0</span><br><span class="line"></span><br><span class="line">HMGET key field [field ...]</span><br><span class="line">summary: Get the values of all the given <span class="built_in">hash</span> fields</span><br><span class="line">since: 2.0.0</span><br><span class="line"></span><br><span class="line">HMSET key field value [field value ...]</span><br><span class="line">summary: Set multiple <span class="built_in">hash</span> fields to multiple values</span><br><span class="line">since: 2.0.0</span><br><span class="line"></span><br><span class="line">HSCAN key cursor [MATCH pattern] [COUNT count]</span><br><span class="line">summary: Incrementally iterate <span class="built_in">hash</span> fields and associated values</span><br><span class="line">since: 2.8.0</span><br><span class="line"></span><br><span class="line">HSET key field value</span><br><span class="line">summary: Set the string value of a <span class="built_in">hash</span> field</span><br><span class="line">since: 2.0.0</span><br><span class="line"></span><br><span class="line">HSETNX key field value</span><br><span class="line">summary: Set the value of a <span class="built_in">hash</span> field, only <span class="keyword">if</span> the field does not exist</span><br><span class="line">since: 2.0.0</span><br><span class="line"></span><br><span class="line">HSTRLEN key field</span><br><span class="line">summary: Get the length of the value of a <span class="built_in">hash</span> field</span><br><span class="line">since: 3.2.0</span><br><span class="line"></span><br><span class="line">HVALS key</span><br><span class="line">summary: Get all the values <span class="keyword">in</span> a <span class="built_in">hash</span></span><br><span class="line">since: 2.0.0</span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="3-list"><a class="header-anchor" href="#3-list">Â¶</a>3. list</h3><p>list åˆ—è¡¨æ˜¯ç®€å•çš„å­—ç¬¦ä¸²åˆ—è¡¨ï¼ŒæŒ‰ç…§æ’å…¥é¡ºåºæ’åºã€‚ä½ å¯ä»¥æ·»åŠ ä¸€ä¸ªå…ƒç´ åˆ°åˆ—è¡¨çš„å¤´éƒ¨ï¼ˆå·¦è¾¹ï¼‰æˆ–è€…å°¾éƒ¨ï¼ˆå³è¾¹ï¼‰ã€‚<br>å¯ä»¥ä½œä¸ºä¸€ä¸ªç®€å•çš„æ¶ˆæ¯é˜Ÿåˆ—ã€‚</p><h4 id="ä½¿ç”¨åœºæ™¯-v2"><a class="header-anchor" href="#ä½¿ç”¨åœºæ™¯-v2">Â¶</a>ä½¿ç”¨åœºæ™¯</h4><ol><li>ç®€æ˜“æ¶ˆæ¯é˜Ÿåˆ—ï¼Œå³(å·¦)è¾¹è¿›å·¦(å³)è¾¹å‡ºï¼Œç”¨æ¥æ¶ˆè´¹é˜Ÿåˆ—é‡Œçš„ä¿¡æ¯ã€‚ä½†æ˜¯ackæœºåˆ¶éº»çƒ¦ï¼Œå¤æ‚åœºæ™¯è¿˜æ˜¯ä½¿ç”¨ä¸“ä¸šçš„mqã€‚</li><li>ä½œä¸ºæ ˆä½¿ç”¨ï¼Œæ”¯æŒå³(å·¦)è¾¹è¿›å³(å·¦)è¾¹å‡ºã€‚</li><li>ç”¨äºå‚¨å­˜çº¿æ€§æ•°æ®ï¼Œæ¯”å¦‚æŸä¸ªäººçš„å…³æ³¨åˆ—è¡¨ã€‚æ–‡ç« ç‚¹èµçš„äººçš„idã€‚</li></ol><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">BLPOP key [key ...] <span class="built_in">timeout</span></span><br><span class="line">summary: Remove and get the first element <span class="keyword">in</span> a list, or block <span class="keyword">until</span> one is available</span><br><span class="line">since: 2.0.0</span><br><span class="line"></span><br><span class="line">BRPOP key [key ...] <span class="built_in">timeout</span></span><br><span class="line">summary: Remove and get the last element <span class="keyword">in</span> a list, or block <span class="keyword">until</span> one is available</span><br><span class="line">since: 2.0.0</span><br><span class="line"></span><br><span class="line">BRPOPLPUSH <span class="built_in">source</span> destination <span class="built_in">timeout</span></span><br><span class="line">summary: Pop a value from a list, push it to another list and <span class="built_in">return</span> it; or block <span class="keyword">until</span> one is available</span><br><span class="line">since: 2.2.0</span><br><span class="line"></span><br><span class="line">LINDEX key index</span><br><span class="line">summary: Get an element from a list by its index</span><br><span class="line">since: 1.0.0</span><br><span class="line"></span><br><span class="line">LINSERT key BEFORE|AFTER pivot value</span><br><span class="line">summary: Insert an element before or after another element <span class="keyword">in</span> a list</span><br><span class="line">since: 2.2.0</span><br><span class="line"></span><br><span class="line">LLEN key</span><br><span class="line">summary: Get the length of a list</span><br><span class="line">since: 1.0.0</span><br><span class="line"></span><br><span class="line">LPOP key</span><br><span class="line">summary: Remove and get the first element <span class="keyword">in</span> a list</span><br><span class="line">since: 1.0.0</span><br><span class="line"></span><br><span class="line">LPUSH key value [value ...]</span><br><span class="line">summary: Prepend one or multiple values to a list</span><br><span class="line">since: 1.0.0</span><br><span class="line"></span><br><span class="line">LPUSHX key value</span><br><span class="line">summary: Prepend a value to a list, only <span class="keyword">if</span> the list exists</span><br><span class="line">since: 2.2.0</span><br><span class="line"></span><br><span class="line">LRANGE key start stop</span><br><span class="line">summary: Get a range of elements from a list</span><br><span class="line">since: 1.0.0</span><br><span class="line"></span><br><span class="line">LREM key count value</span><br><span class="line">summary: Remove elements from a list</span><br><span class="line">since: 1.0.0</span><br><span class="line"></span><br><span class="line">LSET key index value</span><br><span class="line">summary: Set the value of an element <span class="keyword">in</span> a list by its index</span><br><span class="line">since: 1.0.0</span><br><span class="line"></span><br><span class="line">LTRIM key start stop</span><br><span class="line">summary: Trim a list to the specified range</span><br><span class="line">since: 1.0.0</span><br><span class="line"></span><br><span class="line">RPOP key</span><br><span class="line">summary: Remove and get the last element <span class="keyword">in</span> a list</span><br><span class="line">since: 1.0.0</span><br><span class="line"></span><br><span class="line">RPOPLPUSH <span class="built_in">source</span> destination</span><br><span class="line">summary: Remove the last element <span class="keyword">in</span> a list, prepend it to another list and <span class="built_in">return</span> it</span><br><span class="line">since: 1.2.0</span><br><span class="line"></span><br><span class="line">RPUSH key value [value ...]</span><br><span class="line">summary: Append one or multiple values to a list</span><br><span class="line">since: 1.0.0</span><br><span class="line"></span><br><span class="line">RPUSHX key value</span><br><span class="line">summary: Append a value to a list, only <span class="keyword">if</span> the list exists</span><br><span class="line">since: 2.2.0</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="4-set"><a class="header-anchor" href="#4-set">Â¶</a>4. set</h3><p>set æ˜¯stringç±»å‹çš„æ— åºé›†åˆã€‚é›†åˆæ˜¯é€šè¿‡hashtableå®ç°çš„ï¼Œæ¦‚å¿µå’Œæ•°å­¦ä¸­ä¸ªçš„é›†åˆåŸºæœ¬ç±»ä¼¼ï¼Œå¯ä»¥äº¤é›†ï¼Œå¹¶é›†ï¼Œå·®é›†ç­‰ç­‰ï¼Œsetä¸­çš„å…ƒç´ æ˜¯æ²¡æœ‰é¡ºåºçš„ã€‚æ‰€ä»¥æ·»åŠ ï¼Œåˆ é™¤ï¼ŒæŸ¥æ‰¾çš„å¤æ‚åº¦éƒ½æ˜¯O(1)ã€‚</p><h3 id="ä½¿ç”¨åœºæ™¯-v3"><a class="header-anchor" href="#ä½¿ç”¨åœºæ™¯-v3">Â¶</a>ä½¿ç”¨åœºæ™¯</h3><ol><li>å»é‡ï¼Œå¤šå°æœåŠ¡å¯ä»¥æ”¾åœ¨ä¸€ä¸ªseté‡Œå»é‡ã€‚</li><li>redis æä¾›äº†æ±‚äº¤é›†ã€å¹¶é›†ã€å·®é›†çš„æ“ä½œï¼Œå¯ä»¥éå¸¸æ–¹ä¾¿çš„å®ç°å¦‚å…±åŒå…³æ³¨ã€å…±åŒå–œå¥½ã€äºŒåº¦å¥½å‹ç­‰åŠŸèƒ½ã€‚</li></ol><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">SADD key member [member ...]</span><br><span class="line">summary: Add one or more members to a <span class="built_in">set</span></span><br><span class="line">since: 1.0.0</span><br><span class="line"></span><br><span class="line">SCARD key</span><br><span class="line">summary: Get the number of members <span class="keyword">in</span> a <span class="built_in">set</span></span><br><span class="line">since: 1.0.0</span><br><span class="line"></span><br><span class="line">SDIFF key [key ...]</span><br><span class="line">summary: Subtract multiple sets</span><br><span class="line">since: 1.0.0</span><br><span class="line"></span><br><span class="line">SDIFFSTORE destination key [key ...]</span><br><span class="line">summary: Subtract multiple sets and store the resulting <span class="built_in">set</span> <span class="keyword">in</span> a key</span><br><span class="line">since: 1.0.0</span><br><span class="line"></span><br><span class="line">SINTER key [key ...]</span><br><span class="line">summary: Intersect multiple sets</span><br><span class="line">since: 1.0.0</span><br><span class="line"></span><br><span class="line">SINTERSTORE destination key [key ...]</span><br><span class="line">summary: Intersect multiple sets and store the resulting <span class="built_in">set</span> <span class="keyword">in</span> a key</span><br><span class="line">since: 1.0.0</span><br><span class="line"></span><br><span class="line">SISMEMBER key member</span><br><span class="line">summary: Determine <span class="keyword">if</span> a given value is a member of a <span class="built_in">set</span></span><br><span class="line">since: 1.0.0</span><br><span class="line"></span><br><span class="line">SMEMBERS key</span><br><span class="line">summary: Get all the members <span class="keyword">in</span> a <span class="built_in">set</span></span><br><span class="line">since: 1.0.0</span><br><span class="line"></span><br><span class="line">SMOVE <span class="built_in">source</span> destination member</span><br><span class="line">summary: Move a member from one <span class="built_in">set</span> to another</span><br><span class="line">since: 1.0.0</span><br><span class="line"></span><br><span class="line">SPOP key [count]</span><br><span class="line">summary: Remove and <span class="built_in">return</span> one or multiple random members from a <span class="built_in">set</span></span><br><span class="line">since: 1.0.0</span><br><span class="line"></span><br><span class="line">SRANDMEMBER key [count]</span><br><span class="line">summary: Get one or multiple random members from a <span class="built_in">set</span></span><br><span class="line">since: 1.0.0</span><br><span class="line"></span><br><span class="line">SREM key member [member ...]</span><br><span class="line">summary: Remove one or more members from a <span class="built_in">set</span></span><br><span class="line">since: 1.0.0</span><br><span class="line"></span><br><span class="line">SSCAN key cursor [MATCH pattern] [COUNT count]</span><br><span class="line">summary: Incrementally iterate Set elements</span><br><span class="line">since: 2.8.0</span><br><span class="line"></span><br><span class="line">SUNION key [key ...]</span><br><span class="line">summary: Add multiple sets</span><br><span class="line">since: 1.0.0</span><br><span class="line"></span><br><span class="line">SUNIONSTORE destination key [key ...]</span><br><span class="line">summary: Add multiple sets and store the resulting <span class="built_in">set</span> <span class="keyword">in</span> a key</span><br><span class="line">since: 1.0.0</span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="5-sorted-set"><a class="header-anchor" href="#5-sorted-set">Â¶</a>5. sorted_set</h3><p>zset å’Œ set ä¸€æ ·ä¹Ÿæ˜¯stringç±»å‹å…ƒç´ çš„é›†åˆ,ä¸”ä¸å…è®¸é‡å¤çš„æˆå‘˜ã€‚ *zadd å‘½ä»¤ï¼š*æ·»åŠ å…ƒç´ åˆ°é›†åˆï¼Œå…ƒç´ åœ¨é›†åˆä¸­å­˜åœ¨åˆ™æ›´æ–°å¯¹åº”scoreã€‚setæ˜¯æœ‰åºçš„ï¼Œæ ¹æ®<code>score</code>æ’åºã€‚</p><h3 id="ä½¿ç”¨åœºæ™¯-v4"><a class="header-anchor" href="#ä½¿ç”¨åœºæ™¯-v4">Â¶</a>ä½¿ç”¨åœºæ™¯</h3><ol><li>å› ä¸ºè‡ªå¸¦æ’åºï¼Œæ˜¾ç¤ºæœ€æ–°çš„é¡¹ç›®åˆ—è¡¨ ï¼Œæ’è¡Œæ¦œç›¸å…³ã€‚</li><li>å¤„ç†è¿‡æœŸé¡¹ç›®ï¼Œæ¯”å¦‚å¤„ç†æ²¡ä»˜æ¬¾çš„è®¢å•ã€‚æ ¹æ®ä¸‹å•æ—¶é—´æ”¾è¿›<code>sorted_set</code>ï¼Œåå°ä»»åŠ¡æ ¹æ®<code>ZRANGE</code>æŸ¥æœ€è¿‘çš„å‡ æ¡æ•°æ®ï¼Œå¦‚æœè¿‡æœŸå†å›å†™åˆ°æ•°æ®åº“ã€‚</li></ol><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">ZADD key [NX|XX] [CH] [INCR] score member [score member ...]</span><br><span class="line">summary: Add one or more members to a sorted <span class="built_in">set</span>, or update its score <span class="keyword">if</span> it already exists</span><br><span class="line">since: 1.2.0</span><br><span class="line"></span><br><span class="line">ZCARD key</span><br><span class="line">summary: Get the number of members <span class="keyword">in</span> a sorted <span class="built_in">set</span></span><br><span class="line">since: 1.2.0</span><br><span class="line"></span><br><span class="line">ZCOUNT key min max</span><br><span class="line">summary: Count the members <span class="keyword">in</span> a sorted <span class="built_in">set</span> with scores within the given values</span><br><span class="line">since: 2.0.0</span><br><span class="line"></span><br><span class="line">ZINCRBY key increment member</span><br><span class="line">summary: Increment the score of a member <span class="keyword">in</span> a sorted <span class="built_in">set</span></span><br><span class="line">since: 1.2.0</span><br><span class="line"></span><br><span class="line">ZINTERSTORE destination numkeys key [key ...] [WEIGHTS weight] [AGGREGATE SUM|MIN|MAX]</span><br><span class="line">summary: Intersect multiple sorted sets and store the resulting sorted <span class="built_in">set</span> <span class="keyword">in</span> a new key</span><br><span class="line">since: 2.0.0</span><br><span class="line"></span><br><span class="line">ZLEXCOUNT key min max</span><br><span class="line">summary: Count the number of members <span class="keyword">in</span> a sorted <span class="built_in">set</span> between a given lexicographical range</span><br><span class="line">since: 2.8.9</span><br><span class="line"></span><br><span class="line">ZRANGE key start stop [WITHSCORES]</span><br><span class="line">summary: Return a range of members <span class="keyword">in</span> a sorted <span class="built_in">set</span>, by index</span><br><span class="line">since: 1.2.0</span><br><span class="line"></span><br><span class="line">ZRANGEBYLEX key min max [LIMIT offset count]</span><br><span class="line">summary: Return a range of members <span class="keyword">in</span> a sorted <span class="built_in">set</span>, by lexicographical range</span><br><span class="line">since: 2.8.9</span><br><span class="line"></span><br><span class="line">ZRANGEBYSCORE key min max [WITHSCORES] [LIMIT offset count]</span><br><span class="line">summary: Return a range of members <span class="keyword">in</span> a sorted <span class="built_in">set</span>, by score</span><br><span class="line">since: 1.0.5</span><br><span class="line"></span><br><span class="line">ZRANK key member</span><br><span class="line">summary: Determine the index of a member <span class="keyword">in</span> a sorted <span class="built_in">set</span></span><br><span class="line">since: 2.0.0</span><br><span class="line"></span><br><span class="line">ZREM key member [member ...]</span><br><span class="line">summary: Remove one or more members from a sorted <span class="built_in">set</span></span><br><span class="line">since: 1.2.0</span><br><span class="line"></span><br><span class="line">ZREMRANGEBYLEX key min max</span><br><span class="line">summary: Remove all members <span class="keyword">in</span> a sorted <span class="built_in">set</span> between the given lexicographical range</span><br><span class="line">since: 2.8.9</span><br><span class="line"></span><br><span class="line">ZREMRANGEBYRANK key start stop</span><br><span class="line">summary: Remove all members <span class="keyword">in</span> a sorted <span class="built_in">set</span> within the given indexes</span><br><span class="line">since: 2.0.0</span><br><span class="line"></span><br><span class="line">ZREMRANGEBYSCORE key min max</span><br><span class="line">summary: Remove all members <span class="keyword">in</span> a sorted <span class="built_in">set</span> within the given scores</span><br><span class="line">since: 1.2.0</span><br><span class="line"></span><br><span class="line">ZREVRANGE key start stop [WITHSCORES]</span><br><span class="line">summary: Return a range of members <span class="keyword">in</span> a sorted <span class="built_in">set</span>, by index, with scores ordered from high to low</span><br><span class="line">since: 1.2.0</span><br><span class="line"></span><br><span class="line">ZREVRANGEBYLEX key max min [LIMIT offset count]</span><br><span class="line">summary: Return a range of members <span class="keyword">in</span> a sorted <span class="built_in">set</span>, by lexicographical range, ordered from higher to lower strings.</span><br><span class="line">since: 2.8.9</span><br><span class="line"></span><br><span class="line">ZREVRANGEBYSCORE key max min [WITHSCORES] [LIMIT offset count]</span><br><span class="line">summary: Return a range of members <span class="keyword">in</span> a sorted <span class="built_in">set</span>, by score, with scores ordered from high to low</span><br><span class="line">since: 2.2.0</span><br><span class="line"></span><br><span class="line">ZREVRANK key member</span><br><span class="line">summary: Determine the index of a member <span class="keyword">in</span> a sorted <span class="built_in">set</span>, with scores ordered from high to low</span><br><span class="line">since: 2.0.0</span><br><span class="line"></span><br><span class="line">ZSCAN key cursor [MATCH pattern] [COUNT count]</span><br><span class="line">summary: Incrementally iterate sorted sets elements and associated scores</span><br><span class="line">since: 2.8.0</span><br><span class="line"></span><br><span class="line">ZSCORE key member</span><br><span class="line">summary: Get the score associated with the given member <span class="keyword">in</span> a sorted <span class="built_in">set</span></span><br><span class="line">since: 1.2.0</span><br><span class="line"></span><br><span class="line">ZUNIONSTORE destination numkeys key [key ...] [WEIGHTS weight] [AGGREGATE SUM|MIN|MAX]</span><br><span class="line">summary: Add multiple sorted sets and store the resulting sorted <span class="built_in">set</span> <span class="keyword">in</span> a new key</span><br><span class="line">since: 2.0.0</span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="å…¶ä»–åŠŸèƒ½"><a class="header-anchor" href="#å…¶ä»–åŠŸèƒ½">Â¶</a>å…¶ä»–åŠŸèƒ½</h2><ol><li>Pub/Sub<br>Redisçš„Pub/Subéå¸¸éå¸¸ç®€å•ï¼Œè¿è¡Œç¨³å®šå¹¶ä¸”å¿«é€Ÿã€‚å¯ä»¥ä½œä¸ºå‘å¸ƒè®¢é˜…ä½¿ç”¨ã€‚<br>2.<code>geo</code><br>å‚¨å­˜åœ°ç†åæ ‡æ•°æ®ï¼Œç”¨æ¥å®ç°é™„è¿‘çš„äººåŠŸèƒ½ã€‚</li><li>HyperLogLog<br><code>Redis HyperLogLog</code> æ˜¯ç”¨æ¥åšåŸºæ•°ç»Ÿè®¡çš„ç®—æ³•ï¼Œ<code>HyperLogLog</code> çš„ä¼˜ç‚¹æ˜¯ï¼Œåœ¨è¾“å…¥å…ƒç´ çš„æ•°é‡æˆ–è€…ä½“ç§¯éå¸¸éå¸¸å¤§æ—¶ï¼Œè®¡ç®—åŸºæ•°æ‰€éœ€çš„ç©ºé—´æ€»æ˜¯å›ºå®š çš„ã€å¹¶ä¸”æ˜¯å¾ˆå°çš„ã€‚<br>åœ¨ <code>Redis</code> é‡Œé¢ï¼Œæ¯ä¸ª <code>HyperLogLog</code> é”®åªéœ€è¦èŠ±è´¹ <code>12 KB</code> å†…å­˜ï¼Œå°±å¯ä»¥è®¡ç®—æ¥è¿‘ <code>2^64</code> ä¸ªä¸åŒå…ƒç´ çš„åŸº æ•°ã€‚è¿™å’Œè®¡ç®—åŸºæ•°æ—¶ï¼Œå…ƒç´ è¶Šå¤šè€—è´¹å†…å­˜å°±è¶Šå¤šçš„é›†åˆå½¢æˆé²œæ˜å¯¹æ¯”ã€‚</li></ol>]]></content>
    
    <summary type="html">
    
      
      
        &lt;blockquote&gt;
&lt;p&gt;&lt;code&gt;redis&lt;/code&gt;é™¤äº†ç¼“å­˜ï¼Œè¿˜æœ‰å¾ˆå¤šçš„ä½¿ç”¨æ–¹å¼ï¼Œäº’è”ç½‘é¡¹ç›®çš„å¾ˆå¤šåŠŸèƒ½éƒ½æ˜¯é€šè¿‡&lt;code&gt;redis&lt;/code&gt;å®ç°çš„ï¼Œä»Šå¤©ç®€å•ä»‹ç»ä¸€äº›ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2 id=&quot;ç®€å•å›é¡¾ä¸‹redisæ˜¯ä»€ä¹ˆ&quot;&gt;&lt;a c
      
    
    </summary>
    
    
      <category term="redis" scheme="https://zzz1220.github.io/tags/redis/"/>
    
  </entry>
  
  <entry>
    <title>è·¨é¡µé¢é€šä¿¡çš„å‡ ç§æ–¹æ³•</title>
    <link href="https://zzz1220.github.io/posts/97160c27/"/>
    <id>https://zzz1220.github.io/posts/97160c27/</id>
    <published>2021-04-14T15:40:07.000Z</published>
    <updated>2023-11-08T07:30:23.113Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>åŸæ¥ï¼Œè·¨é¡µé¢é€šä¿¡æœ‰è¿™è¿™ä¹ˆå¤šæ–¹æ³•</p></blockquote><h2 id="åŒæºé¡µé¢ä¹‹é—´çš„é€šä¿¡"><a class="header-anchor" href="#åŒæºé¡µé¢ä¹‹é—´çš„é€šä¿¡">Â¶</a>åŒæºé¡µé¢ä¹‹é—´çš„é€šä¿¡</h2><h3 id="localstorage"><a class="header-anchor" href="#localstorage">Â¶</a>localStorage</h3><p>è¿™ä¸ªå¤§å®¶éƒ½å¾ˆç†Ÿæ‚‰äº†ï¼Œä½†æ˜¯ä»–è¿˜æœ‰ä¸€ä¸ªstorageäº‹ä»¶ï¼Œä¹‹å‰æ²¡æ¥è§¦è¿‡<br>å½“ LocalStorage å˜åŒ–æ—¶ï¼Œä¼šè§¦å‘storageäº‹ä»¶ã€‚åˆ©ç”¨è¿™ä¸ªç‰¹æ€§ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨å‘é€æ¶ˆæ¯æ—¶ï¼ŒæŠŠæ¶ˆæ¯å†™å…¥åˆ°æŸä¸ª LocalStorage ä¸­ï¼›ç„¶ååœ¨å„ä¸ªé¡µé¢å†…ï¼Œé€šè¿‡ç›‘å¬storageäº‹ä»¶å³å¯æ”¶åˆ°é€šçŸ¥ã€‚</p><pre><code class="language-js">// ä¸€ä¸ªé¡µé¢ç›‘å¬äº‹ä»¶window.addEventListener('storage', function (e) {    if (e.key === 'ctc-msg') {        const data = JSON.parse(e.newValue);        const text = '[receive] ' + data.msg + ' â€”â€” tab ' + data.from;        console.log('[Storage I] receive message:', text);    }});// å¦å¤–ä¸€ä¸ªé¡µé¢setæ•°æ®ï¼Œè¿™é‡ŒåŠ ä¸Šäº‹ä»¶æˆ³æ˜¯å› ä¸ºåªæœ‰çœŸæ­£æ”¹å˜æ‰ä¼šè§¦å‘storagemydata.st = +(new Date);window.localStorage.setItem('ctc-msg', JSON.stringify(mydata));</code></pre><h3 id="indexeddb"><a class="header-anchor" href="#indexeddb">Â¶</a>IndexedDB</h3><p>ä¸å¤šä»‹ç»äº†ï¼Œå°±æ˜¯ç®€å•çš„è½®è¯¢</p><h3 id="service-worker"><a class="header-anchor" href="#service-worker">Â¶</a>Service Worker</h3><p><a href="https://developer.mozilla.org/zh-CN/docs/Web/API/Service_Worker_API" target="_blank" rel="noopener">Service workers</a> æœ¬è´¨ä¸Šå……å½“ Web åº”ç”¨ç¨‹åºã€æµè§ˆå™¨ä¸ç½‘ç»œï¼ˆå¯ç”¨æ—¶ï¼‰ä¹‹é—´çš„ä»£ç†æœåŠ¡å™¨ã€‚è¿™ä¸ª API æ—¨åœ¨åˆ›å»ºæœ‰æ•ˆçš„ç¦»çº¿ä½“éªŒï¼Œå®ƒä¼šæ‹¦æˆªç½‘ç»œè¯·æ±‚å¹¶æ ¹æ®ç½‘ç»œæ˜¯å¦å¯ç”¨é‡‡å–æ¥é€‚å½“çš„åŠ¨ä½œã€æ›´æ–°æ¥è‡ªæœåŠ¡å™¨çš„çš„èµ„æºã€‚å®ƒè¿˜æä¾›å…¥å£ä»¥æ¨é€é€šçŸ¥å’Œè®¿é—®åå°åŒæ­¥ APIã€‚<br>Shared Worker åœ¨å®ç°è·¨é¡µé¢é€šä¿¡æ—¶çš„é—®é¢˜åœ¨äºï¼Œå®ƒæ— æ³•ä¸»åŠ¨é€šçŸ¥æ‰€æœ‰é¡µé¢ï¼Œå› æ­¤ï¼Œæˆ‘ä»¬ä¼šä½¿ç”¨è½®è¯¢çš„æ–¹å¼ï¼Œæ¥æ‹‰å–æœ€æ–°çš„æ•°æ®ã€‚æ€è·¯å¦‚ä¸‹ï¼š<br>è®© Shared Worker æ”¯æŒä¸¤ç§æ¶ˆæ¯ã€‚ä¸€ç§æ˜¯ postï¼ŒShared Worker æ”¶åˆ°åä¼šå°†è¯¥æ•°æ®ä¿å­˜ä¸‹æ¥ï¼›å¦ä¸€ç§æ˜¯ getï¼ŒShared Worker æ”¶åˆ°è¯¥æ¶ˆæ¯åä¼šå°†ä¿å­˜çš„æ•°æ®é€šè¿‡postMessageä¼ ç»™æ³¨å†Œå®ƒçš„é¡µé¢ã€‚ä¹Ÿå°±æ˜¯è®©é¡µé¢é€šè¿‡ get æ¥ä¸»åŠ¨è·å–ï¼ˆåŒæ­¥ï¼‰æœ€æ–°æ¶ˆæ¯ã€‚å…·ä½“å®ç°å¦‚ä¸‹ï¼š<br>é¦–å…ˆï¼Œæˆ‘ä»¬ä¼šåœ¨é¡µé¢ä¸­å¯åŠ¨ä¸€ä¸ª Shared Workerï¼Œå¯åŠ¨æ–¹å¼éå¸¸ç®€å•ï¼š</p><pre><code class="language-JS">// æ„é€ å‡½æ•°çš„ç¬¬äºŒä¸ªå‚æ•°æ˜¯ Shared Worker åç§°ï¼Œä¹Ÿå¯ä»¥ç•™ç©ºconst sharedWorker = new SharedWorker('../util.shared.js', 'ctc');</code></pre><p>ç„¶åï¼Œåœ¨è¯¥ Shared Worker ä¸­æ”¯æŒ get ä¸ post å½¢å¼çš„æ¶ˆæ¯ï¼š</p><pre><code class="language-js">/* ../util.shared.js: Shared Worker ä»£ç  */let data = null;self.addEventListener('connect', function (e) {    const port = e.ports[0];    port.addEventListener('message', function (event) {        // get æŒ‡ä»¤åˆ™è¿”å›å­˜å‚¨çš„æ¶ˆæ¯æ•°æ®        if (event.data.get) {            data &amp;&amp; port.postMessage(data);        }        // é get æŒ‡ä»¤åˆ™å­˜å‚¨è¯¥æ¶ˆæ¯æ•°æ®        else {            data = event.data;        }    });    port.start();});</code></pre><p>ä¹‹åï¼Œé¡µé¢å®šæ—¶å‘é€ get æŒ‡ä»¤çš„æ¶ˆæ¯ç»™ Shared Workerï¼Œè½®è¯¢æœ€æ–°çš„æ¶ˆæ¯æ•°æ®ï¼Œå¹¶åœ¨é¡µé¢ç›‘å¬è¿”å›ä¿¡æ¯ï¼š</p><pre><code class="language-js">// å®šæ—¶è½®è¯¢ï¼Œå‘é€ get æŒ‡ä»¤çš„æ¶ˆæ¯setInterval(function () {    sharedWorker.port.postMessage({get: true});}, 1000);// ç›‘å¬ get æ¶ˆæ¯çš„è¿”å›æ•°æ®sharedWorker.port.addEventListener('message', (e) =&gt; {    const data = e.data;    const text = '[receive] ' + data.msg + ' â€”â€” tab ' + data.from;    console.log('[Shared Worker] receive message:', text);}, false);sharedWorker.port.start();</code></pre><p>æœ€åï¼Œå½“è¦è·¨é¡µé¢é€šä¿¡æ—¶ï¼Œåªéœ€ç»™ Shared Worker postMessageå³å¯ï¼š</p><pre><code class="language-js">sharedWorker.port.postMessage(mydata);</code></pre><p>æ³¨æ„ï¼Œå¦‚æœä½¿ç”¨addEventListeneræ¥æ·»åŠ  Shared Worker çš„æ¶ˆæ¯ç›‘å¬ï¼Œéœ€è¦æ˜¾å¼è°ƒç”¨MessagePort.startæ–¹æ³•ï¼Œå³ä¸Šæ–‡ä¸­çš„sharedWorker.port.start()ï¼›å¦‚æœä½¿ç”¨onmessageç»‘å®šç›‘å¬åˆ™ä¸éœ€è¦ã€‚</p><h3 id="broadcast-channel"><a class="header-anchor" href="#broadcast-channel">Â¶</a>BroadCast Channel</h3><p><a href="https://developer.mozilla.org/zh-CN/docs/Web/API/Broadcast_Channel_API" target="_blank" rel="noopener">Broadcast Channel API</a> å¯ä»¥å®ç°åŒ æº ä¸‹æµè§ˆå™¨ä¸åŒçª—å£ï¼ŒTabé¡µï¼Œframeæˆ–è€… iframe ä¸‹çš„ æµè§ˆå™¨ä¸Šä¸‹æ–‡ (é€šå¸¸æ˜¯åŒä¸€ä¸ªç½‘ç«™ä¸‹ä¸åŒçš„é¡µé¢)ä¹‹é—´çš„ç®€å•é€šè®¯ã€‚</p><p>ç®€å•çš„apiå±•ç¤ºï¼š</p><pre><code class="language-js">// è¿æ¥åˆ°å¹¿æ’­é¢‘é“,åœ¨å¤šä¸ªé¡µé¢æ³¨å†ŒåŒä¸€ä¸ªé¢‘é“var bc = new BroadcastChannel('test_channel');// å‘é€ç®€å•æ¶ˆæ¯çš„ç¤ºä¾‹bc.postMessage('This is a test message.');// ç®€å•ç¤ºä¾‹ï¼Œç”¨äºå°†äº‹ä»¶æ‰“å°åˆ°æ§åˆ¶å°bc.onmessage = function (ev) { console.log(ev); }// æ–­å¼€é¢‘é“è¿æ¥bc.close()</code></pre><h2 id="éåŒæºé¡µé¢ä¹‹é—´çš„é€šä¿¡"><a class="header-anchor" href="#éåŒæºé¡µé¢ä¹‹é—´çš„é€šä¿¡">Â¶</a>éåŒæºé¡µé¢ä¹‹é—´çš„é€šä¿¡</h2><h3 id="åˆ©ç”¨ä¸­é—´iframeä½œä¸ºbrideg"><a class="header-anchor" href="#åˆ©ç”¨ä¸­é—´iframeä½œä¸ºbrideg">Â¶</a>åˆ©ç”¨ä¸­é—´iframeä½œä¸ºbrideg</h3><p>ä½¿ç”¨ä¸€ä¸ªç”¨æˆ·ä¸å¯è§çš„ iframe ä½œä¸ºâ€œæ¡¥â€ã€‚ç”±äº iframe ä¸çˆ¶é¡µé¢é—´å¯ä»¥é€šè¿‡æŒ‡å®šoriginæ¥å¿½ç•¥åŒæºé™åˆ¶ï¼Œå› æ­¤å¯ä»¥åœ¨æ¯ä¸ªé¡µé¢ä¸­åµŒå…¥ä¸€ä¸ª iframe ï¼ˆä¾‹å¦‚ï¼š<a href="http://sample.com/bridge.html%EF%BC%89%EF%BC%8C%E8%80%8C%E8%BF%99%E4%BA%9B" target="_blank" rel="noopener">http://sample.com/bridge.htmlï¼‰ï¼Œè€Œè¿™äº›</a> iframe ç”±äºä½¿ç”¨çš„æ˜¯ä¸€ä¸ª urlï¼Œå› æ­¤å±äºåŒæºé¡µé¢ï¼Œå…¶é€šä¿¡æ–¹å¼å¯ä»¥å¤ç”¨ä¸Šé¢ç¬¬ä¸€éƒ¨åˆ†æåˆ°çš„å„ç§æ–¹å¼ã€‚</p><pre><code class="language-js">/* ä¸šåŠ¡é¡µé¢ä»£ç  */window.addEventListener('message', function (e) {    // â€¦â€¦ do something});/* ä¸šåŠ¡é¡µé¢ä»£ç å‘ä¿¡æ¯ */window.frames[0].window.postMessage(mydata, '*');</code></pre><h3 id="åˆ©ç”¨websocket"><a class="header-anchor" href="#åˆ©ç”¨websocket">Â¶</a>åˆ©ç”¨websocket</h3><p>åˆ©ç”¨åç«¯æ–°å¼€ä¸€ä¸ªwebsocketæœåŠ¡ï¼Œå¤šä¸ªé¡µé¢éƒ½æ¥å—æœåŠ¡ç«¯çš„æ¨é€ï¼Œä¹Ÿå¯ä»¥å®ç°åŒæ­¥çŠ¶æ€ã€‚</p><hr><p>åŸæ–‡åœ°å€ï¼Œæœ¬æ–‡ç¨ä½œåˆ æ”¹ï¼š<br><a href="https://juejin.cn/post/6844903811232825357" target="_blank" rel="noopener">https://juejin.cn/post/6844903811232825357</a></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;blockquote&gt;
&lt;p&gt;åŸæ¥ï¼Œè·¨é¡µé¢é€šä¿¡æœ‰è¿™è¿™ä¹ˆå¤šæ–¹æ³•&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2 id=&quot;åŒæºé¡µé¢ä¹‹é—´çš„é€šä¿¡&quot;&gt;&lt;a class=&quot;header-anchor&quot; href=&quot;#åŒæºé¡µé¢ä¹‹é—´çš„é€šä¿¡&quot;&gt;Â¶&lt;/a&gt;åŒæºé¡µé¢ä¹‹é—´çš„é€šä¿¡&lt;/h2&gt;
&lt;h3 id=&quot;
      
    
    </summary>
    
    
      <category term="JavaScript" scheme="https://zzz1220.github.io/tags/JavaScript/"/>
    
  </entry>
  
  <entry>
    <title>elasticsearchä½¿ç”¨</title>
    <link href="https://zzz1220.github.io/posts/5e47ac86/"/>
    <id>https://zzz1220.github.io/posts/5e47ac86/</id>
    <published>2021-04-11T15:38:41.000Z</published>
    <updated>2023-11-07T06:53:35.496Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>è®°å½•ä¸€æ¬¡å°†åƒä¸‡çº§åˆ«çš„æ•°æ®åº“è¡¨è¿ç§»åˆ°Elasticsearch çš„è¿‡ç¨‹</p></blockquote><h2 id="èƒŒæ™¯"><a class="header-anchor" href="#èƒŒæ™¯">Â¶</a>èƒŒæ™¯</h2><p>æˆ‘ä»¬æœ‰ä¸€å¼ åƒä¸‡çº§åˆ«ï¼Œå¹¶ä¸”æ¯å¤©éƒ½æ–°å¢å°†è¿‘ä¸‡æ¡æ•°æ®ï¼Œæ›´æ–°ä¹Ÿåœ¨åå‡ ä¸‡çš„ä¸šåŠ¡è¡¨ï¼Œè¿™ä¸ªä¸šåŠ¡è¡¨å¯ä»¥è¯´æ˜¯æˆ‘ä»¬çš„æ ¸å¿ƒä¸šåŠ¡ï¼Œå› ä¸ºå†å²é—®é¢˜ï¼Œè¡¨å­—æ®µé™¤äº†åŸºæœ¬çš„å­—æ®µå¤–ï¼Œè¿˜å­˜äº†jsonï¼Œ ä¸€ä¸ªå­—ç¬¦ä¸²å¯ä»£è¡¨å¤šä¸šåŠ¡ï¼Œ ç”šè‡³å­˜äº†äºŒè¿›åˆ¶çš„å¯¹è±¡ï¼Œ åŒæ—¶ï¼Œæˆ‘ä»¬çš„è¿è¥é¡µé¢éœ€è¦æ ¹æ®å°†è¿‘20ä¸ªæŸ¥è¯¢æ¡ä»¶å¯¹è¿™ä¸ªè¡¨è¿›è¡ŒæŸ¥è¯¢ï¼Œä¸€æ–¹é¢å› ä¸ºæ•°æ®é‡å¤§ï¼Œå¤šä¸ªæŸ¥è¯¢æ¡ä»¶ç»„åˆèµ·æ¥ï¼ŒæŸ¥å‡ºæ•°æ®æœ‰æ—¶ä¹Ÿè¦åå‡ ç§’ï¼Œç”šè‡³åœ¨ä¸€äº›æç«¯æƒ…å†µä¸‹ï¼Œé¡µé¢ç›´æ¥è¶…æ—¶ï¼Œç”¨æˆ·ä½“éªŒå¾ˆä¸å¥½ï¼Œå¦ä¸€æ–¹é¢ï¼Œæœ‰äº›å­—æ®µéšè—åœ¨jsonå†…éƒ¨ï¼Œæˆ–è€…äºŒè¿›åˆ¶çš„å¯¹è±¡é‡Œé¢ï¼Œé™åˆ¶äº†å…¶ä½œä¸ºæŸ¥è¯¢æ¡ä»¶ã€‚</p><h2 id="é¢„ç ”"><a class="header-anchor" href="#é¢„ç ”">Â¶</a>é¢„ç ”</h2><p>äºæ˜¯æˆ‘èŠ±äº†ä¸¤å¤©çš„æ—¶é—´äº†è§£äº†Elasticsearch æ˜¯ä»€ä¹ˆï¼Œå¯ä»¥åšä»€ä¹ˆï¼Œå¤§æ¦‚çš„æ“ä½œæ­¥éª¤ï¼ŒæŸ¥è¯¢apiï¼Œä»¥åŠé…å¥—çš„ç”Ÿæ€ï¼ŒåˆèŠ±äº†ä¸€å¤©åœ¨æµ‹è¯•ç¯å¢ƒæ­å»ºäº†ä¸€å¥—elkï¼Œå°±å¼€å§‹äº†è¿ç§»çš„æµ‹è¯•ã€‚<br>psï¼šåœ¨è¿™é‡Œè¯´æ˜ä¸€ä¸‹<br>Elasticsearchæ˜¯ä¸ªå¼€æºåˆ†å¸ƒå¼æœç´¢å¼•æ“ï¼Œå®ƒçš„ç‰¹ç‚¹æœ‰ï¼šåˆ†å¸ƒå¼ï¼Œé›¶é…ç½®ï¼Œè‡ªåŠ¨å‘ç°ï¼Œç´¢å¼•è‡ªåŠ¨åˆ†ç‰‡ï¼Œç´¢å¼•å‰¯æœ¬æœºåˆ¶ï¼Œrestfulé£æ ¼æ¥å£ï¼Œå¤šæ•°æ®æºï¼Œè‡ªåŠ¨æœç´¢è´Ÿè½½ç­‰ã€‚<br>Logstashæ˜¯ä¸€ä¸ªå®Œå…¨å¼€æºçš„å·¥å…·ï¼Œä»–å¯ä»¥å¯¹ä½ çš„æ—¥å¿—è¿›è¡Œæ”¶é›†ã€è¿‡æ»¤ï¼Œå¹¶å°†å…¶å­˜å‚¨ä¾›ä»¥åä½¿ç”¨ï¼ˆå¦‚ï¼Œæœç´¢ï¼‰ã€‚<br>Kibana ä¹Ÿæ˜¯ä¸€ä¸ªå¼€æºå’Œå…è´¹çš„å·¥å…·ï¼Œå®ƒKibanaå¯ä»¥ä¸º Logstash å’Œ ElasticSearch æä¾›çš„æ—¥å¿—åˆ†æå‹å¥½çš„ Web ç•Œé¢ï¼Œå¯ä»¥å¸®åŠ©æ‚¨æ±‡æ€»ã€åˆ†æå’Œæœç´¢é‡è¦æ•°æ®æ—¥å¿—<br>elkå½“ç„¶å°±æ˜¯è¿™ä¸‰éƒ¨åˆ†çš„ç»„åˆäº†ã€‚</p><h2 id="ç”¨logstash-åŒæ­¥æ•°æ®"><a class="header-anchor" href="#ç”¨logstash-åŒæ­¥æ•°æ®">Â¶</a>ç”¨logstash åŒæ­¥æ•°æ®</h2><p>logstash æœ¬èº«çš„é…ç½®ä¹Ÿä¸å¤æ‚ï¼Œåˆ†ä¸º<code>input</code>ï¼Œ<code>filter</code>ï¼Œ<code>output</code> ä¸‰éƒ¨åˆ†ã€‚<br><code>input</code> å’Œ <code>output</code>æ”¯æŒå„ç§æ’ä»¶ã€‚<br>æ¯”å¦‚<code>input</code> æ”¯æŒ <code>mysql</code>ï¼Œ<code>file</code>ï¼Œ<code>http</code>ï¼Œç­‰ç­‰ï¼Œæœ€æ–°çš„<code>input</code> ç”šè‡³æ”¯æŒ<code>Twitter </code>ã€‚<br><code>output</code> æ”¯æŒ <code>elasticsearch</code>ï¼Œ<code>email</code>ï¼Œ<code>rabbitmq</code>ç­‰ç­‰ã€‚<br>æŸ¥çœ‹æ‰€æœ‰æ”¯æŒçš„æ’ä»¶å¯ä»¥ç‚¹å‡»<a href="https://www.elastic.co/guide/en/logstash/7.12/introduction.html">è¿™é‡Œ</a></p><p>è¿™ä¸€æ­¥æœ¬æ¥æ˜¯å¾ˆç®€å•çš„ï¼Œå› ä¸ºlogstash æœ¬èº«å°±æ”¯æŒåŒæ­¥mysqlæ•°æ®åˆ°esï¼Œåªéœ€è¦ç®€å•çš„é…ç½®ï¼ŒåŠ ä¸Šjsonçš„ä¸­é—´filterï¼Œå°±å¯ä»¥å®Œæˆäº†ï¼Œä½†æ˜¯å°±æ˜¯äºŒè¿›åˆ¶çš„æ•°æ®å¯¹è±¡è¦è§£æå‡ºæ¥æœ‰ç‚¹éº»çƒ¦ï¼Œè¿˜å¥½logstashæ”¯æŒç”¨rubyä½œä¸ºè„šæœ¬ï¼Œäºæ˜¯å°±éœ€è¦ç¼–å†™ä¸€ä¸ªrubyè„šæœ¬ï¼ŒæŠŠä»mysqlé‡Œè¯»å‡ºæ¥çš„äºŒè¿›åˆ¶è½¬åŒ–æˆå¯¹è±¡ï¼Œæˆ‘ä»¬å­˜çš„äºŒè¿›åˆ¶æ˜¯protobufè½¬åŒ–çš„å¯¹è±¡ï¼Œå› æ­¤ï¼Œéœ€è¦ç”¨ä¸€ä¸ªprotobufçš„åº“ æŠŠäºŒè¿›åˆ¶è½¬æˆrubyå¯¹è±¡ï¼Œç„¶ååœ¨è§£æè¿™ä¸ªå¯¹è±¡ï¼Œåˆ†å‰²æˆä¸åŒçš„å­—æ®µå­˜å…¥esã€‚<br>é¦–å…ˆï¼Œæˆ‘ä»å†…éƒ¨çš„å¹³å°ï¼Œä¸‹è½½äº†åŸå§‹çš„protobufæ–‡ä»¶ï¼Œç„¶ååœ¨å…¬å¸çš„ç¼–è¯‘æœºä¸Šï¼Œä¾¿æˆrubyçš„classæ–‡ä»¶ï¼Œä½†æ˜¯æ€ä¹ˆä»äºŒè¿›åˆ¶è§£ç åˆ°å¯¹è±¡å‘¢ï¼Ÿæˆ‘åˆç¿»çœ‹äº†ä¸‹logstashçš„æ–‡æ¡£ï¼Œå‘ç°ä»–æœ‰ä¸€ä¸ªcodecçš„æ’ä»¶æ˜¯ç›´æ¥æ”¯æŒè§£ç pbå¯¹è±¡çš„ï¼Œä½†æ˜¯è¿™ä¸ªæ’ä»¶åªæ”¯æŒæ¯æ¬¡è§£æä¸€è¡Œï¼Œä½†æ˜¯æˆ‘ä»mysqlè¯»å‡ºæ¥çš„æ•°æ®ï¼Œæ˜¯ä¸€è¡Œsqlæ’å™ç»“æœï¼Œé‡Œé¢åªæœ‰å‡ ä¸ªå­—æ®µæ˜¯äºŒè¿›åˆ¶çš„ï¼Œäºæ˜¯æˆ‘æ‰¾åˆ°äº†è¿™ä¸ªæ’ä»¶<code>logstash-codec-protobuf</code>çš„github<a href="https://github.com/logstash-plugins/logstash-codec-protobuf">åœ°å€</a>ï¼Œç®€å•çœ‹äº†ä¸‹æºç å’Œ<code>api</code>ï¼Œæºç ä¸å¤šåŠ ä¸Šæ³¨é‡Šä¹Ÿæ‰700å¤šè¡Œï¼Œè™½ç„¶æ²¡å­¦è¿‡rubyä½†ä¹Ÿå¤§æ¦‚çœ‹å‡ºæ¥ä¸€äº›é€»è¾‘ï¼Œçœ‹äº†ä¸‹ä»–çš„ä¾èµ–ï¼Œ</p><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">require</span> <span class="string">&#x27;logstash/codecs/base&#x27;</span></span><br><span class="line"><span class="keyword">require</span> <span class="string">&#x27;logstash/util/charset&#x27;</span></span><br><span class="line"><span class="keyword">require</span> <span class="string">&#x27;google/protobuf&#x27;</span> <span class="comment"># for protobuf3</span></span><br><span class="line"><span class="keyword">require</span> <span class="string">&#x27;protocol_buffers&#x27;</span> <span class="comment"># https://github.com/codekitchen/ruby-protocol-buffers, for protobuf2</span></span><br></pre></td></tr></table></figure><p>ä¸»è¦èµ·ä½œç”¨çš„åº”è¯¥æ˜¯</p><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">require</span> <span class="string">&#x27;google/protobuf&#x27;</span> <span class="comment"># for protobuf3</span></span><br><span class="line"><span class="keyword">require</span> <span class="string">&#x27;protocol_buffers</span></span><br></pre></td></tr></table></figure><p>æ•´ä¸ªä»£ç æ˜¯ä¸€ä¸ªé¢å‘å¯¹è±¡çš„è¯­æ³•ï¼Œ å®šä¹‰äº†ä¸€ä¸ªclass</p><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">LogStash::Codecs::Protobuf</span> &lt; <span class="title class_ inherited__">LogStash::Codecs::Base</span></span><br></pre></td></tr></table></figure><p>é‡Œé¢æœ‰<code>register</code>,<code>decode</code>,<code>encode</code> ç­‰æ–¹æ³•ï¼Œçœ‹æ¥èµ·ä½œç”¨çš„å°±æ˜¯<code>decode</code> äº†ï¼Œé©¬ä¸Šæ‹¿æ¥æ”¾åœ¨è„šæœ¬é‡Œé¢è·‘äº†ä¸€ä¸‹ï¼ŒæˆåŠŸä»äºŒè¿›åˆ¶è§£æå¾—åˆ°äº†rubyå¯¹è±¡ã€‚</p><p>æ¥ä¸‹æ¥å°±ç®€å•äº†ï¼Œæ³¨æ„ç»†èŠ‚ï¼Œå¯¹ç…§å­—æ®µå¼€å§‹åŒæ­¥ã€‚å¤§æ¦‚èŠ±äº†25ä¸ªå°æ—¶ï¼Œå°±æŠŠæ‰€æœ‰çš„æ•°æ®åŒæ­¥åˆ°äº†es,å¢é‡çš„æ•°æ®ï¼Œæˆ‘ç”¨<code>updatetime</code>ä½œä¸ºæŸ¥è¯¢æ¡ä»¶æ›´æ–°ã€‚</p><h2 id="ç”¨phpå®¢æˆ·ç«¯æŸ¥è¯¢æ•°æ®"><a class="header-anchor" href="#ç”¨phpå®¢æˆ·ç«¯æŸ¥è¯¢æ•°æ®">Â¶</a>ç”¨phpå®¢æˆ·ç«¯æŸ¥è¯¢æ•°æ®</h2><p>æœ€åï¼Œæˆ‘ç”¨phpå®¢æˆ·ç«¯ï¼Œé€šè¿‡httpè°ƒç”¨çš„å½¢å¼ï¼Œä½¿ç”¨esæŸ¥è¯¢è¯­æ³•ï¼Œå¯¹æ•°æ®è¿›è¡ŒæŸ¥è¯¢ï¼Œæœç„¶å¿«äº†å¾ˆå¤šï¼Œå¤æ‚çš„æŸ¥è¯¢æ¡ä»¶ï¼Œä¹Ÿèƒ½åœ¨1så·¦å³æŸ¥è¯¢å‡ºæ¥ã€‚</p><p>è¿™é‡Œè¦è¯´æ˜çš„æ˜¯<code>kibana</code>é‡Œé¢æœ‰ä¸ªdevtoolçš„é¡µé¢ï¼Œå¯ä»¥åœ¨é‡Œé¢å†™æŸ¥è¯¢è¯­å¥éªŒè¯ç»“æœï¼Œä½¿ç”¨èµ·æ¥ååˆ†æ–¹ä¾¿ã€‚</p><h2 id="é‡åˆ°çš„å‘"><a class="header-anchor" href="#é‡åˆ°çš„å‘">Â¶</a>é‡åˆ°çš„å‘</h2><p>ä¸»è¦æ˜¯åˆ†é¡µæŸ¥è¯¢çš„æ—¶å€™ï¼Œå¾ˆå¤§çš„æ•°æ®é‡ä¸‹ä¸èƒ½ä»¥ä¸€èˆ¬çš„æŸ¥è¯¢è¯­æ³•ï¼Œå³from to è¿™ç§ï¼Œå› ä¸ºåœ¨æ·±åº¦åˆ†é¡µçš„æƒ…å†µä¸‹ï¼Œè¿™ç§ä½¿ç”¨æ–¹å¼æ•ˆç‡æ˜¯éå¸¸ä½çš„ï¼Œæ¯”å¦‚from = 5000, size=10ï¼Œ es éœ€è¦åœ¨å„ä¸ªåˆ†ç‰‡ä¸ŠåŒ¹é…æ’åºå¹¶å¾—åˆ°5000*10æ¡æœ‰æ•ˆæ•°æ®ï¼Œç„¶ååœ¨ç»“æœé›†ä¸­å–æœ€å10æ¡æ•°æ®è¿”å›ã€‚</p><p>æˆ‘ä»¬å°±é‡åˆ°äº†è¿™ä¸ªé—®é¢˜ï¼Œå…ˆæŠŠ<code>max_result_window </code>è°ƒå¤§äº†ä¸€äº›ï¼Œåæ¥ç”¨æ·±åº¦åˆ†é¡µä»£æ›¿ï¼š<br>es æä¾›äº† <code>Scroll API</code> çš„æ–¹å¼è¿›è¡Œåˆ†é¡µè¯»å–ã€‚åŸç†ä¸Šæ˜¯å¯¹æŸæ¬¡æŸ¥è¯¢ç”Ÿæˆä¸€ä¸ªæ¸¸æ ‡ scroll_id ï¼Œ åç»­çš„æŸ¥è¯¢åªéœ€è¦æ ¹æ®è¿™ä¸ªæ¸¸æ ‡å»å–æ•°æ®ï¼Œç›´åˆ°ç»“æœé›†ä¸­è¿”å›çš„ hits å­—æ®µä¸ºç©ºï¼Œå°±è¡¨ç¤ºéå†ç»“æŸã€‚scroll_id çš„ç”Ÿæˆå¯ä»¥ç†è§£ä¸ºå»ºç«‹äº†ä¸€ä¸ªä¸´æ—¶çš„å†å²å¿«ç…§ï¼Œåœ¨æ­¤ä¹‹åçš„å¢åˆ æ”¹æŸ¥ç­‰æ“ä½œä¸ä¼šå½±å“åˆ°è¿™ä¸ªå¿«ç…§çš„ç»“æœã€‚<br>ä½†æ˜¯è¿™ä¸ªä¹Ÿä¸å…è®¸éšæœºè·³é¡µï¼Œé€‚åˆç±»ä¼¼å¾®åšé‚£ç§ä¸‹æ‹‰ç¿»é¡µçš„åœºæ™¯ã€‚</p><p>ps: å…³äºæ·±åº¦åˆ†é¡µä¼˜åŒ–å¯ä»¥çœ‹ä¸‹<a href="https://juejin.cn/post/6850037275456339975">è¿™é‡Œ</a></p><h2 id="elkå¾ˆå¤æ‚çš„"><a class="header-anchor" href="#elkå¾ˆå¤æ‚çš„">Â¶</a>elkå¾ˆå¤æ‚çš„</h2><p>è™½ç„¶åŸºæœ¬ç¬¦åˆäº†ä½¿ç”¨åœºæ™¯ï¼Œä½†æ˜¯å…³äºelkæˆ‘æ„Ÿè§‰è¿˜æ˜¯åªäº†è§£äº†çš®æ¯›ï¼Œå¦‚ä½•ä¼˜åŒ–ï¼Œæ€ä¹ˆå…³è”æŸ¥è¯¢ï¼Œæ€ä¹ˆè®¾ç½®ç´¢å¼•ç»“æ„æ›´é«˜æ•ˆï¼Œæ›´å¤æ‚çš„æŸ¥è¯¢è¯­å¥ï¼Œè¿™äº›éƒ½è¿˜æ²¡æ¥è§¦åˆ°ã€‚<br>ps: ç½‘ä¸Šå¾ˆå¤šå…³äºæ€§èƒ½ä¼˜åŒ–çš„æ–‡ç« ï¼Œæ¯”å¦‚<a href="https://zhuanlan.zhihu.com/p/67362440">è¿™ç¯‡</a></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;blockquote&gt;
&lt;p&gt;è®°å½•ä¸€æ¬¡å°†åƒä¸‡çº§åˆ«çš„æ•°æ®åº“è¡¨è¿ç§»åˆ°Elasticsearch çš„è¿‡ç¨‹&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2 id=&quot;èƒŒæ™¯&quot;&gt;&lt;a class=&quot;header-anchor&quot; href=&quot;#èƒŒæ™¯&quot;&gt;Â¶&lt;/a&gt;èƒŒæ™¯&lt;/h2&gt;
&lt;p&gt;æˆ‘ä»¬æœ‰ä¸€å¼ åƒä¸‡
      
    
    </summary>
    
    
      <category term="Elasticsearch" scheme="https://zzz1220.github.io/tags/Elasticsearch/"/>
    
  </entry>
  
  <entry>
    <title>2é“ç®—æ³•é¢˜çš„ä¼˜åŒ–è¿‡ç¨‹</title>
    <link href="https://zzz1220.github.io/posts/7e570359/"/>
    <id>https://zzz1220.github.io/posts/7e570359/</id>
    <published>2021-04-08T15:38:41.000Z</published>
    <updated>2023-11-08T07:30:23.203Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>æœ€è¿‘åˆ·äº†é‚£ä¹ˆå¤šçš„ç®—æ³•,æ„Ÿè§‰è‡ªå·±åˆšåˆšæœ‰ç‚¹è¿›æ­¥,åˆè¢«ä¸¤é“ç®€å•é¢˜ææ™•äº†ğŸ™ƒğŸ™ƒ,å½»åº•æš´éœ²äº†è‡ªå·±å¯¹æ—¶é—´å¤æ‚åº¦æŒæ¡ä¸è¶³çš„é—æ¼,å› æ­¤åœ¨è¿™é‡Œè®°å½•ä¸‹ä¼˜åŒ–çš„è¿‡ç¨‹.</p></blockquote><h3 id="ç¬¬ä¸€é¢˜"><a class="header-anchor" href="#ç¬¬ä¸€é¢˜">Â¶</a>ç¬¬ä¸€é¢˜</h3><p>ç»™ä½ ä¸€ä¸ªæœ‰åºæ•°ç»„ nums ï¼Œè¯·ä½  åŸåœ° åˆ é™¤é‡å¤å‡ºç°çš„å…ƒç´ ï¼Œä½¿æ¯ä¸ªå…ƒç´  æœ€å¤šå‡ºç°ä¸¤æ¬¡ ï¼Œè¿”å›åˆ é™¤åæ•°ç»„çš„æ–°é•¿åº¦ã€‚</p><p>ä¸è¦ä½¿ç”¨é¢å¤–çš„æ•°ç»„ç©ºé—´ï¼Œä½ å¿…é¡»åœ¨ åŸåœ° ä¿®æ”¹è¾“å…¥æ•°ç»„ å¹¶åœ¨ä½¿ç”¨ O(1) é¢å¤–ç©ºé—´çš„æ¡ä»¶ä¸‹å®Œæˆã€‚</p><p>ç¤ºä¾‹ 1ï¼š</p><p>è¾“å…¥ï¼šnums = [1,1,1,2,2,3]<br>è¾“å‡ºï¼š5, nums = [1,1,2,2,3]<br>è§£é‡Šï¼šå‡½æ•°åº”è¿”å›æ–°é•¿åº¦ length = 5, å¹¶ä¸”åŸæ•°ç»„çš„å‰äº”ä¸ªå…ƒç´ è¢«ä¿®æ”¹ä¸º 1, 1, 2, 2, 3 ã€‚ ä¸éœ€è¦è€ƒè™‘æ•°ç»„ä¸­è¶…å‡ºæ–°é•¿åº¦åé¢çš„å…ƒç´ ã€‚<br>ç¤ºä¾‹ 2ï¼š</p><p>è¾“å…¥ï¼šnums = [0,0,1,1,1,1,2,3,3]<br>è¾“å‡ºï¼š7, nums = [0,0,1,1,2,3,3]<br>è§£é‡Šï¼šå‡½æ•°åº”è¿”å›æ–°é•¿åº¦ length = 7, å¹¶ä¸”åŸæ•°ç»„çš„å‰äº”ä¸ªå…ƒç´ è¢«ä¿®æ”¹ä¸ºÂ 0, 0, 1, 1, 2, 3, 3 ã€‚ ä¸éœ€è¦è€ƒè™‘æ•°ç»„ä¸­è¶…å‡ºæ–°é•¿åº¦åé¢çš„å…ƒç´ ã€‚<br>ä¸€çœ‹åˆ°é¢˜ç›®,è§‰å¾—ä¸éš¾,é©¬ä¸Šå¼€å§‹å†™ä»£ç ,å°±æ¨¡æ‹Ÿæ•´ä¸ªè¿‡ç¨‹,å‡ åˆ†é’Ÿæå®š.</p><pre><code class="language-JavaScript">var removeDuplicates = function(nums) {        let len = nums.length    let last = nums[len-1]    let count = 1    for(let i = nums.length-2;i&gt;=0;i--) {        if(nums[i] === last) {            count++            if(count&gt;2) {                len--                for(let j = i;j&lt;len;j++) {                    nums[j] = nums[j+1]                }            }        }else {            count = 1            last = nums[i]        }       }    return len};</code></pre><p>åˆšå¥½è¿™å‡ å¤©å‡ ä¸ªåŒäº‹éƒ½åœ¨æ‰“å¡æ¯æ—¥ä¸€é¢˜,æˆ‘ä»¬äº¤æµäº†ä¸€ä¸‹,æˆ‘æŠŠè‡ªå·±çš„ä»£ç ç»™åŒäº‹çœ‹äº†çœ‹,ä¸€ä¸ªåŒäº‹ç«‹é©¬è¯´,ä½ è¿™ä¸ªæ—¶é—´å¤æ‚åº¦å¤ªé«˜äº†,æˆ‘ä»”ç»†çœ‹äº†çœ‹ä»£ç ,ç¡®å®,å¾ªç¯é‡Œé¢ç§»åŠ¨æ•°ç»„,å¤§æ¦‚å¤æ‚åº¦O(n^2).</p><p>å¬äº†åŒäº‹çš„çš„è§£æ³•,æˆ‘é¡¿æ‚Ÿäº†,åŸæ¥åŒæŒ‡é’ˆå°±å¥½äº†,å¿«æ…¢æŒ‡é’ˆ,æ…¢æŒ‡é’ˆä¿æŒé•¿åº¦,å¿«æŒ‡é’ˆæ¯æ¬¡+1ç”¨æ¥æ£€æŸ¥åé¢çš„å…ƒç´ ,é‡åˆ°ä¸åŒçš„å…ƒç´ ,å¹¶ä¸”å‰æ–¹å·²ç»å‡ºç°äº†ä¸¤ä¸ªé‡å¤çš„,å°±è¦†ç›–å‰æ–¹æ…¢æŒ‡é’ˆçš„å…ƒç´ ,ç„¶åæ…¢æŒ‡é’ˆç»§ç»­+1</p><p>ä¸‹é¢æ˜¯ä»£ç :</p><pre><code class="language-JavaScript">var removeDuplicates = function(nums) {    let n = nums.length    if(n&lt;2) {        return n    }    let slow = 2    let fast = 2        while(fast&lt;n) {        if(nums[slow-2] !== nums[fast]) {            nums[slow] = nums[fast]            slow++        }        fast++    }        return slow};</code></pre><p>è¿™æ ·æ—¶é—´å¤æ‚åº¦å°±è¢«ä¼˜åŒ–åˆ°äº†O(n),åªéå†äº†ä¸€è¾¹.<br>ç»è¿‡è‡ªå·±çš„æµ‹è¯•,åœ¨é•¿åº¦ä¸º999999,ä¸‰ä¸ªä¸€ç»„ç›¸åŒçš„æ•°ç»„çš„è¿è¡Œæµ‹è¯•ä¸‹,ç¬¬äºŒç§èŠ±è´¹å¤§æ¦‚3ms,è€Œç¬¬ä¸€ç§,å±…ç„¶ç”¨äº†100000+ms,ç›¸å·®äº†3ä¸‡å€!!!ğŸ¤¯ ğŸ¤¯ ğŸ¤¯ ğŸ¤¯ ğŸ¤¯</p><h3 id="ç¬¬äºŒé¢˜"><a class="header-anchor" href="#ç¬¬äºŒé¢˜">Â¶</a>ç¬¬äºŒé¢˜</h3><p>å°åŠ›å°† N ä¸ªé›¶ä»¶çš„æŠ¥ä»·å­˜äºæ•°ç»„ numsã€‚å°åŠ›é¢„ç®—ä¸º targetï¼Œå‡å®šå°åŠ›ä»…è´­ä¹°ä¸¤ä¸ªé›¶ä»¶ï¼Œè¦æ±‚è´­ä¹°é›¶ä»¶çš„èŠ±è´¹ä¸è¶…è¿‡é¢„ç®—ï¼Œè¯·é—®ä»–æœ‰å¤šå°‘ç§é‡‡è´­æ–¹æ¡ˆã€‚</p><p>æ³¨æ„ï¼šç­”æ¡ˆéœ€è¦ä»¥ 1e9 + 7 (1000000007) ä¸ºåº•å–æ¨¡ï¼Œå¦‚ï¼šè®¡ç®—åˆå§‹ç»“æœä¸ºï¼š1000000008ï¼Œè¯·è¿”å› 1<br>ç¤ºä¾‹ 1ï¼š</p><p>è¾“å…¥ï¼šnums = [2,5,3,5], target = 6</p><p>è¾“å‡ºï¼š1</p><p>è§£é‡Šï¼šé¢„ç®—å†…ä»…èƒ½è´­ä¹° nums[0] ä¸ nums[2]ã€‚</p><p>ç¤ºä¾‹ 2ï¼š</p><p>è¾“å…¥ï¼šnums = [2,2,1,9], target = 10</p><p>è¾“å‡ºï¼š4</p><p>è§£é‡Šï¼šç¬¦åˆé¢„ç®—çš„é‡‡è´­æ–¹æ¡ˆå¦‚ä¸‹ï¼š<br>nums[0] + nums[1] = 4<br>nums[0] + nums[2] = 3<br>nums[1] + nums[2] = 3<br>nums[2] + nums[3] = 10</p><p>ç¬¬ä¸€çœ¼çœ‹åˆ°è¿™ä¸ªé¢˜,å¿ƒæƒ³è¿™ä¹ˆç®€å•çš„å—?<br>ç«‹é©¬åˆæ˜¯åŒå±‚å¾ªç¯éå†ä¸€è¾¹,æœä¸å…¶ç„¶è¶…æ—¶äº†,ä¸€çœ‹ç»™çš„æµ‹è¯•ç”¨ä¾‹,é•¿åº¦ <code>2 &lt;= nums.length &lt;= 10^5</code><br>è€ƒè™‘åˆ°æ²¡æœ‰è´Ÿæ•°,äºæ˜¯åŠ äº†ä¸ªåˆ¤æ–­ç¬¬ä¸€ä¸ªæ•°çš„é•¿åº¦æ˜¯å¦å¤§äºtarget,ç„¶è€Œè¿˜æ˜¯è¶…æ—¶.<br>æƒ³äº†æƒ³,å…ˆæ’ä¸‹é¡ºåºå§,ç„¶åäºŒåˆ†æ‰¾åˆ°å°äºtargetçš„éƒ¨åˆ†,åœ¨è¿™ä¸ªèŒƒå›´å†…åˆ¤æ–­,åæ¥åˆæƒ³,å¦‚æœtargetå¾ˆå¤§æ€ä¹ˆåŠ?ä¸è¿˜æ˜¯è¦éå†å¾ˆå¤šæ¬¡å—?<br>æƒ³å•Šæƒ³,æ­»æ‰nä¸ªè„‘ç»†èƒ,mæ ¹å¤´å‘å,æˆ‘æ˜ç™½äº†,åœ¨ä¸€ä¸ªé¡ºåºçš„æ•°ç»„é‡Œ,å¦‚æœä¸‹æ ‡iå’Œä¸‹æ ‡jæ»¡è¶³å°äºtarget,é‚£ä¹ˆiå’Œå…¶ä»–å°äºjçš„å…¶ä»–ç»„åˆéƒ½æ»¡è¶³,è¿™ä¸ªä¸ªæ•°æ˜¯(j-i)ä¸ª,ç„¶åi++ç»§ç»­åˆ¤æ–­å°±è¡Œäº†,å¦‚æœå¤§äºtargetäº†,å°±å¤§æ•°çš„ä¸‹æ ‡,j å‘å·¦ç§»åŠ¨j-- å°±è¡Œäº†. æƒ³æ˜ç™½å,æ‰å‘ç°å·²ç»è¿‡å»1ä¸ªå°æ—¶äº†.é©¬ä¸ŠåŠ¨æ‰‹å†™ä»£ç </p><pre><code class="language-JavaScript">var purchasePlans = function(nums, target) {    const MOD = 1000000007    nums.sort((a,b) =&gt; a-b)    let i = 0    let  j = nums.length-1    let res = 0    while(i&lt;j) {        if(nums[i] + nums[j] &lt;= target) {            res+=j-i            res = res%MOD            i++        }else {            j--        }    }    return res};</code></pre><p>è¿™æ ·å°±O(n)äº†,åŒæ—¶,ä¸è¦å¿˜äº†æ¨¡MOD.</p><p>æ³¨æ„æ—¶é—´å¤æ‚åº¦,ä¸è¦å†å†™ä½æ•ˆç‡çš„ä»£ç äº†ğŸ’ªğŸ’ªğŸ’ªğŸ’ªğŸ’ª</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;blockquote&gt;
&lt;p&gt;æœ€è¿‘åˆ·äº†é‚£ä¹ˆå¤šçš„ç®—æ³•,æ„Ÿè§‰è‡ªå·±åˆšåˆšæœ‰ç‚¹è¿›æ­¥,åˆè¢«ä¸¤é“ç®€å•é¢˜ææ™•äº†ğŸ™ƒğŸ™ƒ,å½»åº•æš´éœ²äº†è‡ªå·±å¯¹æ—¶é—´å¤æ‚åº¦æŒæ¡ä¸è¶³çš„é—æ¼,å› æ­¤åœ¨è¿™é‡Œè®°å½•ä¸‹ä¼˜åŒ–çš„è¿‡ç¨‹.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3 id=&quot;ç¬¬ä¸€é¢˜&quot;&gt;&lt;a class=&quot;header-anc
      
    
    </summary>
    
    
      <category term="ç®—æ³•" scheme="https://zzz1220.github.io/tags/%E7%AE%97%E6%B3%95/"/>
    
  </entry>
  
  <entry>
    <title>æµè§ˆå™¨å…¼å®¹æ€§é—®é¢˜</title>
    <link href="https://zzz1220.github.io/posts/fe80343/"/>
    <id>https://zzz1220.github.io/posts/fe80343/</id>
    <published>2021-04-07T13:23:44.000Z</published>
    <updated>2023-11-08T07:32:54.896Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>ä¸€ä¸ªè®°å½•æ—¥å¸¸ç»“å±€æµè§ˆå™¨å…¼å®¹é—®é¢˜çš„å¤‡å¿˜å½•</p></blockquote><ol><li>å¦‚ä½•æŸ¥çœ‹æŸä¸ªjavaScript å¯¹è±¡æˆ–è€…css å±æ€§çš„å…¼å®¹æ€§</li></ol><p>åˆ°MNDæœç´¢éœ€è¦æŸ¥çœ‹çš„å†…å®¹,é¡µé¢åº•éƒ¨æä¾›ä¸€ä»½ä¸åŒå¹³å°(æ¯”å¦‚PCç«¯,æ‰‹æœºç«¯,nodeç«¯)ä»¥åŠä¸åŒæµè§ˆå™¨è¿›è¡Œå’Œå…¶å„ä¸ªå†å²ç‰ˆæœ¬çš„å…¼å®¹è¡¨æ ¼,å¯ä»¥å¾ˆç›´è§‚çš„çœ‹åˆ°ä½ è¦ç”¨çš„æŠ€æœ¯æ˜¯å¦æ”¯æŒä¸šåŠ¡è¦†ç›–çš„æµè§ˆå™¨æˆ–è€…å¹³å°.</p><ol start="2"><li>æµè§ˆå™¨å¼ºåˆ¶ç”¨webkitå†…æ ¸<br>å›½å†…éƒ¨åˆ†åŒæ ¸æµè§ˆå™¨å¦‚ï¼š360æé€Ÿæµè§ˆå™¨ã€æœç‹—æµè§ˆå™¨ã€ç™¾åº¦æµè§ˆå™¨ç­‰ç­‰ï¼Œè¿™äº›æµè§ˆå™¨éƒ½å·ç§°æ‹¥æœ‰ä¸¤ä¸ªå†…æ ¸ï¼Œç”¨æˆ·å¯ä»¥æ ¹æ®éœ€è¦è‡ªç”±åˆ‡æ¢ã€‚åŒæ ¸æµè§ˆå™¨çš„2ä¸ªå†…ä¸ªåˆ†åˆ«ä¸ºæé€Ÿå†…æ ¸ï¼ˆwebkitå†…æ ¸ï¼‰ï¼Œå…¼å®¹å†…æ ¸ï¼ˆtridentå†…æ ¸ï¼‰ã€‚ä½¿ç”¨æé€Ÿå†…æ ¸æµè§ˆå™¨ä¼šæŒ‰ç…§w3cçš„æ–°æ ‡å‡†æ¸²æŸ“é¡µé¢ï¼Œå…¶ç»“æœæ˜¯æ¸²æŸ“é€Ÿåº¦æ›´å¿«ï¼Œè§„èŒƒæ€§æ›´å¥½ã€‚è€Œå…¼å®¹å†…æ ¸ä¹Ÿå¹¶éä¸€æ— æ˜¯å¤„ï¼Œå›½å†…å¾ˆå¤šæ”¿åºœã€é“¶è¡Œç±»ç½‘ç«™åœ¨ç¼–å†™ä¹‹åˆè€ƒè™‘äº†å…¼å®¹æ—§ç‰ˆæœ¬ieçš„tridentå†…æ ¸ï¼Œå…¶ä»£ç å¹¶éä¸ºw3cè§„èŒƒçš„æ ‡å‡†ï¼Œè€Œæ˜¯æµè§ˆå™¨å‚å•†è‡ªå®šä¹‰çš„æ¨¡å¼ï¼Œè¿™ç±»ç½‘ç«™åˆ™å¿…é¡»ä½¿ç”¨å…¼å®¹æ¨¡å¼æ‰“å¼€ï¼Œå¦‚æœä½¿ç”¨æé€Ÿæ¨¡å¼æ‰“å¼€å°±ä¼šäº§ç”Ÿå¸ƒå±€é”™ä¹±ç­‰é—®é¢˜ã€‚</li></ol><p>å¯ä»¥ç”¨ä¸‹é¢çš„æ ‡ç­¾å¼ºåˆ¶æµè§ˆå™¨ä½¿ç”¨æé€Ÿå†…æ ¸:</p><meta name="renderer" content="webkit"><p>ä¹Ÿå¯ä»¥ä½¿ç”¨å…¼å®¹çš„å†™æ³•:</p><meta name="renderer" content="webkit|ie-comp|ie-stand">è¿™é‡Œä¼šæ ¹æ®å…ˆåé¡ºåº,å¯ç”¨æ”¯æŒçš„å†…æ ¸,ä¸æ”¯æŒä¹Ÿä¸ä¼š<ol start="3"><li>é‡ç½®æ ·å¼<br>ä¸åŒçš„æµè§ˆå™¨ä¹‹é—´åŸºæœ¬æ ·å¼å¾ˆä¸ä¸€æ ·ï¼Œæ¯”å¦‚IEæµè§ˆå™¨ä½¿ç”¨ieç›’å­æ¨¡å‹ï¼Œç°ä»£æµè§ˆå™¨å¤§å¤šä½¿ç”¨æ ‡å‡†ç›’å­æ¨¡å‹ã€‚ä»–ä»¬ä¹‹é—´çš„å®½åº¦è®¡ç®—å¾ˆä¸ä¸€æ ·ã€‚<br>è¿™ä¸ªæ—¶å€™å°±éœ€è¦ç”¨reset.cssé‡ç½®ä¸€ä¸‹æ ·å¼äº†</li></ol><pre><code class="language-css">@charset &quot;utf-8&quot;;/* CSS Document */html, body, div, span, applet, object, iframe,h1, h2, h3, h4, h5, h6, p, blockquote, pre,a, abbr, acronym, address, big, cite, code,del, dfn, em, font, img, ins, kbd, q, s, samp,small, strike, strong, sub, sup, tt, var,b, u, i, center,dl, dt, dd, ol, ul, li,fieldset, form, label, legend,table, caption, tbody, tfoot, thead, tr, th, td {    margin: 0;    padding: 0;    border: 0;    outline: 0;    font-size: 100%;    vertical-align: baseline;    background: transparent;}body {    line-height: 1;}ol, ul {    list-style: none;}blockquote, q {    quotes: none;}blockquote:before, blockquote:after,q:before, q:after {    content: '';    content: none;}/* remember to define focus styles! */:focus {    outline: 0;}/* remember to highlight inserts somehow! */ins {    text-decoration: none;}del {    text-decoration: line-through;}/* tables still need 'cellspacing=&quot;0&quot;' in the markup */table {    border-collapse: collapse;    border-spacing: 0;}/* æ¸…é™¤æµ®åŠ¨ */.clearfloat:after{display:block;clear:both;content:&quot;&quot;;visibility:hidden; height:0;} .clearfloat{zoom:1} </code></pre><ol start="4"><li>æµè§ˆå™¨ç±»å‹åˆ¤æ–­</li></ol><pre><code class="language-JavaScript">// æµè§ˆå™¨ç±»å‹åˆ¤æ–­function browserType () {    var userAgent = navigator.userAgent; //å–å¾—æµè§ˆå™¨çš„userAgentå­—ç¬¦ä¸²    var isOpera = userAgent.indexOf(&quot;Opera&quot;) &gt; -1; //åˆ¤æ–­æ˜¯å¦Operaæµè§ˆå™¨    var isIE = window.ActiveXObject || &quot;ActiveXObject&quot; in window    var isEdge = userAgent.indexOf(&quot;Edge&quot;) &gt; -1; //åˆ¤æ–­æ˜¯å¦IEçš„Edgeæµè§ˆå™¨    var isFF = userAgent.indexOf(&quot;Firefox&quot;) &gt; -1; //åˆ¤æ–­æ˜¯å¦Firefoxæµè§ˆå™¨    var isSafari = userAgent.indexOf(&quot;Safari&quot;) &gt; -1 &amp;&amp; userAgent.indexOf(&quot;Chrome&quot;) == -1; //åˆ¤æ–­æ˜¯å¦Safariæµè§ˆå™¨    var isChrome = userAgent.indexOf(&quot;Chrome&quot;) &gt; -1 &amp;&amp; userAgent.indexOf(&quot;Safari&quot;) &gt; -1 &amp;&amp; !isEdge; //åˆ¤æ–­Chromeæµè§ˆå™¨    if (isIE) {        var reIE = new RegExp(&quot;MSIE (\\d+\\.\\d+);&quot;);        reIE.test(userAgent);        var fIEVersion = parseFloat(RegExp[&quot;$1&quot;]);        if (userAgent.indexOf('MSIE 6.0') != -1) {            return &quot;IE6&quot;;        } else if (fIEVersion == 7) {            return &quot;IE7&quot;;        }        else if (fIEVersion == 8) {            return &quot;IE8&quot;;        }        else if (fIEVersion == 9) {            return &quot;IE9&quot;;        }        else if (fIEVersion == 10) {            return &quot;IE10&quot;;        }        else if (userAgent.toLowerCase().match(/rv:([\d.]+)\) like gecko/)) {            return &quot;IE11&quot;;        }        else {            return &quot;0&quot;        }//IEç‰ˆæœ¬è¿‡ä½    }    if (isFF) {        return &quot;FF&quot;;    }    if (isOpera) {        return &quot;Opera&quot;;    }    if (isSafari) {        return &quot;Safari&quot;;    }    if (isChrome) {        return &quot;Chrome&quot;;    }    if (isEdge) {        return &quot;Edge&quot;;    }}</code></pre><ol start="5"><li>html if åˆ¤æ–­æµè§ˆå™¨ieç‰ˆæœ¬</li></ol><pre><code class="language-html">&lt;!--[if !IE]&gt; é™¤IEå¤–éƒ½å¯è¯†åˆ« &lt;!--&lt;![endif]--&gt;&lt;!--[if IE]&gt; æ‰€æœ‰çš„IEå¯è¯†åˆ« &lt;![endif]--&gt;&lt;!--[if IE 6]&gt; ä»…IE6å¯è¯†åˆ« &lt;![endif]--&gt;&lt;!--[if lt IE 6]&gt; IE6ä»¥åŠIE6ä»¥ä¸‹ç‰ˆæœ¬å¯è¯†åˆ« &lt;![endif]--&gt;&lt;!--[if gte IE 6]&gt; IE6ä»¥åŠIE6ä»¥ä¸Šç‰ˆæœ¬å¯è¯†åˆ« &lt;![endif]--&gt;&lt;!--[if IE 7]&gt; ä»…IE7å¯è¯†åˆ« &lt;![endif]--&gt;&lt;!--[if lt IE 7]&gt; IE7ä»¥åŠIE7ä»¥ä¸‹ç‰ˆæœ¬å¯è¯†åˆ« &lt;![endif]--&gt;&lt;!--[if gte IE 7]&gt; IE7ä»¥åŠIE7ä»¥ä¸Šç‰ˆæœ¬å¯è¯†åˆ« &lt;![endif]--&gt;&lt;!--[if IE 8]&gt; ä»…IE8å¯è¯†åˆ« &lt;![endif]--&gt;&lt;!--[if IE 9]&gt; ä»…IE9å¯è¯†åˆ« &lt;![endif]--&gt;</code></pre><p>~~æœªå®Œå¾…ç»­</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;blockquote&gt;
&lt;p&gt;ä¸€ä¸ªè®°å½•æ—¥å¸¸ç»“å±€æµè§ˆå™¨å…¼å®¹é—®é¢˜çš„å¤‡å¿˜å½•&lt;/p&gt;
&lt;/blockquote&gt;
&lt;ol&gt;
&lt;li&gt;å¦‚ä½•æŸ¥çœ‹æŸä¸ªjavaScript å¯¹è±¡æˆ–è€…css å±æ€§çš„å…¼å®¹æ€§&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;åˆ°MNDæœç´¢éœ€è¦æŸ¥çœ‹çš„å†…å®¹,é¡µé¢åº•éƒ¨æä¾›ä¸€ä»½ä¸åŒå¹³å°(æ¯”å¦‚PC
      
    
    </summary>
    
    
      <category term="html5" scheme="https://zzz1220.github.io/tags/html5/"/>
    
  </entry>
  
  <entry>
    <title>promiseA+</title>
    <link href="https://zzz1220.github.io/posts/d721f59f/"/>
    <id>https://zzz1220.github.io/posts/d721f59f/</id>
    <published>2021-04-06T15:36:55.000Z</published>
    <updated>2023-11-08T07:30:23.185Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>JavaScript Promise A+ è§„èŒƒ</p></blockquote><p>è¯‘è€…åºï¼šä¸€å¹´å‰æ›¾è¯‘è¿‡ Promise/A+ è§„èŒƒï¼Œé€‚æ—¶å®Œå…¨ä¸æ‡‚ Promise çš„æ€æƒ³ï¼Œçº¯ç²¹å°†ç¿»è¯‘çš„è¿‡ç¨‹å½“ä½œå­¦ä¹ ï¼Œæ—§æ–‡è¯‘ä¸‹æ¥è¯˜å±ˆè±ç‰™ï¼Œè¯»èµ·æ¥ååˆ†ä¸é¡ºç•…ã€‚è°çŸ¥è¿™æ ·ä¸€ç¯‡æ‹™è¯‘ï¼Œä¸€å¹´ä¹‹é—´ç«Ÿç„¶ç‚¹å‡»æ•°åƒï¼Œæˆä¸ºè°·æ­Œæœç´¢çš„å¤´æ¡ã€‚ä»Šæ—¥åœ¨ç†è§£ä¹‹åé‡è¯‘æ­¤è§„èŒƒï¼Œä»¥é£¨è¯»è€…ã€‚</p><p>ä¸€ä¸ªå¼€æ”¾ã€å¥å…¨ä¸”é€šç”¨çš„ JavaScript Promise æ ‡å‡†ã€‚ç”±å¼€å‘è€…åˆ¶å®šï¼Œä¾›å¼€å‘è€…å‚è€ƒã€‚</p><p>è¯‘æ–‡æœ¯è¯­:</p><p>è§£å†³ï¼ˆfulfillï¼‰ï¼šæŒ‡ä¸€ä¸ª promise æˆåŠŸæ—¶è¿›è¡Œçš„ä¸€ç³»åˆ—æ“ä½œï¼Œå¦‚çŠ¶æ€çš„æ”¹å˜ã€å›è°ƒçš„æ‰§è¡Œã€‚è™½ç„¶è§„èŒƒä¸­ç”¨ fulfill æ¥è¡¨ç¤ºè§£å†³ï¼Œä½†åœ¨åä¸–çš„ promise å®ç°å¤šä»¥ resolve æ¥æŒ‡ä»£ä¹‹ã€‚</p><p>æ‹’ç»ï¼ˆrejectï¼‰ï¼šæŒ‡ä¸€ä¸ª promise å¤±è´¥æ—¶è¿›è¡Œçš„ä¸€ç³»åˆ—æ“ä½œã€‚</p><p>ç»ˆå€¼ï¼ˆeventual valueï¼‰ï¼šæ‰€è°“ç»ˆå€¼ï¼ŒæŒ‡çš„æ˜¯ promise è¢«è§£å†³æ—¶ä¼ é€’ç»™è§£å†³å›è°ƒçš„å€¼ï¼Œç”±äº promise æœ‰ä¸€æ¬¡æ€§çš„ç‰¹å¾ï¼Œå› æ­¤å½“è¿™ä¸ªå€¼è¢«ä¼ é€’æ—¶ï¼Œæ ‡å¿—ç€ promise ç­‰å¾…æ€çš„ç»“æŸï¼Œæ•…ç§°ä¹‹ç»ˆå€¼ï¼Œæœ‰æ—¶ä¹Ÿç›´æ¥ç®€ç§°ä¸ºå€¼ï¼ˆvalueï¼‰ã€‚</p><p>æ®å› ï¼ˆreasonï¼‰ï¼šä¹Ÿå°±æ˜¯æ‹’ç»åŸå› ï¼ŒæŒ‡åœ¨ promise è¢«æ‹’ç»æ—¶ä¼ é€’ç»™æ‹’ç»å›è°ƒçš„å€¼ã€‚</p><p>å®ç°:</p><pre><code class="language-JavaScript">/** * Promise å®ç° éµå¾ªpromise/A+è§„èŒƒ * Promise/A+è§„èŒƒè¯‘æ–‡: * https://malcolmyu.github.io/2015/06/12/Promises-A-Plus/#note-4 */// promise ä¸‰ä¸ªçŠ¶æ€const PENDING = &quot;pending&quot;;const FULFILLED = &quot;fulfilled&quot;;const REJECTED = &quot;rejected&quot;;function Promise(excutor) {    let that = this; // ç¼“å­˜å½“å‰promiseå®ä¾‹å¯¹è±¡    that.status = PENDING; // åˆå§‹çŠ¶æ€    that.value = undefined; // fulfilledçŠ¶æ€æ—¶ è¿”å›çš„ä¿¡æ¯    that.reason = undefined; // rejectedçŠ¶æ€æ—¶ æ‹’ç»çš„åŸå›     that.onFulfilledCallbacks = []; // å­˜å‚¨fulfilledçŠ¶æ€å¯¹åº”çš„onFulfilledå‡½æ•°    that.onRejectedCallbacks = []; // å­˜å‚¨rejectedçŠ¶æ€å¯¹åº”çš„onRejectedå‡½æ•°    function resolve(value) { // valueæˆåŠŸæ€æ—¶æ¥æ”¶çš„ç»ˆå€¼        if (value instanceof Promise) {            return value.then(resolve, reject);        }        // ä¸ºä»€ä¹ˆresolve åŠ setTimeout?        // 2.2.4è§„èŒƒ onFulfilled å’Œ onRejected åªå…è®¸åœ¨ execution context æ ˆä»…åŒ…å«å¹³å°ä»£ç æ—¶è¿è¡Œ.        // æ³¨1 è¿™é‡Œçš„å¹³å°ä»£ç æŒ‡çš„æ˜¯å¼•æ“ã€ç¯å¢ƒä»¥åŠ promise çš„å®æ–½ä»£ç ã€‚å®è·µä¸­è¦ç¡®ä¿ onFulfilled å’Œ onRejected æ–¹æ³•å¼‚æ­¥æ‰§è¡Œï¼Œä¸”åº”è¯¥åœ¨ then æ–¹æ³•è¢«è°ƒç”¨çš„é‚£ä¸€è½®äº‹ä»¶å¾ªç¯ä¹‹åçš„æ–°æ‰§è¡Œæ ˆä¸­æ‰§è¡Œã€‚        setTimeout(() =&gt; {            // è°ƒç”¨resolve å›è°ƒå¯¹åº”onFulfilledå‡½æ•°            if (that.status === PENDING) {                // åªèƒ½ç”±pedningçŠ¶æ€ =&gt; fulfilledçŠ¶æ€ (é¿å…è°ƒç”¨å¤šæ¬¡resolve reject)                that.status = FULFILLED;                that.value = value;                that.onFulfilledCallbacks.forEach(cb =&gt; cb(that.value));            }        });    }    function reject(reason) { // reasonå¤±è´¥æ€æ—¶æ¥æ”¶çš„æ‹’å›         setTimeout(() =&gt; {            // è°ƒç”¨reject å›è°ƒå¯¹åº”onRejectedå‡½æ•°            if (that.status === PENDING) {                // åªèƒ½ç”±pedningçŠ¶æ€ =&gt; rejectedçŠ¶æ€ (é¿å…è°ƒç”¨å¤šæ¬¡resolve reject)                that.status = REJECTED;                that.reason = reason;                that.onRejectedCallbacks.forEach(cb =&gt; cb(that.reason));            }        });    }    // æ•è·åœ¨excutoræ‰§è¡Œå™¨ä¸­æŠ›å‡ºçš„å¼‚å¸¸    // new Promise((resolve, reject) =&gt; {    //     throw new Error('error in excutor')    // })    try {        excutor(resolve, reject);    } catch (e) {        reject(e);    }}/** * resolveä¸­çš„å€¼å‡ ç§æƒ…å†µï¼š * 1.æ™®é€šå€¼ * 2.promiseå¯¹è±¡ * 3.thenableå¯¹è±¡/å‡½æ•° *//** * å¯¹resolve è¿›è¡Œæ”¹é€ å¢å¼º é’ˆå¯¹resolveä¸­ä¸åŒå€¼æƒ…å†µ è¿›è¡Œå¤„ç† * @param  {promise} promise2 promise1.thenæ–¹æ³•è¿”å›çš„æ–°çš„promiseå¯¹è±¡ * @param  {[type]} x         promise1ä¸­onFulfilledçš„è¿”å›å€¼ * @param  {[type]} resolve   promise2çš„resolveæ–¹æ³• * @param  {[type]} reject    promise2çš„rejectæ–¹æ³• */function resolvePromise(promise2, x, resolve, reject) {    if (promise2 === x) { // å¦‚æœä»onFulfilledä¸­è¿”å›çš„x å°±æ˜¯promise2 å°±ä¼šå¯¼è‡´å¾ªç¯å¼•ç”¨æŠ¥é”™        return reject(new TypeError('å¾ªç¯å¼•ç”¨'));    }    let called = false; // é¿å…å¤šæ¬¡è°ƒç”¨    // å¦‚æœxæ˜¯ä¸€ä¸ªpromiseå¯¹è±¡ ï¼ˆè¯¥åˆ¤æ–­å’Œä¸‹é¢ åˆ¤æ–­æ˜¯ä¸æ˜¯thenableå¯¹è±¡é‡å¤ æ‰€ä»¥å¯æœ‰å¯æ— ï¼‰    if (x instanceof Promise) { // è·å¾—å®ƒçš„ç»ˆå€¼ ç»§ç»­resolve        if (x.status === PENDING) { // å¦‚æœä¸ºç­‰å¾…æ€éœ€ç­‰å¾…ç›´è‡³ x è¢«æ‰§è¡Œæˆ–æ‹’ç» å¹¶è§£æyå€¼            x.then(y =&gt; {                resolvePromise(promise2, y, resolve, reject);            }, reason =&gt; {                reject(reason);            });        } else { // å¦‚æœ x å·²ç»å¤„äºæ‰§è¡Œæ€/æ‹’ç»æ€(å€¼å·²ç»è¢«è§£æä¸ºæ™®é€šå€¼)ï¼Œç”¨ç›¸åŒçš„å€¼æ‰§è¡Œä¼ é€’ä¸‹å» promise            x.then(resolve, reject);        }        // å¦‚æœ x ä¸ºå¯¹è±¡æˆ–è€…å‡½æ•°    } else if (x != null &amp;&amp; ((typeof x === 'object') || (typeof x === 'function'))) {        try { // æ˜¯å¦æ˜¯thenableå¯¹è±¡ï¼ˆå…·æœ‰thenæ–¹æ³•çš„å¯¹è±¡/å‡½æ•°ï¼‰            let then = x.then;            if (typeof then === 'function') {                then.call(x, y =&gt; {                    if (called) return;                    called = true;                    resolvePromise(promise2, y, resolve, reject);                }, reason =&gt; {                    if (called) return;                    called = true;                    reject(reason);                })            } else { // è¯´æ˜æ˜¯ä¸€ä¸ªæ™®é€šå¯¹è±¡/å‡½æ•°                resolve(x);            }        } catch (e) {            if (called) return;            called = true;            reject(e);        }    } else {        resolve(x);    }}/** * [æ³¨å†ŒfulfilledçŠ¶æ€/rejectedçŠ¶æ€å¯¹åº”çš„å›è°ƒå‡½æ•°] * @param  {function} onFulfilled fulfilledçŠ¶æ€æ—¶ æ‰§è¡Œçš„å‡½æ•° * @param  {function} onRejected  rejectedçŠ¶æ€æ—¶ æ‰§è¡Œçš„å‡½æ•° * @return {function} newPromsie  è¿”å›ä¸€ä¸ªæ–°çš„promiseå¯¹è±¡ */Promise.prototype.then = function (onFulfilled, onRejected) {    const that = this;    let newPromise;    // å¤„ç†å‚æ•°é»˜è®¤å€¼ ä¿è¯å‚æ•°åç»­èƒ½å¤Ÿç»§ç»­æ‰§è¡Œ    onFulfilled =        typeof onFulfilled === &quot;function&quot; ? onFulfilled : value =&gt; value;    onRejected =        typeof onRejected === &quot;function&quot; ? onRejected : reason =&gt; {            throw reason;        };    // thené‡Œé¢çš„FULFILLED/REJECTEDçŠ¶æ€æ—¶ ä¸ºä»€ä¹ˆè¦åŠ setTimeout ?    // åŸå› :    // å…¶ä¸€ 2.2.4è§„èŒƒ è¦ç¡®ä¿ onFulfilled å’Œ onRejected æ–¹æ³•å¼‚æ­¥æ‰§è¡Œ(ä¸”åº”è¯¥åœ¨ then æ–¹æ³•è¢«è°ƒç”¨çš„é‚£ä¸€è½®äº‹ä»¶å¾ªç¯ä¹‹åçš„æ–°æ‰§è¡Œæ ˆä¸­æ‰§è¡Œ) æ‰€ä»¥è¦åœ¨resolveé‡ŒåŠ ä¸ŠsetTimeout    // å…¶äºŒ 2.2.6è§„èŒƒ å¯¹äºä¸€ä¸ªpromiseï¼Œå®ƒçš„thenæ–¹æ³•å¯ä»¥è°ƒç”¨å¤šæ¬¡.ï¼ˆå½“åœ¨å…¶ä»–ç¨‹åºä¸­å¤šæ¬¡è°ƒç”¨åŒä¸€ä¸ªpromiseçš„thenæ—¶ ç”±äºä¹‹å‰çŠ¶æ€å·²ç»ä¸ºFULFILLED/REJECTEDçŠ¶æ€ï¼Œåˆ™ä¼šèµ°çš„ä¸‹é¢é€»è¾‘),æ‰€ä»¥è¦ç¡®ä¿ä¸ºFULFILLED/REJECTEDçŠ¶æ€å ä¹Ÿè¦å¼‚æ­¥æ‰§è¡ŒonFulfilled/onRejected    // å…¶äºŒ 2.2.6è§„èŒƒ ä¹Ÿæ˜¯resolveå‡½æ•°é‡ŒåŠ setTimeoutçš„åŸå›     // æ€»ä¹‹éƒ½æ˜¯ è®©thenæ–¹æ³•å¼‚æ­¥æ‰§è¡Œ ä¹Ÿå°±æ˜¯ç¡®ä¿onFulfilled/onRejectedå¼‚æ­¥æ‰§è¡Œ    // å¦‚ä¸‹é¢è¿™ç§æƒ…æ™¯ å¤šæ¬¡è°ƒç”¨p1.then    // p1.then((value) =&gt; { // æ­¤æ—¶p1.status ç”±peddingçŠ¶æ€ =&gt; fulfilledçŠ¶æ€    //     console.log(value); // resolve    //     // console.log(p1.status); // fulfilled    //     p1.then(value =&gt; { // å†æ¬¡p1.then è¿™æ—¶å·²ç»ä¸ºfulfilledçŠ¶æ€ èµ°çš„æ˜¯fulfilledçŠ¶æ€åˆ¤æ–­é‡Œçš„é€»è¾‘ æ‰€ä»¥æˆ‘ä»¬ä¹Ÿè¦ç¡®ä¿åˆ¤æ–­é‡Œé¢onFuilledå¼‚æ­¥æ‰§è¡Œ    //         console.log(value); // 'resolve'    //     });    //     console.log('å½“å‰æ‰§è¡Œæ ˆä¸­åŒæ­¥ä»£ç ');    // })    // console.log('å…¨å±€æ‰§è¡Œæ ˆä¸­åŒæ­¥ä»£ç ');    //    if (that.status === FULFILLED) { // æˆåŠŸæ€        return newPromise = new Promise((resolve, reject) =&gt; {            setTimeout(() =&gt; {                try {                    let x = onFulfilled(that.value);                    resolvePromise(newPromise, x, resolve, reject); // æ–°çš„promise resolve ä¸Šä¸€ä¸ªonFulfilledçš„è¿”å›å€¼                } catch (e) {                    reject(e); // æ•è·å‰é¢onFulfilledä¸­æŠ›å‡ºçš„å¼‚å¸¸ then(onFulfilled, onRejected);                }            });        })    }    if (that.status === REJECTED) { // å¤±è´¥æ€        return newPromise = new Promise((resolve, reject) =&gt; {            setTimeout(() =&gt; {                try {                    let x = onRejected(that.reason);                    resolvePromise(newPromise, x, resolve, reject);                } catch (e) {                    reject(e);                }            });        });    }    if (that.status === PENDING) { // ç­‰å¾…æ€        // å½“å¼‚æ­¥è°ƒç”¨resolve/rejectedæ—¶ å°†onFulfilled/onRejectedæ”¶é›†æš‚å­˜åˆ°é›†åˆä¸­        return newPromise = new Promise((resolve, reject) =&gt; {            that.onFulfilledCallbacks.push((value) =&gt; {                try {                    let x = onFulfilled(value);                    resolvePromise(newPromise, x, resolve, reject);                } catch (e) {                    reject(e);                }            });            that.onRejectedCallbacks.push((reason) =&gt; {                try {                    let x = onRejected(reason);                    resolvePromise(newPromise, x, resolve, reject);                } catch (e) {                    reject(e);                }            });        });    }};/** * Promise.all Promiseè¿›è¡Œå¹¶è¡Œå¤„ç† * å‚æ•°: promiseå¯¹è±¡ç»„æˆçš„æ•°ç»„ä½œä¸ºå‚æ•° * è¿”å›å€¼: è¿”å›ä¸€ä¸ªPromiseå®ä¾‹ * å½“è¿™ä¸ªæ•°ç»„é‡Œçš„æ‰€æœ‰promiseå¯¹è±¡å…¨éƒ¨å˜ä¸ºresolveçŠ¶æ€çš„æ—¶å€™ï¼Œæ‰ä¼šresolveã€‚ */Promise.all = function (promises) {    return new Promise((resolve, reject) =&gt; {        let done = gen(promises.length, resolve);        promises.forEach((promise, index) =&gt; {            promise.then((value) =&gt; {                done(index, value)            }, reject)        })    })}function gen(length, resolve) {    let count = 0;    let values = [];    return function (i, value) {        values[i] = value;        if (++count === length) {            console.log(values);            resolve(values);        }    }}/** * Promise.race * å‚æ•°: æ¥æ”¶ promiseå¯¹è±¡ç»„æˆçš„æ•°ç»„ä½œä¸ºå‚æ•° * è¿”å›å€¼: è¿”å›ä¸€ä¸ªPromiseå®ä¾‹ * åªè¦æœ‰ä¸€ä¸ªpromiseå¯¹è±¡è¿›å…¥ FulFilled æˆ–è€… Rejected çŠ¶æ€çš„è¯ï¼Œå°±ä¼šç»§ç»­è¿›è¡Œåé¢çš„å¤„ç†(å–å†³äºå“ªä¸€ä¸ªæ›´å¿«) */Promise.race = function (promises) {    return new Promise((resolve, reject) =&gt; {        promises.forEach((promise, index) =&gt; {            promise.then(resolve, reject);        });    });}// ç”¨äºpromiseæ–¹æ³•é“¾æ—¶ æ•è·å‰é¢onFulfilled/onRejectedæŠ›å‡ºçš„å¼‚å¸¸Promise.prototype.catch = function (onRejected) {    return this.then(null, onRejected);}Promise.resolve = function (value) {    return new Promise(resolve =&gt; {        resolve(value);    });}Promise.reject = function (reason) {    return new Promise((resolve, reject) =&gt; {        reject(reason);    });}/** * åŸºäºPromiseå®ç°Deferredçš„ * Deferredå’ŒPromiseçš„å…³ç³» * - Deferred æ‹¥æœ‰ Promise * - Deferred å…·å¤‡å¯¹ Promiseçš„çŠ¶æ€è¿›è¡Œæ“ä½œçš„ç‰¹æƒæ–¹æ³•ï¼ˆresolve rejectï¼‰ * *å‚è€ƒjQuery.Deferred *url: http://api.jquery.com/category/deferred-object/ */Promise.deferred = function () { // å»¶è¿Ÿå¯¹è±¡    let defer = {};    defer.promise = new Promise((resolve, reject) =&gt; {        defer.resolve = resolve;        defer.reject = reject;    });    return defer;}/** * Promise/A+è§„èŒƒæµ‹è¯• * npm i -g promises-aplus-tests * promises-aplus-tests Promise.js */try {    module.exports = Promise} catch (e) {}</code></pre><p>æ¥æº:<br><a href="https://www.ituring.com.cn/article/66566" target="_blank" rel="noopener">https://www.ituring.com.cn/article/66566</a></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;blockquote&gt;
&lt;p&gt;JavaScript Promise A+ è§„èŒƒ&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;è¯‘è€…åºï¼šä¸€å¹´å‰æ›¾è¯‘è¿‡ Promise/A+ è§„èŒƒï¼Œé€‚æ—¶å®Œå…¨ä¸æ‡‚ Promise çš„æ€æƒ³ï¼Œçº¯ç²¹å°†ç¿»è¯‘çš„è¿‡ç¨‹å½“ä½œå­¦ä¹ ï¼Œæ—§æ–‡è¯‘ä¸‹æ¥è¯˜å±ˆè±ç‰™ï¼Œè¯»èµ·æ¥ååˆ†ä¸é¡ºç•…ã€‚è°çŸ¥
      
    
    </summary>
    
    
      <category term="JavaScript" scheme="https://zzz1220.github.io/tags/JavaScript/"/>
    
  </entry>
  
  <entry>
    <title>vue3-new-feature</title>
    <link href="https://zzz1220.github.io/posts/20a24eb5/"/>
    <id>https://zzz1220.github.io/posts/20a24eb5/</id>
    <published>2020-12-29T07:47:59.000Z</published>
    <updated>2023-11-07T06:53:35.496Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>æ€»ç»“ä¸€ä¸‹æœ€è¿‘ä¸€æ®µæ—¶é—´å­¦ä¹  vue3 çš„æ”¶è·</p></blockquote><h2 id="åŠŸèƒ½æ–¹é¢"><a class="header-anchor" href="#åŠŸèƒ½æ–¹é¢">Â¶</a>åŠŸèƒ½æ–¹é¢</h2><h4 id="Composition-API-ç»„åˆAPI"><a class="header-anchor" href="#Composition-API-ç»„åˆAPI">Â¶</a>Composition API (ç»„åˆAPI)</h4><p>Composition API çš„çµæ„Ÿæ¥è‡ªäº React Hooks ï¼Œæ˜¯æ¯” mixin æ›´å¼ºå¤§çš„å­˜åœ¨ã€‚å®ƒå¯ä»¥æé«˜ä»£ç é€»è¾‘çš„å¯å¤ç”¨æ€§ï¼Œä»è€Œå®ç°ä¸æ¨¡æ¿çš„æ— å…³æ€§ï¼›åŒæ—¶å‡½æ•°å¼çš„ç¼–ç¨‹ä½¿ä»£ç çš„å¯å‹ç¼©æ€§æ›´å¼ºã€‚å¦å¤–ï¼ŒæŠŠ Reactivity æ¨¡å—ç‹¬ç«‹å¼€æ¥ï¼Œæ„å‘³ç€ Vue3.0 çš„å“åº”å¼æ¨¡å—å¯ä»¥ä¸å…¶ä»–æ¡†æ¶ç›¸ç»„åˆã€‚<br>å®˜æ–¹ä¾‹å­</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// é¼ æ ‡ä½ç½®ä¾¦å¬é€»è¾‘ </span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">useMouse</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="keyword">const</span> state = <span class="title function_">reactive</span>(&#123;</span><br><span class="line">            <span class="attr">x</span>: <span class="number">0</span>,</span><br><span class="line">            <span class="attr">y</span>: <span class="number">0</span></span><br><span class="line">        &#125;)</span><br><span class="line">        <span class="keyword">const</span> <span class="title function_">update</span> = e =&gt; &#123;</span><br><span class="line">            state.<span class="property">x</span> = e.<span class="property">pageX</span></span><br><span class="line">            state.<span class="property">y</span> = e.<span class="property">pageY</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="title function_">onMounted</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">            <span class="variable language_">window</span>.<span class="title function_">addEventListener</span>(<span class="string">&#x27;mousemove&#x27;</span>, update)</span><br><span class="line">        &#125;)</span><br><span class="line">        <span class="title function_">onUnmounted</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">            <span class="variable language_">window</span>.<span class="title function_">removeEventListener</span>(<span class="string">&#x27;mousemove&#x27;</span>, update)</span><br><span class="line">        &#125;)</span><br><span class="line">        <span class="keyword">return</span> <span class="title function_">toRefs</span>(state)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>æ€»çš„æ¥è¯´ï¼Œå°±æ˜¯æŠŠç›¸å…³çš„é€»è¾‘å•ç‹¬æ‹¿å‡ºæ¥æé«˜ä»£ç å¤ç”¨</p><h4 id="å…¨å±€æŒ‚è½½-é…ç½®APIæ›´æ”¹"><a class="header-anchor" href="#å…¨å±€æŒ‚è½½-é…ç½®APIæ›´æ”¹">Â¶</a>å…¨å±€æŒ‚è½½/é…ç½®APIæ›´æ”¹</h4><p>vue2 ä½¿ç”¨ new Vue åˆ›å»ºå®ä¾‹ï¼Œé€šè¿‡å…¨å±€è®¾ç½®configé…ç½®vueçš„å¯é€‰é…ç½®ã€‚<br>vue3 ä½¿ç”¨ createApp å®šä¹‰çš„æŸä¸ª Vue ç¨‹åºã€‚å®ƒå¯ä»¥ä½¿ä½ çš„ä»£ç æ›´æ˜“äºç†è§£ï¼Œå¹¶ä¸”ä¸æ˜“å‡ºç°ç”±ç¬¬ä¸‰æ–¹æ’ä»¶å¼•å‘çš„æ„å¤–é—®é¢˜ã€‚ç›®å‰ï¼Œå¦‚æœæŸäº›ç¬¬ä¸‰æ–¹è§£å†³æ–¹æ¡ˆæ­£åœ¨ä¿®æ”¹ Vue å¯¹è±¡ï¼Œé‚£ä¹ˆå®ƒå¯èƒ½ä¼šä»¥æ„æƒ³ä¸åˆ°çš„æ–¹å¼ï¼ˆå°¤å…¶æ˜¯å…¨å±€æ··åˆï¼‰å½±å“ä½ çš„ç¨‹åºï¼Œè€Œ Vue 3 åˆ™æ²¡æœ‰è¿™ä¸ªé—®é¢˜.</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; createApp &#125; <span class="keyword">from</span> <span class="string">&#x27;vue&#x27;</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">App</span> <span class="keyword">from</span> <span class="string">&#x27;./App.vue&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> app = <span class="title function_">createApp</span>(<span class="title class_">App</span>)</span><br><span class="line"></span><br><span class="line">app.<span class="property">config</span>.<span class="property">ignoredElements</span> = [<span class="regexp">/^app-/</span>]</span><br><span class="line">app.<span class="title function_">use</span>(<span class="comment">/* ... */</span>)</span><br><span class="line">app.<span class="title function_">mixin</span>(<span class="comment">/* ... */</span>)</span><br><span class="line">app.<span class="title function_">component</span>(<span class="comment">/* ... */</span>)</span><br><span class="line">app.<span class="title function_">directive</span>(<span class="comment">/* ... */</span>)</span><br><span class="line"></span><br><span class="line">app.<span class="title function_">mount</span>(<span class="string">&#x27;#app&#x27;</span>)</span><br><span class="line"></span><br></pre></td></tr></table></figure><h4 id="Fragments-ç‰‡æ®µ"><a class="header-anchor" href="#Fragments-ç‰‡æ®µ">Â¶</a>Fragments(ç‰‡æ®µ)</h4><p>åœ¨ä¹¦å†™vue2æ—¶ï¼Œç”±äºç»„ä»¶å¿…é¡»åªæœ‰ä¸€ä¸ªæ ¹èŠ‚ç‚¹ï¼Œå¾ˆå¤šæ—¶å€™ä¼šæ·»åŠ ä¸€äº›æ²¡æœ‰æ„ä¹‰çš„èŠ‚ç‚¹ç”¨äºåŒ…è£¹ã€‚Fragmentç»„ä»¶å°±æ˜¯ç”¨äºè§£å†³è¿™ä¸ªé—®é¢˜çš„ï¼ˆè¿™å’ŒReactä¸­çš„Fragmentç»„ä»¶æ˜¯ä¸€æ ·çš„ï¼‰ã€‚</p><h4 id="Suspense"><a class="header-anchor" href="#Suspense">Â¶</a>Suspense</h4><p>åŒæ ·çš„ï¼Œè¿™å’ŒReactä¸­çš„Supenseæ˜¯ä¸€æ ·çš„ã€‚Suspense è®©ä½ çš„ç»„ä»¶åœ¨æ¸²æŸ“ä¹‹å‰è¿›è¡Œâ€œç­‰å¾…â€ï¼Œå¹¶åœ¨ç­‰å¾…æ—¶æ˜¾ç¤º fallback çš„å†…å®¹ã€‚</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">Suspense</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">template</span> &gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">Suspended-component</span> /&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">template</span> #<span class="attr">fallback</span>&gt;</span></span><br><span class="line">    Loading...</span><br><span class="line">  <span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">Suspense</span>&gt;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><h4 id="v-model-æ”¯æŒå¤šä¸ª"><a class="header-anchor" href="#v-model-æ”¯æŒå¤šä¸ª">Â¶</a>v-model æ”¯æŒå¤šä¸ª</h4><p>åœ¨ 3.x ç‰ˆæœ¬ä¸­ï¼Œåœ¨è‡ªå®šä¹‰ç»„ä»¶ä¸Šä½¿ç”¨ v-model ç›¸å½“äºä¼ é€’äº†ä¸€ä¸ª modelValue å±æ€§ä»¥åŠè§¦å‘ä¸€ä¸ª update:modelValue äº‹ä»¶ã€‚<br>å¦‚æœè¦æ”¹å˜ç»‘å®šçš„å±æ€§åï¼Œåªéœ€è¦ç»™ v-model ä¼ é€’ä¸€ä¸ªå‚æ•°å°±å¥½äº†ï¼š</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">KyrieInput</span> <span class="attr">v-model:title</span>=<span class="string">&quot;name&quot;</span> /&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- ç­‰åŒäº --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">KyrieInput</span> <span class="attr">:title</span>=<span class="string">&quot;name&quot;</span> @<span class="attr">update:title</span>=<span class="string">&quot;name = $event&quot;</span> /&gt;</span></span><br></pre></td></tr></table></figure><p>è¿™ä¸ªå†™æ³•è¿˜å½»åº•ä»£æ›¿äº† .sync ä¿®é¥°ç¬¦ï¼Œå¹¶ä¸”æ”¯æŒç»Ÿä¸€ç»„ä»¶ç»‘å®šå¤šä¸ª v-model</p><h4 id="Portals"><a class="header-anchor" href="#Portals">Â¶</a>Portals</h4><p>Teleportå…¶å®å°±æ˜¯Reactä¸­çš„Portalã€‚Portal æä¾›äº†ä¸€ç§å°†å­èŠ‚ç‚¹æ¸²æŸ“åˆ°å­˜åœ¨äºçˆ¶ç»„ä»¶ä»¥å¤–çš„ DOM èŠ‚ç‚¹çš„ä¼˜ç§€çš„æ–¹æ¡ˆã€‚ä¸€ä¸ª portal çš„å…¸å‹ç”¨ä¾‹æ˜¯å½“çˆ¶ç»„ä»¶æœ‰ overflow: hidden æˆ– z-index æ ·å¼æ—¶ï¼Œä½†ä½ éœ€è¦å­ç»„ä»¶èƒ½å¤Ÿåœ¨è§†è§‰ä¸Šâ€œè·³å‡ºâ€å…¶å®¹å™¨ã€‚ä¾‹å¦‚ï¼Œå¯¹è¯æ¡†ã€æ‚¬æµ®å¡ä»¥åŠæç¤ºæ¡†ã€‚</p><h2 id="å®ç°é€»è¾‘é‡å¤§æ›´æ”¹"><a class="header-anchor" href="#å®ç°é€»è¾‘é‡å¤§æ›´æ”¹">Â¶</a>å®ç°é€»è¾‘é‡å¤§æ›´æ”¹</h2><h4 id="å“åº”å¼åŸç†"><a class="header-anchor" href="#å“åº”å¼åŸç†">Â¶</a>å“åº”å¼åŸç†</h4><p>Object.defineProperty -&gt; Proxy<br>Object.definePropertyæ˜¯ä¸€ä¸ªç›¸å¯¹æ¯”è¾ƒæ˜‚è´µçš„æ“ä½œï¼Œå› ä¸ºå®ƒç›´æ¥æ“ä½œå¯¹è±¡çš„å±æ€§ï¼Œé¢—ç²’åº¦æ¯”è¾ƒå°ã€‚å°†å®ƒæ›¿æ¢ä¸ºes6çš„Proxyï¼Œåœ¨ç›®æ ‡å¯¹è±¡ä¹‹ä¸Šæ¶äº†ä¸€å±‚æ‹¦æˆªï¼Œä»£ç†çš„æ˜¯å¯¹è±¡è€Œä¸æ˜¯å¯¹è±¡çš„å±æ€§ã€‚è¿™æ ·å¯ä»¥å°†åŸæœ¬å¯¹å¯¹è±¡å±æ€§çš„æ“ä½œå˜ä¸ºå¯¹æ•´ä¸ªå¯¹è±¡çš„æ“ä½œï¼Œé¢—ç²’åº¦å˜å¤§ã€‚</p><p>javascriptå¼•æ“åœ¨è§£æçš„æ—¶å€™å¸Œæœ›å¯¹è±¡çš„ç»“æ„è¶Šç¨³å®šè¶Šå¥½ï¼Œå¦‚æœå¯¹è±¡ä¸€ç›´åœ¨å˜ï¼Œå¯ä¼˜åŒ–æ€§é™ä½ï¼Œproxyä¸éœ€è¦å¯¹åŸå§‹å¯¹è±¡åšå¤ªå¤šæ“ä½œã€‚</p><p>åŒæ—¶ï¼Œæœ‰äº†Proxyï¼Œå°±ä¸ç”¨è€ƒè™‘æ–°å¢å±æ€§çš„å“åº”è¡Œä¸ºäº†ï¼Œæ˜¯æ—¶å€™è¦è·Ÿ$setè¯´å£°å†è§äº†ã€‚</p><h2 id="æ€§èƒ½æ–¹é¢"><a class="header-anchor" href="#æ€§èƒ½æ–¹é¢">Â¶</a>æ€§èƒ½æ–¹é¢</h2><p>åŒå‘å“åº”åŸç†ç”±Object.definePropertyæ”¹ä¸ºåŸºäºES6çš„Proxyï¼Œä½¿å…¶é¢—ç²’åº¦æ›´å¤§ï¼Œé€Ÿåº¦æ›´å¿«ï¼Œä¸”æ¶ˆé™¤äº†ä¹‹å‰å­˜åœ¨çš„è­¦å‘Šï¼›<br>é‡å†™äº† Vdom ï¼Œçªç ´äº† Vdom çš„æ€§èƒ½ç“¶é¢ˆ<br>è¿›è¡Œäº†æ¨¡æ¿ç¼–è¯‘çš„ä¼˜åŒ–<br>è¿›è¡Œäº†æ›´åŠ é«˜æ•ˆçš„ç»„ä»¶åˆå§‹åŒ–</p><h4 id="æ”¯æŒtree-shaking-æ›´åŠ è§£è€¦çš„ä»£ç ç»“æ„"><a class="header-anchor" href="#æ”¯æŒtree-shaking-æ›´åŠ è§£è€¦çš„ä»£ç ç»“æ„">Â¶</a>æ”¯æŒtree-shaking , æ›´åŠ è§£è€¦çš„ä»£ç ç»“æ„</h4><p>æ”¯æŒäº† tree-shaking ï¼ˆå‰ªæï¼‰ï¼šåƒä¿®å‰ªæ ‘å¶ä¸€æ ·æŠŠä¸éœ€è¦çš„ä¸œè¥¿ç»™ä¿®å‰ªæ‰ï¼Œä½¿ Vue3 çš„ä½“ç§¯æ›´å°ã€‚</p><p>éœ€è¦çš„æ¨¡å—æ‰ä¼šæ‰“å…¥åˆ°åŒ…é‡Œï¼Œä¼˜åŒ–åçš„ Vue3.0 çš„æ‰“åŒ…ä½“ç§¯åªæœ‰åŸæ¥çš„ä¸€åŠï¼ˆ13kbï¼‰ã€‚å“ªæ€•æŠŠæ‰€æœ‰çš„åŠŸèƒ½éƒ½å¼•å…¥è¿›æ¥ä¹Ÿåªæœ‰23kbï¼Œä¾ç„¶æ¯” Vue2.x æ›´å°ã€‚åƒ keep-alive ã€ transition ç”šè‡³ v-for ç­‰åŠŸèƒ½éƒ½å¯ä»¥æŒ‰éœ€å¼•å…¥ã€‚</p><h4 id="æ¨¡æ¿æ€§èƒ½æå‡"><a class="header-anchor" href="#æ¨¡æ¿æ€§èƒ½æå‡">Â¶</a>æ¨¡æ¿æ€§èƒ½æå‡</h4><p>åœ¨ä¹‹å‰çš„VDOMä¸­ï¼Œå¦‚æœmsgå€¼å‘ç”Ÿæ”¹å˜ï¼Œæ•´ä¸ªæ¨¡ç‰ˆä¸­çš„æ‰€æœ‰å…ƒç´ éƒ½éœ€è¦é‡æ–°æ¸²æŸ“ã€‚ä½†åœ¨Vue3.0ä¸­ï¼Œåœ¨è¿™ä¸ªæ¨¡ç‰ˆç¼–è¯‘æ—¶ï¼Œç¼–è¯‘å™¨ä¼šåœ¨åŠ¨æ€æ ‡ç­¾æœ«å°¾åŠ ä¸Š /* Text*/ PatchFlagã€‚åªèƒ½å¸¦patchFlag çš„ Node æ‰è¢«è®¤ä¸ºæ˜¯åŠ¨æ€çš„å…ƒç´ ï¼Œä¼šè¢«è¿½è¸ªå±æ€§çš„ä¿®æ”¹ã€‚å¹¶ä¸” PatchFlag ä¼šæ ‡è¯†åŠ¨æ€çš„å±æ€§ç±»å‹æœ‰å“ªäº›ï¼Œæ¯”å¦‚è¿™é‡Œ çš„TEXT è¡¨ç¤ºåªæœ‰èŠ‚ç‚¹ä¸­çš„æ–‡å­—æ˜¯åŠ¨æ€çš„ã€‚<br>æ¯ä¸€ä¸ªBlockä¸­çš„èŠ‚ç‚¹ï¼Œå°±ç®—å¾ˆæ·±ï¼Œä¹Ÿæ˜¯ç›´æ¥è·ŸBlockä¸€å±‚ç»‘å®šçš„ï¼Œå¯ä»¥ç›´æ¥è·³è½¬åˆ°åŠ¨æ€èŠ‚ç‚¹è€Œä¸éœ€è¦é€ä¸ªé€å±‚éå†ã€‚<br>æ—¢æœ‰VDOMçš„çµæ´»æ€§ï¼Œåˆæœ‰æ€§èƒ½ä¿è¯ã€‚<br>vue3 ä½¿ç”¨ hoistStatic é™æ€èŠ‚ç‚¹æå‡<br>å½“ä½¿ç”¨hoistStaticæ—¶ï¼Œæ‰€æœ‰ é™æ€çš„èŠ‚ç‚¹éƒ½è¢«æå‡åˆ°renderæ–¹æ³•ä¹‹å¤–ã€‚è¿™æ„å‘³ç€ï¼Œä»–ä»¬åªä¼šåœ¨åº”ç”¨å¯åŠ¨çš„æ—¶å€™è¢«åˆ›å»ºä¸€æ¬¡ï¼Œè€Œåéšç€æ¯æ¬¡çš„æ¸²æŸ“è¢«ä¸åœçš„å¤ç”¨ã€‚</p><h4 id="æ—¶é—´åˆ†ç‰‡"><a class="header-anchor" href="#æ—¶é—´åˆ†ç‰‡">Â¶</a>æ—¶é—´åˆ†ç‰‡</h4><p>åœ¨åŠ¨æ€èŠ‚ç‚¹å’Œæ•°æ®çš„é‡éƒ½å¾ˆå¤§æ—¶ï¼Œé‚£ä¹ˆåœ¨æ•°æ®æ›´æ–°æ—¶ï¼Œjsçº¿ç¨‹å°±ä¼šç”¨å¾ˆé•¿çš„æ—¶é—´æ¥æ‰§è¡Œvdomçš„ç›¸å…³è®¡ç®—ï¼Œå¦‚æœè¶…è¿‡äº†16msï¼Œé€ æˆäº¤äº’æˆ–åŠ¨ç”»ç­‰ç­‰å¡é¡¿ç°è±¡ã€‚è€Œæ—¶é—´åˆ†ç‰‡å°±æ˜¯æŠŠvdomçš„å¤§é‡è®¡ç®—åˆ†æˆå¤šä¸ªå°ä»»åŠ¡ï¼Œä¿è¯æ¯ä¸ªå°ä»»åŠ¡åœ¨16mså†…æ‰§è¡Œå®Œï¼Œä»è€Œä¸ä¼šé˜»å¡ç”¨æˆ·äº¤äº’ï¼Œé¿å…å¡é¡¿ç°è±¡ã€‚<br>ç„¶é¹…ï¼Œæ­¤åŠŸèƒ½è¿˜æœªåŒ…å«åœ¨vue3çš„æ›´æ–°ä¸­ã€‚</p><p>å‚è€ƒï¼š<br><a href="https://zhuanlan.zhihu.com/p/147022323">https://zhuanlan.zhihu.com/p/147022323</a><br><a href="https://www.jianshu.com/p/1d2846f2a855">https://www.jianshu.com/p/1d2846f2a855</a><br><a href="https://v3.vuejs.org/">https://v3.vuejs.org/</a><br><a href="https://segmentfault.com/a/1190000024580501">https://segmentfault.com/a/1190000024580501</a></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;blockquote&gt;
&lt;p&gt;æ€»ç»“ä¸€ä¸‹æœ€è¿‘ä¸€æ®µæ—¶é—´å­¦ä¹  vue3 çš„æ”¶è·&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2 id=&quot;åŠŸèƒ½æ–¹é¢&quot;&gt;&lt;a class=&quot;header-anchor&quot; href=&quot;#åŠŸèƒ½æ–¹é¢&quot;&gt;Â¶&lt;/a&gt;åŠŸèƒ½æ–¹é¢&lt;/h2&gt;
&lt;h4 id=&quot;Compositi
      
    
    </summary>
    
    
      <category term="vue3" scheme="https://zzz1220.github.io/tags/vue3/"/>
    
  </entry>
  
  <entry>
    <title>å¼€å¯ç½‘é¡µ3Dæ•ˆæœä¹‹æ—…</title>
    <link href="https://zzz1220.github.io/posts/3d46f50c/"/>
    <id>https://zzz1220.github.io/posts/3d46f50c/</id>
    <published>2019-07-27T13:30:31.000Z</published>
    <updated>2023-11-07T07:24:45.367Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>ä¸Šå¤æ—¶ä»£ï¼Œå½“<code>html</code>è¯­è¨€å’Œ<code>http</code>åè®®åˆšè¢«å‘æ˜å‡ºæ¥æ—¶ï¼Œè¿™äº›ä¸“å®¶ä»¬ä¹Ÿè®¸æ€ä¹ˆä¹Ÿæƒ³ä¸åˆ°ï¼Œå½“åˆå‘æ˜æ¥å…±äº«æ–‡æœ¬çš„æŠ€æœ¯å¦‚ä»Šç»Ÿæ²»äº†å‡ ä¹æ•´ä¸ªäº’è”ç½‘è¡Œä¸šã€‚å½“ç¬¬ä¸€ä¸ªç½‘é¡µè¢«æ‰“å¼€æ—¶ï¼Œä¸Šé¢åªæœ‰ç®€é™‹çš„ä¸€ä¸ªè¡¨å•ï¼Œç”šè‡³åšä¸€ä¸ªç®€å•çš„è¿‡æ¸¡å˜è‰²æ•ˆæœï¼Œéƒ½è¦å€Ÿç”¨<code>java Applet</code>ï¼Œåæ¥è¦å€ŸåŠ©<code>javascript</code>ã€‚çŸ­çŸ­åå‡ å¹´è¿‡å»ï¼Œç°åœ¨æœ‰äº†<code>css3</code>ï¼Œä½ åªéœ€å®šä¹‰ç®€å•çš„<code>transition</code>,å°±å¯ä»¥å®ç°å„ç§ç¥å¥‡çš„è¿‡æ¸¡æ•ˆæœã€‚</p></blockquote><p>æœ¬æ–‡ä¸æ˜¯ä»‹ç»<code>css3</code>åŠ¨ç”»ä»¥åŠç”¨æ³•çš„ï¼Œå› æ­¤éœ€è¦è¯»è€…é¢„å…ˆäº†<code>transition</code>,<code>transform</code>ç­‰å±æ€§ã€‚</p><p>###ã€€å›é¡¾ä¸‹<code>CSS3</code>çš„åŸºç¡€å±æ€§</p><h4 id="1-transition"><a class="header-anchor" href="#1-transition">Â¶</a>1.<code>transition</code></h4><p><a href="https://developer.mozilla.org/zh-CN/docs/Web/CSS/transition" target="_blank" rel="noopener">Transition</a>æ˜¯è¢«ç”¨åˆ°æœ€å¤šçš„ä¹Ÿæ˜¯æœ€ç®€å•çš„<code>CSS3</code>åŠ¨ç”»ç±»å‹ï¼Œå¦‚æœä½ æƒ³å®ç°é¼ æ ‡åˆ’è¿‡æ›´æ”¹èƒŒæ™¯è‰²çš„åŠŸèƒ½ï¼Œç”¨<code>transition</code>æ˜¯æœ€ç®€å•çš„æ–¹å¼ã€‚</p><pre><code class="language-html">&lt;button&gt;ä¼šå˜è‰²çš„æŒ‰é’®&lt;/button&gt;</code></pre><pre><code class="language-css">button {  transition: all 0.8s ease;  background-color: red;}button:hover {  background-color: #eeeeee;}</code></pre><p>ä¸‹é¢æ˜¯æ•ˆæœï¼š</p><p><img src="https://raw.githubusercontent.com/zzz1220/imageUrl/master/img/1.gif" alt="gif"></p><p><strong>transition</strong> <a href="https://developer.mozilla.org/en/CSS" target="_blank" rel="noopener">CSS</a> å±æ€§æ˜¯ <a href="https://developer.mozilla.org/zh-CN/docs/Web/CSS/transition-property" target="_blank" rel="noopener"><code>transition-property</code></a>ï¼Œ<a href="https://developer.mozilla.org/zh-CN/docs/Web/CSS/transition-duration" target="_blank" rel="noopener"><code>transition-duration</code></a>ï¼Œ<a href="https://developer.mozilla.org/zh-CN/docs/Web/CSS/transition-timing-function" target="_blank" rel="noopener"><code>transition-timing-function</code></a> å’Œ <a href="https://developer.mozilla.org/zh-CN/docs/Web/CSS/transition-delay" target="_blank" rel="noopener"><code>transition-delay</code></a> çš„ä¸€ä¸ª<a href="https://developer.mozilla.org/en-US/docs/CSS/Shorthand_properties" target="_blank" rel="noopener">ç®€å†™å±æ€§</a>ã€‚åˆ†åˆ«æ˜¯å¯å˜æ¢å±æ€§ï¼ŒæŒç»­æ—¶é—´ï¼Œå˜æ¢çš„è¿‡åº¦å‡½æ•°(å°±æ˜¯å˜æ¢çš„åŠ é€Ÿåº¦æ›²çº¿)ï¼Œæ•ˆæœç”Ÿæ•ˆçš„å»¶æ—¶ã€‚</p><p>å…³äº<a href="https://developer.mozilla.org/zh-CN/docs/Web/CSS/transition" target="_blank" rel="noopener">Transition</a>çš„æ›´å¤š<code>API</code>ï¼Œè¯·æŸ¥çœ‹<code>MDN</code>çš„æ–‡æ¡£ã€‚</p><h4 id="2-transform"><a class="header-anchor" href="#2-transform">Â¶</a>2.<code>transform</code></h4><p><a href="https://developer.mozilla.org/zh-CN/docs/Web/CSS/transform" target="_blank" rel="noopener">transform</a>æ˜¯æ‰§è¡Œå…ƒç´ æ—‹è½¬ï¼Œç¼©æ”¾ï¼Œä½ç§»ï¼Œå€¾æ–œçš„<code>css</code>å±æ€§ï¼Œå®ƒæ˜¯é€šè¿‡ä¿®æ”¹è§†è§‰ä¸Šçš„åæ ‡ç©ºé—´å®ç°çš„ã€‚</p><p>âš ï¸ åªèƒ½è½¬æ¢ç›’å­æ¨¡å‹å®šä½çš„å…ƒç´ ã€‚</p><ul><li>æ—‹è½¬<br><code>rotate(a)</code><br>a æ˜¯ä¸€ç§<angle>ï¼Œè¡¨ç¤ºæ—‹è½¬çš„è§’åº¦ï¼Œæ¯”å¦‚<code>30deg</code>ã€‚ æ­£è§’åº¦è¡¨ç¤ºäº†é¡ºæ—¶é’ˆçš„æ—‹è½¬ï¼Œè´Ÿè§’åº¦è¡¨ç¤ºé€†æ—¶é’ˆçš„æ—‹è½¬ã€‚</angle></li></ul><pre><code class="language-html">&lt;div&gt;æ­£å¸¸&lt;/div&gt;&lt;div class=&quot;rotated&quot;&gt;æ—‹è½¬45åº¦&lt;/div&gt;&lt;div class=&quot;rotated2&quot;&gt;æ—‹è½¬90åº¦&lt;/div&gt;</code></pre><pre><code class="language-css">div {  width: 80px;  height: 80px;  background-color: skyblue;}.rotated {  transform: rotate(45deg);  background-color: pink;}.rotated2 {  transform: rotate(90deg);  background-color: blue;  color: #ffffff;}</code></pre><p><img src="https://raw.githubusercontent.com/zzz1220/imageUrl/master//img/2.gif" alt="gif"></p><ul><li>ç¼©æ”¾<br><code>scale(a,b,c)</code><br><em>å•ä¸€æ•°å€¼</em><br>å•ä¸€çš„æ•°å€¼å³æŒ‡å®šäº†ä¸€ä¸ªç¼©æ”¾ç³»æ•°ï¼ŒåŒæ—¶ä½œç”¨äº X è½´å’Œ Y è½´è®©è¯¥å…ƒç´ è¿›è¡Œç¼©æ”¾ï¼Œç›¸å½“äºæŒ‡å®šäº†å•ä¸ªå€¼çš„ scale()(2D ç¼©æ”¾)å‡½æ•°ã€‚<br><em>ä¸¤ä¸ªé•¿åº¦/ç™¾åˆ†æ¯”å€¼</em><br>ä¸¤ä¸ªæ•°å€¼å³åˆ†åˆ«æŒ‡å®šäº† 2D æ¯”ä¾‹çš„ X è½´å’Œ Y è½´çš„ç¼©æ”¾ç³»æ•°ï¼Œç›¸å½“äºæŒ‡å®šäº†ä¸¤ä¸ªå€¼çš„ scale()ï¼ˆ2D ç¼©æ”¾ï¼‰å‡½æ•°ã€‚<br><em>ä¸‰ä¸ªé•¿åº¦/ç™¾åˆ†æ¯”å€¼</em><br>ä¸‰ä¸ªæ•°å€¼å³åˆ†åˆ«æŒ‡å®šäº† 3D æ¯”ä¾‹çš„ X è½´ã€Y è½´å’Œ Z è½´çš„ç¼©æ”¾ç³»æ•°. ç›¸å½“äºä¸€ä¸ª scale3d()å‡½æ•°ã€‚<br>none<br>æŒ‡å®šä¸è¿›è¡Œç¼©æ”¾ã€‚</li></ul><pre><code class="language-html">&lt;div&gt;æ­£å¸¸&lt;/div&gt;&lt;div class=&quot;scale&quot;&gt;å¤§2å€&lt;/div&gt;&lt;div class=&quot;scale2&quot;&gt;æ°´å¹³1.5å€ï¼Œå‚ç›´2å€&lt;/div&gt;</code></pre><pre><code class="language-css">div {  width: 80px;  height: 80px;  background-color: skyblue;  text-align: center;  transform-origin: 0 0;}.scale {  transform: scale(2);  background-color: pink;}.scale2 {  transform: scale(1.5, 2);  background-color: blue;  color: #ffffff;}</code></pre><p><img src="https://raw.githubusercontent.com/zzz1220/imageUrl/master//img/3.gif" alt="gif"></p><ul><li>ä½ç§»<br><code>translate(x,y)</code><br>x,y åˆ†åˆ«æ˜¯ x,y è½´ç§»åŠ¨çš„è·ç¦»ã€‚</li></ul><pre><code class="language-html">&lt;div&gt;æ­£å¸¸&lt;/div&gt;&lt;div class=&quot;translate&quot;&gt;å³ï¼Œä¸‹ç§»30px&lt;/div&gt;</code></pre><pre><code class="language-css">div {  width: 80px;  height: 80px;  background-color: skyblue;  text-align: center;  transform-origin: 0 0;}.translate {  transform: translate(30px, 30px);  background-color: pink;}</code></pre><p><img src="https://raw.githubusercontent.com/zzz1220/imageUrl/master//img/4.gif" alt="gif"></p><ul><li>å€¾æ–œ</li></ul><p><code>skew(x-angle,y-angle)</code><br>å®šä¹‰æ²¿ç€ X å’Œ Y è½´çš„ 2D å€¾æ–œè½¬æ¢ã€‚</p><pre><code class="language-html">&lt;div&gt;Normal&lt;/div&gt;&lt;div class=&quot;skewed&quot;&gt;Skewed&lt;/div&gt;</code></pre><pre><code class="language-css">div {  width: 80px;  height: 80px;  background-color: skyblue;}.skewed {  transform: skew(10deg); /* Equal to skewX(10deg) */  background-color: pink;}</code></pre><p><img src="https://raw.githubusercontent.com/zzz1220/imageUrl/master//img/5.gif" alt="gif"></p><h4 id="3-animation"><a class="header-anchor" href="#3-animation">Â¶</a>3.<code>animation</code></h4><p>æˆ‘ä»¬å¯ä»¥æŠŠ<code>transition</code>å’Œ<code>transform</code> ç»“åˆåœ¨ä¸€èµ·ä½¿ç”¨ï¼Œå°±å®ç°åŠ¨æ„Ÿåè¶³çš„ html é¡µé¢ã€‚<br>ä½†æ˜¯ï¼Œ<code>transition</code>åªèƒ½å®ç°å¼€å§‹å’Œç»“æŸçš„çŠ¶æ€ï¼Œå¹¶ä¸”åªèƒ½â€œåŠ¨ä¸€æ¬¡â€ã€‚</p><p>è¿˜æœ‰æ›´åŠ å¼ºå¤§çš„<code>animation</code>å±æ€§ï¼Œå¯ä»¥åˆ¶ä½œä¸é—´æ–­ï¼Œå­˜åœ¨ä¸­é—´çŠ¶æ€çš„åŠ¨ç”»ã€‚</p><p>ğŸ’¥ è¿™é‡Œç©¿æ’ä»‹ç»ä¸€ä¸ª<code>animation</code>åŠ¨ç”»åº“ï¼Œ<a href="https://daneden.github.io/animate.css/" target="_blank" rel="noopener">https://daneden.github.io/animate.css/</a></p><p><code>animate.css</code>é‡Œé¢å®ç°äº†å¾ˆå¤šå¸¸è§çš„æ·¡å…¥æ·¡å‡ºï¼Œæ–¹å‘ç§»åŠ¨çš„åŠ¨ç”»ï¼Œå¯ä»¥çœ‹ä¸‹æºç ï¼Œç„¶åè‡ªå·±å®ç°åŠ¨ç”»çš„æ—¶å€™å°±æœ‰å¤´ç»ªäº†ã€‚</p><p>ä¸‹é¢æ˜¯ä¸€ä¸ªç®€å•çš„ fadeout æ•ˆæœçš„æºä»£ç </p><pre><code class="language-css">@keyframes fadeOutDown {  from {    opacity: 1;  }  to {    opacity: 0;    transform: translate3d(0, 100%, 0);  }}</code></pre><p>ç‚¹å‡»<code>animate.css</code>å®˜ç½‘å¯ä»¥æŸ¥çœ‹æ›´å¤šçš„æ•ˆæœå“¦ã€‚<img src="https://raw.githubusercontent.com/zzz1220/imageUrl/master/img/6.gif" alt="gif"></p><p>ç†è®ºä¸Šï¼Œä»»ä½•å•ç‹¬çš„<code>css</code>å±æ€§éƒ½å¯ä»¥æ‹¿æ¥åšåŠ¨ç”»ï¼Œä½†æ˜¯æ³¨æ„ä¸€ç‚¹ğŸ™‰ä»æ— åˆ°æœ‰ï¼Œä¸è¦ç”¨<code>display:none</code>,åº”è¯¥ç”¨<code>opacity</code>å±æ€§ã€‚</p><p>ç„¶åæ˜¯<code>animate</code>çš„å±æ€§ï¼Œ<a href="https://developer.mozilla.org/zh-CN/docs/Web/CSS" target="_blank" rel="noopener">CSS</a> <strong>animation</strong> å±æ€§æ˜¯ <a href="https://developer.mozilla.org/zh-CN/docs/Web/CSS/animation-name" target="_blank" rel="noopener"><code>animation-name</code></a>ï¼Œ<a href="https://developer.mozilla.org/zh-CN/docs/Web/CSS/animation-duration" target="_blank" rel="noopener"><code>animation-duration</code></a>, <a href="https://developer.mozilla.org/zh-CN/docs/Web/CSS/animation-timing-function" target="_blank" rel="noopener"><code>animation-timing-function</code></a>ï¼Œ<a href="https://developer.mozilla.org/zh-CN/docs/Web/CSS/animation-delay" target="_blank" rel="noopener"><code>animation-delay</code></a>ï¼Œ<a href="https://developer.mozilla.org/zh-CN/docs/Web/CSS/animation-iteration-count" target="_blank" rel="noopener"><code>animation-iteration-count</code></a>ï¼Œ<a href="https://developer.mozilla.org/zh-CN/docs/Web/CSS/animation-direction" target="_blank" rel="noopener"><code>animation-direction</code></a>ï¼Œ<a href="https://developer.mozilla.org/zh-CN/docs/Web/CSS/animation-fill-mode" target="_blank" rel="noopener"><code>animation-fill-mode</code></a> å’Œ <a href="https://developer.mozilla.org/zh-CN/docs/Web/CSS/animation-play-state" target="_blank" rel="noopener"><code>animation-play-state</code></a> å±æ€§çš„ä¸€ä¸ªç®€å†™å±æ€§å½¢å¼ã€‚</p><p>è¿™é‡Œä¸ä¸€ä¸€ä»‹ç»äº†ã€‚</p><h1></h1><h3 id="è¿›å…¥ä¸»é¢˜-transformçš„3dæ•ˆæœ"><a class="header-anchor" href="#è¿›å…¥ä¸»é¢˜-transformçš„3dæ•ˆæœ">Â¶</a>è¿›å…¥ä¸»é¢˜â€“<code>transform</code>çš„<code>3D</code>æ•ˆæœ</h3><p>â˜‘ï¸ ç½‘é¡µçš„<code>3D</code>åæ ‡ç³»ï¼š</p><p><img src="https://raw.githubusercontent.com/zzz1220/imageUrl/master//img/1328957-20190425135458622-1593901679.jpg" alt></p><p>å¦‚ä¸Šå›¾ï¼Œç½‘æ ¼å°±æ˜¯ç½‘é¡µçš„åæ ‡ç³»ã€‚æœ‰äº†è¿™å¼ å›¾ï¼Œå°±å¯ä»¥å¾ˆè½»æ¾çš„æƒ³åˆ°å¦‚ä½•è¿ç”¨<code>css</code>çš„å±æ€§å¾—åˆ°æƒ³è¦çš„æ•ˆæœã€‚</p><h4 id="1-å¦‚ä½•ä½¿ç”¨3d"><a class="header-anchor" href="#1-å¦‚ä½•ä½¿ç”¨3d">Â¶</a>1.å¦‚ä½•ä½¿ç”¨<code>3d</code></h4><p><code>transform</code>çš„<code>translate</code>,<code>scale</code>,<code>rotate</code>éƒ½æœ‰<code>3D</code>æ•ˆæœã€‚</p><table><thead><tr><th></th><th></th></tr></thead><tbody><tr><td>translate3d(<em>x</em>,<em>y</em>,<em>z</em>)</td><td>å®šä¹‰ 3D è½¬åŒ–ã€‚</td></tr><tr><td>translateX(<em>x</em>)</td><td>å®šä¹‰ 3D è½¬åŒ–ï¼Œä»…ä½¿ç”¨ç”¨äº X è½´çš„å€¼ã€‚</td></tr><tr><td>translateY(<em>y</em>)</td><td>å®šä¹‰ 3D è½¬åŒ–ï¼Œä»…ä½¿ç”¨ç”¨äº Y è½´çš„å€¼ã€‚</td></tr><tr><td>translateZ(<em>z</em>)</td><td>å®šä¹‰ 3D è½¬åŒ–ï¼Œä»…ä½¿ç”¨ç”¨äº Z è½´çš„å€¼ã€‚</td></tr></tbody></table><table><thead><tr><th></th><th></th></tr></thead><tbody><tr><td>scale3d(<em>x</em>,<em>y</em>,<em>z</em>)</td><td>å®šä¹‰ 3D ç¼©æ”¾è½¬æ¢ã€‚</td></tr><tr><td>scaleX(<em>x</em>)</td><td>å®šä¹‰ 3D ç¼©æ”¾è½¬æ¢ï¼Œé€šè¿‡ç»™å®šä¸€ä¸ª X è½´çš„å€¼ã€‚</td></tr><tr><td>scaleY(<em>y</em>)</td><td>å®šä¹‰ 3D ç¼©æ”¾è½¬æ¢ï¼Œé€šè¿‡ç»™å®šä¸€ä¸ª Y è½´çš„å€¼ã€‚</td></tr><tr><td>scaleZ(<em>z</em>)</td><td>å®šä¹‰ 3D ç¼©æ”¾è½¬æ¢ï¼Œé€šè¿‡ç»™å®šä¸€ä¸ª Z è½´çš„å€¼ã€‚</td></tr></tbody></table><table><thead><tr><th></th><th></th></tr></thead><tbody><tr><td>rotate3d(<em>x</em>,<em>y</em>,<em>z</em>,<em>angle</em>)</td><td>å®šä¹‰ 3D æ—‹è½¬ã€‚</td></tr><tr><td>rotateX(<em>angle</em>)</td><td>å®šä¹‰æ²¿ X è½´çš„ 3D æ—‹è½¬ã€‚</td></tr><tr><td>rotateY(<em>angle</em>)</td><td>å®šä¹‰æ²¿ Y è½´çš„ 3D æ—‹è½¬ã€‚</td></tr><tr><td>rotateZ(<em>angle</em>)</td><td>å®šä¹‰æ²¿ Z è½´çš„ 3D æ—‹è½¬ã€‚</td></tr></tbody></table><p>ä¹Ÿå¯ä»¥ç”¨</p><table><thead><tr><th>å±æ€§</th><th>å®šä¹‰</th></tr></thead><tbody><tr><td>matrix3d(<em>n</em>,<em>n</em>,<em>n</em>,<em>n</em>,<em>n</em>,<em>n</em>, <em>n</em>,<em>n</em>,<em>n</em>,<em>n</em>,<em>n</em>,<em>n</em>,<em>n</em>,<em>n</em>,<em>n</em>,<em>n</em>)</td><td>å®šä¹‰ 3D è½¬æ¢ï¼Œä½¿ç”¨ 16 ä¸ªå€¼çš„ 4x4 çŸ©é˜µã€‚</td></tr></tbody></table><p>ä¸‹é¢æ˜¯ 3D å˜æ¢çš„ä¾‹å­</p><iframe scrolling="no" width="100%" height="300" src="//jsfiddle.net/zzz1220/se45nykp/9//embedded/html,css,result/light" frameborder="0" allowfullscreen></iframe><p>ä¸Šé¢å¯ä»¥çœ‹å‡ºæ¥ï¼Œ<code>div</code>è„±ç¦»äº†å¹³é¢ï¼Œä½†æ˜¯æ•ˆæœå´ä»¿ä½›è¿˜æ˜¯å¹³é¢çš„ï¼Œå› ä¸ºæˆ‘ä»¬ç¼ºå°‘å®šä¹‰äº†ä¸€ä¸ªå…³é”®çš„å±æ€§ï¼š</p><p>ğŸ·<code>persspective</code>ç»™å…ƒç´ åŠ ä¸Š<code>3D</code>é€è§†(è¿‘å¤§è¿œå°)çš„æ•ˆæœã€‚</p><pre><code class="language-css">transform: perspective(600px); // åŠ åœ¨å­å…ƒç´ ä¸Šï¼Œç»™å•ä¸ªå…ƒç´ æ·»åŠ é€è§†/**æˆ–è€…**/perspective: 600px; // åŠ åœ¨çˆ¶å…ƒç´ ä¸Šï¼Œæ‰€æœ‰çš„å­å…ƒç´ å…±äº«ä¸€ä¸ª3Dç©ºé—´</code></pre><iframe scrolling="no" width="100%" height="300" src="//jsfiddle.net/zzz1220/oy0rwgh7/32//embedded/html,css,result/light" frameborder="0" allowfullscreen></iframe><p>çœ‹ä¸Šé¢çš„ä¾‹å­ï¼Œæˆ‘ä»¬å¯ä»¥çœ‹å‡ºï¼Œç»™å•ä¸ªå…ƒç´ æ·»åŠ ï¼Œæ¯ä¸ªå…ƒç´ éƒ½æœ‰è‡ªå·±çš„é€è§†ç©ºé—´ã€‚</p><p>ğŸ·<code>perspective-orgin</code>é»˜è®¤çš„å˜æ¢ç‚¹éƒ½æ˜¯å…ƒç´ çš„ä¸­å¿ƒç‚¹ï¼Œå¦‚æœä½ æƒ³ä»¥å…¶ä»–çš„ä½ç½®ä¸ºå˜æ¢ç‚¹ï¼Œé‚£å°±å¯ä»¥ç”¨è¿™ä¸ªå±æ€§æ¥åšè°ƒæ•´ã€‚</p><p>å°±åƒ<code>transform-origin</code>åœ¨ 2D å˜æ¢é‡Œé¢è®¾ç½®å˜æ¢ä¸­å¿ƒç‚¹ä¸€æ ·ã€‚ä¹Ÿå¯ä»¥è®¤ä¸ºæ˜¯å…ƒç´ çš„åº•éƒ¨ä½ç½®ã€‚</p><p>ğŸ·<code>transform-style</code>è¿™ä¸ªå‚æ•°ç”¨æ¥å…±äº«çˆ¶å…ƒç´ çš„ 3D ç©ºé—´ã€‚</p><table><thead><tr><th style="text-align:left">å€¼</th><th style="text-align:left">æè¿°</th></tr></thead><tbody><tr><td style="text-align:left">flat</td><td style="text-align:left">è¡¨ç¤ºæ‰€æœ‰å­å…ƒç´ åœ¨ 2D å¹³é¢å‘ˆç°ã€‚</td></tr><tr><td style="text-align:left">preserve-3d</td><td style="text-align:left">è¡¨ç¤ºæ‰€æœ‰å­å…ƒç´ åœ¨ 3D ç©ºé—´ä¸­å‘ˆç°ã€‚</td></tr></tbody></table><p>ğŸ·<code>backface-visibility</code>å¯ç”¨äºéšè—å†…å®¹çš„èƒŒé¢ã€‚é»˜è®¤æƒ…å†µä¸‹ï¼ŒèƒŒé¢å¯è§ï¼Œè¿™æ„å‘³ç€å³ä½¿åœ¨ç¿»è½¬åï¼Œå˜æ¢çš„å†…å®¹ä»ç„¶å¯è§ã€‚ä½†å½“ backface-visibility è®¾ç½®ä¸º hidden æ—¶ï¼Œæ—‹è½¬åå†…å®¹å°†éšè—ï¼Œå› ä¸ºæ—‹è½¬åæ­£é¢å°†ä¸å†å¯è§ã€‚</p><h4 id="2-3då’Œç¡¬ä»¶åŠ é€Ÿ"><a class="header-anchor" href="#2-3då’Œç¡¬ä»¶åŠ é€Ÿ">Â¶</a>2.<code>3d</code>å’Œç¡¬ä»¶åŠ é€Ÿ</h4><p>åŠ¨ç”»å¡é¡¿æ˜¯åœ¨ç§»åŠ¨ web å¼€å‘æ—¶ç»å¸¸é‡åˆ°çš„é—®é¢˜ï¼Œè§£å†³è¿™ä¸ªé—®é¢˜ä¸€èˆ¬ä¼šç”¨åˆ°<strong>css3 ç¡¬ä»¶åŠ é€Ÿ</strong>ã€‚</p><p>â”ä»€ä¹ˆæ˜¯ç¡¬ä»¶åŠ é€Ÿï¼Ÿ</p><p>DOM æ ‘å’Œ CSS ç»“åˆåå½¢æˆæ¸²æŸ“æ ‘ã€‚æ¸²æŸ“æ ‘ä¸­åŒ…å«äº†å¤§é‡çš„æ¸²æŸ“å…ƒç´ ï¼Œæ¯ä¸€ä¸ªæ¸²æŸ“å…ƒç´ ä¼šè¢«åˆ†åˆ°ä¸€ä¸ªå›¾å±‚ä¸­ï¼Œæ¯ä¸ªå›¾å±‚åˆä¼šè¢«åŠ è½½åˆ° GPU å½¢æˆæ¸²æŸ“çº¹ç†ã€‚GPU ä¸­ transform æ˜¯ä¸ä¼šè§¦å‘ repaint çš„ï¼Œè¿™ä¸€ç‚¹éå¸¸ç±»ä¼¼ 3D ç»˜å›¾åŠŸèƒ½ï¼Œæœ€ç»ˆè¿™äº›ä½¿ç”¨ transform çš„å›¾å±‚éƒ½ä¼šç”±[ç‹¬ç«‹çš„åˆæˆå™¨è¿›ç¨‹è¿›è¡Œå¤„ç†]ã€‚<a href="https://www.chromium.org/developers/design-documents/gpu-accelerated-compositing-in-chrome" target="_blank" rel="noopener">https://www.chromium.org/developers/design-documents/gpu-accelerated-compositing-in-chrome</a></p><p>å› æ­¤ï¼Œæœ€ç®€å•çš„å¼€å¯ç¡¬ä»¶åŠ é€Ÿçš„æ–¹æ³•å°±æ˜¯è®¾ç½®<code>translateZ(0)</code>ã€‚</p><p>ä½†æ˜¯ï¼Œå¼€å¯ç¡¬ä»¶åŠ é€Ÿåï¼Œä¼šåŠ å¿«ç”¨ç”µï¼Œå¹¶ä¸”ä¸åˆé€‚çš„ä½¿ç”¨ç¡¬ä»¶åŠ é€Ÿï¼Œä¼šé€ æˆé¡µé¢å¡é¡¿ã€‚</p><p>å‚è€ƒï¼š<a href="https://div.io/topic/1348" target="_blank" rel="noopener">https://div.io/topic/1348</a> çœ‹ä¸‹<code>index</code>å±æ€§é€ æˆä¸è¯¥åœ¨å¤åˆå±‚ï¼ˆcomposited layerï¼‰ä¸­çš„å…ƒç´ é€ æˆé¡µé¢å¡é¡¿çš„ä¾‹å­ã€‚</p><h4 id="3-3dåŠ¨ç”»çš„ä¸€ä¸ªå®ä¾‹"><a class="header-anchor" href="#3-3dåŠ¨ç”»çš„ä¸€ä¸ªå®ä¾‹">Â¶</a>3. <code>3d</code>åŠ¨ç”»çš„ä¸€ä¸ªå®ä¾‹</h4><iframe scrolling="no" width="100%" height="300" src="//jsfiddle.net/zzz1220/tj1of0m5//embedded/html,css,result/light" frameborder="0" allowfullscreen></iframe><p>åˆ©ç”¨<code>translate</code> å’Œ <code>rotate</code> åˆ¶ä½œçš„ä¸€ä¸ªéª°å­ã€‚</p><p>ä»£ç æ¥æºï¼š</p><p><a href="https://www.cnblogs.com/zhangnan35/p/10709876.html" target="_blank" rel="noopener">https://www.cnblogs.com/zhangnan35/p/10709876.html</a></p><p>å‚è€ƒï¼š</p><p><a href="https://www.jianshu.com/p/f8b1d6e598db" target="_blank" rel="noopener">https://www.jianshu.com/p/f8b1d6e598db</a></p><p><a href="http://beiyuu.com/css3-animation" target="_blank" rel="noopener">http://beiyuu.com/css3-animation</a></p><p><a href="https://www.chromium.org/developers/design-documents/gpu-accelerated-compositing-in-chrome" target="_blank" rel="noopener">https://www.chromium.org/developers/design-documents/gpu-accelerated-compositing-in-chrome</a></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;blockquote&gt;
&lt;p&gt;ä¸Šå¤æ—¶ä»£ï¼Œå½“&lt;code&gt;html&lt;/code&gt;è¯­è¨€å’Œ&lt;code&gt;http&lt;/code&gt;åè®®åˆšè¢«å‘æ˜å‡ºæ¥æ—¶ï¼Œè¿™äº›ä¸“å®¶ä»¬ä¹Ÿè®¸æ€ä¹ˆä¹Ÿæƒ³ä¸åˆ°ï¼Œå½“åˆå‘æ˜æ¥å…±äº«æ–‡æœ¬çš„æŠ€æœ¯å¦‚ä»Šç»Ÿæ²»äº†å‡ ä¹æ•´ä¸ªäº’è”ç½‘è¡Œä¸šã€‚å½“ç¬¬ä¸€ä¸ªç½‘é¡µè¢«æ‰“å¼€æ—¶ï¼Œä¸Šé¢åªæœ‰ç®€é™‹çš„ä¸€ä¸ªè¡¨å•ï¼Œç”šè‡³åšä¸€ä¸ªç®€å•
      
    
    </summary>
    
    
      <category term="css" scheme="https://zzz1220.github.io/tags/css/"/>
    
  </entry>
  
  <entry>
    <title>è£…é¥°å™¨çš„ç®€å•å®ç°ï¼ˆä¸‹ï¼‰</title>
    <link href="https://zzz1220.github.io/posts/72b1723d/"/>
    <id>https://zzz1220.github.io/posts/72b1723d/</id>
    <published>2019-07-03T12:15:02.000Z</published>
    <updated>2023-11-08T07:30:23.203Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>ä¸Šæ–‡ä»‹ç»äº†è£…é¥°æ¨¡å¼ï¼Œè£…é¥°å™¨è¯­æ³•ï¼Œä»Šå¤©ç»§ç»­è¯´ä¸€ä¸‹æ€ä¹ˆç”¨javascriptå®ç°è‡ªå®šä¹‰è£…é¥°å™¨ã€‚</p></blockquote><h3 id="å¯ç”¨è£…é¥°å™¨è¯­æ³•"><a class="header-anchor" href="#å¯ç”¨è£…é¥°å™¨è¯­æ³•">Â¶</a>å¯ç”¨è£…é¥°å™¨è¯­æ³•</h3><p>ç›®å‰<code>decorator</code>è¯­æ³•åªæ˜¯é¢˜æ¡ˆï¼Œæƒ³è¦ä½¿ç”¨è£…é¥°å™¨ï¼Œéœ€è¦å®‰è£…<code>babel</code>å’Œ<code>webpack</code>å¹¶ç»“åˆ<code>babel/plugin-proposal-decorators</code> æ’ä»¶ã€‚</p><p>å…³äºå¦‚ä½•é…ç½®è¯·å‚è€ƒ<code>babel</code>æ’ä»¶çš„é…ç½®æ–‡æ¡£ã€‚</p><p>æˆ–è€…ä½ ä¹Ÿå¯ä»¥ç›´æ¥åˆ° <a href="https://babeljs.io/repl/" target="_blank" rel="noopener">https://babeljs.io/repl/</a> è¿™ä¸ªåœ°å€ç¼–å†™ä»£ç ï¼Œå®ƒæä¾›äº†ä¸€ä¸ªåœ¨çº¿çš„<code>repl</code>ç¯å¢ƒï¼Œå¯ä»¥ç›´æ¥è¿è¡Œ<code>es6</code>ä»£ç ,è®°å¾—å‹¾é€‰å·¦ä¾§çš„<code>Experimental</code>æ¥å¯ç”¨è£…é¥°å™¨è¯­æ³•ã€‚</p><p>ğŸ”‘ <code>es2015</code>,<code>es2016</code>,<code>es2017</code>å’Œ<code>es6</code>ä¹‹é—´çš„å…³ç³»ï¼š</p><blockquote><p>ES6 æ—¢æ˜¯ä¸€ä¸ªå†å²åè¯ï¼Œä¹Ÿæ˜¯ä¸€ä¸ªæ³›æŒ‡ï¼Œå«ä¹‰æ˜¯ 5.1 ç‰ˆä»¥åçš„ JavaScript çš„ä¸‹ä¸€ä»£æ ‡å‡†ï¼Œæ¶µç›–äº† ES2015ã€ES2016ã€ES2017 ç­‰ç­‰ï¼Œè€Œ ES2015 åˆ™æ˜¯æ­£å¼åç§°ï¼Œç‰¹æŒ‡è¯¥å¹´å‘å¸ƒçš„æ­£å¼ç‰ˆæœ¬çš„è¯­è¨€æ ‡å‡†ã€‚</p></blockquote><h3 id="ç±»è£…é¥°å™¨-æ–¹æ³•è£…é¥°å™¨å’Œå±æ€§è£…é¥°å™¨"><a class="header-anchor" href="#ç±»è£…é¥°å™¨-æ–¹æ³•è£…é¥°å™¨å’Œå±æ€§è£…é¥°å™¨">Â¶</a>ç±»è£…é¥°å™¨ï¼Œæ–¹æ³•è£…é¥°å™¨å’Œå±æ€§è£…é¥°å™¨</h3><h5 id="ç±»è£…é¥°å™¨"><a class="header-anchor" href="#ç±»è£…é¥°å™¨">Â¶</a>ç±»è£…é¥°å™¨</h5><p>ç±»è£…é¥°å™¨å°±æ˜¯ç”¨æ¥ä¿®æ”¹ç±»çš„è¡Œä¸ºï¼Œå®ƒæ ‡æ³¨åœ¨ç±»å®šä¹‰çš„ä¸Šæ–¹ã€‚</p><pre><code class="language-javascript">@testableclass MyTestableClass {  // ...}function testable(target) { // target å°±æ˜¯è¢«è£…é¥°çš„ç±»  target.isTestable = true;}MyTestableClass.isTestable // true</code></pre><p>è¿™æ˜¯ä¸€ä¸ªç®€å•çš„ç±»è£…é¥°å™¨ï¼Œå®ƒç»™è¢«è£…é¥°çš„ç±»æ·»åŠ äº†ä¸€ä¸ª<code>isTestable</code>çš„é™æ€å±æ€§ã€‚</p><p>ä¸Šé¢æ˜¯ä¸ªç®€å•çš„ä¾‹å­ï¼Œä¸‹é¢æ¥ä¸ªç¨å¾®å¤æ‚çš„ã€‚<br>æƒ³ä¸€ä¸‹ï¼Œå¦‚æœæˆ‘ä»¬æƒ³ç»™è£…é¥°å™¨ä¼ å‚æ•°ï¼Œè¦æ€ä¹ˆåšï¼Ÿç†Ÿæ‚‰é«˜é˜¶å‡½æ•°çš„åŒå­¦ä¸€å®šä¼šç«‹åˆ»æƒ³åˆ°ï¼Œå‡½æ•°å¯ä»¥è¿”å›å‡½æ•°ï¼Œåªè¦åœ¨è£…é¥°å™¨å‡½æ•°å¤–é¢å†åŠ ä¸€å±‚å‡½æ•°å°±å¯ä»¥äº†ã€‚</p><pre><code class="language-javascript">function testable(isTrue) {return function(target) {target.isTestable = isTrue}}@testable(false)class MyTestableClass {}MyTestableClass.isTestable  // false</code></pre><p>ä¸Šé¢æ˜¯ç»™ç±»æ·»åŠ é™æ€å±æ€§ï¼Œå¦‚æœæƒ³ç»™å®ä¾‹æ·»åŠ å±æ€§ï¼Œéœ€è¦æŠŠå±æ€§æ·»åŠ åœ¨<code>prototype</code>ä¸Š</p><pre><code class="language-javascript">function testable(isTrue) {return function(target) {target.prototype.isTestable = isTrue}}</code></pre><p>ğŸ”‘ ä¿®é¥°å™¨å¯¹ç±»çš„è¡Œä¸ºçš„æ”¹å˜ï¼Œæ˜¯ä»£ç ç¼–è¯‘æ—¶å‘ç”Ÿçš„ï¼Œè€Œä¸æ˜¯åœ¨è¿è¡Œæ—¶ã€‚è¿™æ„å‘³ç€ï¼Œä¿®é¥°å™¨èƒ½åœ¨ç¼–è¯‘é˜¶æ®µè¿è¡Œä»£ç ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œä¿®é¥°å™¨æœ¬è´¨å°±æ˜¯ç¼–è¯‘æ—¶æ‰§è¡Œçš„å‡½æ•°ã€‚</p><p>æ¥ä¸‹æ¥æ¥ä¸ªç¨å¾®å¤æ‚ä¸€ç‚¹çš„ä¾‹å­ï¼Œç”¨è£…é¥°å™¨å®ç°<code>mixin</code>,<br>ğŸ”‘ mixinæ¨¡å¼å°±æ˜¯ä¸€äº›æä¾›èƒ½å¤Ÿè¢«ä¸€ä¸ªæˆ–è€…ä¸€ç»„å­ç±»ç®€å•ç»§æ‰¿åŠŸèƒ½çš„ç±»,æ„åœ¨é‡ç”¨å…¶åŠŸèƒ½ã€‚</p><pre><code class="language-javascript">function mixin(foo) {return function(target){Object.assign(target.prototype,foo) // Onject.assign æ˜¯es6é‡Œé¢çš„Objectçš„æ–°å‡½æ•°ï¼Œç”¨æ¥æŠŠç¬¬äºŒä¸ªå‚æ•°çš„å±æ€§åˆå¹¶åˆ°ç¬¬ä¸€ä¸ªå‚æ•°ä¸Š å› ä¸ºè¿™é‡Œä¼ å…¥çš„æ˜¯ç±»ï¼ˆä¹Ÿå°±æ˜¯æ„é€ å‡½æ•°ï¼‰ï¼Œæƒ³è¦åœ¨å®ä¾‹ä¸Šæ·»åŠ å±æ€§ï¼Œéœ€è¦åˆå¹¶åˆ°åŸå‹å¯¹è±¡ä¸Šã€‚}}const Foo = {sayHi(){console.log('hi')}}@mixin(Foo)class Target{}new Target().sayHi()// Hi</code></pre><p>æœ‰äº†è£…é¥°å™¨ï¼Œä¹‹å‰é‚£äº›çƒ¦äººçš„æ ·æ¿å‡½æ•°å°±å¯ä»¥ç”¨è£…é¥°å™¨ä»£æ›¿äº†ï¼Œæ¯”å¦‚æˆ‘ä»¬ç”¨<code>redux</code>å’Œ<code>react</code>æ—¶ï¼Œéœ€è¦æŠŠ<code>ui</code>ç»„ä»¶å’Œé€»è¾‘ç»„ä»¶åˆå¹¶ï¼Œç»å¸¸éœ€è¦å†™ä¸‹é¢çš„ä»£ç ï¼š</p><pre><code class="language-javascript">class MyReactComponent extends React.Component {}export default connect(mapStateToProps, mapDispatchToProps)(MyReactComponent);</code></pre><p>æœ‰äº†è£…é¥°å™¨ï¼Œå°±å¯ä»¥æ”¹å†™ä¸Šé¢çš„ä»£ç ã€‚</p><pre><code class="language-javascript">@connect(mapStateToProps, mapDispatchToProps)export default class MyReactComponent extends React.Component {}</code></pre><h5 id="æ–¹æ³•å’Œå±æ€§çš„è£…é¥°"><a class="header-anchor" href="#æ–¹æ³•å’Œå±æ€§çš„è£…é¥°">Â¶</a>æ–¹æ³•å’Œå±æ€§çš„è£…é¥°</h5><p>ä¸Šé¢çš„è£…é¥°å™¨å®šä¹‰å‡½æ•°æˆ‘ä»¬åªç”¨åˆ°äº†ä¸€ä¸ªå‚æ•°ï¼Œå®é™…ä¸Šï¼Œåœ¨è£…é¥°ç±»çš„å±æ€§/æ–¹æ³•æ—¶ä»–æœ‰ä¸‰ä¸ªå‡½æ•°ã€‚</p><pre><code class="language-javascript">/*** target è¢«è£…é¥°çš„ç±»çš„åŸå‹å¯¹è±¡,éœ€è¦æ³¨æ„ï¼Œè£…é¥°classå’Œclassçš„å±æ€§ï¼Œç¬¬ä¸€ä¸ªå‚æ•°æ˜¯ä¸ä¸€æ ·çš„ï¼Œè£…é¥°classæ—¶ï¼Œæ˜¯æ„é€ å‡½æ•°ï¼Œä¹Ÿå°±æ˜¯ç±»æœ¬èº«* key è¦ä¿®é¥°çš„å±æ€§å* descriptor è¯¥å±æ€§çš„æè¿°å¯¹è±¡*/function decorator(target,key,descriptor){}</code></pre><p>ğŸ”‘ å…³äºæè¿°å¯¹è±¡ï¼Œä¸ç†Ÿæ‚‰çš„å¯ä»¥å»çœ‹<code>jsé«˜çº§ç¨‹åºè®¾è®¡</code>å…³äº <code>defineProperty</code> å’Œ <code>defineProperties</code>çš„ä»‹ç»ï¼Œè¿™ä¸¤ä¸ªæ–¹æ³•å°±æ˜¯ç”¨æ¥å®šä¹‰å’Œä¿®æ”¹å¯¹è±¡çš„å†…éƒ¨å±æ€§ã€‚<br>ä¸¾ä¸€ä¸ªå¸¸è§çš„ä¾‹å­ï¼Œåœ¨æ¯æ¬¡å‡½æ•°æ‰§è¡Œå‰åï¼ŒæŠŠå‡½æ•°çš„å‚æ•°å’Œç»“æœæ‰“å°å‡ºæ¥</p><pre><code class="language-javascript">function log(target,key,descriptor) {var old = descriptor.valuedescriptor.value = function(...args) {console.log(`call ${key} with,`,...args)const result = old.call(this,...args)console.log(`result is ${result}`)return result}return descriptor}class Util {@logadd(a,b) {return a + b}}const util = new Util()util.add(1,2)// è¿™æ—¶ï¼Œæ§åˆ¶å°ä¼šæ‰“å°å‡ºæ—¥å¿—// call add with, 1 2// result is 3</code></pre><p>æ¥ä¸€ä¸ªå¯ç¼“å­˜çš„è£…é¥°å™¨</p><pre><code class="language-javascript">function cacheable(target,key,descriptor) {const old = descriptor.valueif( typeof old !== 'function' ) {throw new Error(&quot;must be a function&quot;)}const cache = {}descriptor.value = function(...args) {const key = JSON.stringify(args)if(cache[key]) {return cache[key]} else {cache[key] = old.call(this,...args)return cache[key]}}return descriptor}class Util {@cacheableadd(a,b) {console.log(&quot;add&quot;,a,b)return a + b}}const util = new Util()util.add(1,2)util.add(1,2)util.add(1,2)// åªæœ‰ç¬¬ä¸€æ¬¡è¿è¡Œä¼šæ‰“å°å‡º add 1 2</code></pre><p>åŒæ ·çš„ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥å®ç°å±æ€§ä¸Šçš„è£…é¥°å™¨ï¼Œæ¯”å¦‚å®ç°ä¸€ä¸ªç±»ä¼¼<code>java</code>åŒ…è£…ç±»</p><pre><code class="language-javascript">class Integer{constructor(num){this.value = num}display() {console.log(`this is a boxing value , the value is ${this.value}`)}}function boxing(target,key,descriptor) {    let v = descriptor.initializer &amp;&amp; descriptor.initializer.call(this);    v= new Integer(v)return {        enumerable: true,            configurable: true,            get: function() {                return v;            },            set: function(c) {                v = new Integer(c);            }    }} class Number {@boxinga=2}let number = new Number()number.a.display()// this is a boxing value , the value is 2number.a = 4number.a.display()// this is a boxing value , the value is 4</code></pre><p>è¿™æ ·ï¼Œæˆ‘ä»¬å°±å®ç°äº†ä¸€ä¸ªç®€å•çš„åŒ…è£…<code>Integer</code>ã€‚</p><p>å¦‚æœæˆ‘ä»¬æ¯æ¬¡èµ‹å€¼çš„æ—¶å€™ï¼Œéƒ½å¸Œæœ›æ£€æŸ¥ä¸€ä¸‹æ•°æ®ç±»å‹ï¼Œå¯ä»¥è¿™æ ·åš</p><pre><code class="language-javascript">function check(type) {return function(target,key,descriptor) {let v = descriptor.initializer &amp;&amp; descriptor.initializer.call(this)return {        enumerable: true,            configurable: true,            get: function() {                return v;            },            set: function(c) {if(typeof c !== type) {throw new Error(&quot;error type&quot;)}v = c}        }    }}</code></pre><h3 id="ç¬¬ä¸‰æ–¹åº“"><a class="header-anchor" href="#ç¬¬ä¸‰æ–¹åº“">Â¶</a>ç¬¬ä¸‰æ–¹åº“</h3><p><code>core-decorators.js</code>æ˜¯ä¸€ä¸ªç¬¬ä¸‰æ–¹æ¨¡å—ï¼Œæä¾›äº†ä¸€äº›å¸¸è§çš„è£…é¥°å™¨<br>æ¯”å¦‚ï¼š</p><pre><code class="language-javascript">// @autobindimport { autobind } from 'core-decorators';class Person {  @autobind  getPerson() {    return this;  }}let person = new Person();let getPerson = person.getPerson;getPerson() === person;// true// @readonlyimport { readonly } from 'core-decorators';class Meal {  @readonly  entree = 'steak';}var dinner = new Meal();dinner.entree = 'salmon';// Cannot assign to read only property 'entree' of [object Object]</code></pre><p>è¿˜æœ‰æ›´å¤šä¸å†é˜è¿°ã€‚</p><h3 id="æ€»ç»“"><a class="header-anchor" href="#æ€»ç»“">Â¶</a>æ€»ç»“</h3><p>ä¸Šæ–‡åªæ˜¯ç®€å•å¯¹è£…é¥°å™¨æ¨¡å¼åšäº†åŸºæœ¬åŸç†çš„è§£é‡Šå’Œç®€å•demoï¼Œå…·ä½“åœ¨å®æˆ˜ä¸­å¦‚ä½•åº”ç”¨ï¼Œè¿˜éœ€è¦å¾ˆå¤šå…¶ä»–çš„ç»éªŒï¼Œæ¯”å¦‚å¤šä¸ªè£…é¥°å™¨åµŒå¥—å¦‚ä½•ä½¿ç”¨ï¼Œå¦‚ä½•åˆ©ç”¨<code>proxy</code>å®ç°è£…é¥°å™¨ï¼Œåœ¨ä¸Šæ–‡ä¸­éƒ½æ²¡æåŠï¼Œåœ¨æ¥ä¸‹æ¥çš„åšæ–‡é‡Œï¼Œä¼šå®Œæ•´çš„å®ç°ä¸€ä¸ªå…·æœ‰å®é™…æ„ä¹‰çš„è£…é¥°å™¨ä¾‹å­ã€‚</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;blockquote&gt;
&lt;p&gt;ä¸Šæ–‡ä»‹ç»äº†è£…é¥°æ¨¡å¼ï¼Œè£…é¥°å™¨è¯­æ³•ï¼Œä»Šå¤©ç»§ç»­è¯´ä¸€ä¸‹æ€ä¹ˆç”¨javascriptå®ç°è‡ªå®šä¹‰è£…é¥°å™¨ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3 id=&quot;å¯ç”¨è£…é¥°å™¨è¯­æ³•&quot;&gt;&lt;a class=&quot;header-anchor&quot; href=&quot;#å¯ç”¨è£…é¥°å™¨è¯­æ³•&quot;&gt;Â¶&lt;
      
    
    </summary>
    
    
      <category term="JavaScript" scheme="https://zzz1220.github.io/tags/JavaScript/"/>
    
  </entry>
  
  <entry>
    <title>è£…é¥°å™¨çš„ç®€å•å®ç°ï¼ˆä¸Šï¼‰</title>
    <link href="https://zzz1220.github.io/posts/72b172aa/"/>
    <id>https://zzz1220.github.io/posts/72b172aa/</id>
    <published>2019-07-01T13:29:17.000Z</published>
    <updated>2023-11-08T07:30:23.184Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p><code>es7</code>ä¸º<code>javascript</code>æ·»åŠ äº†æ¿€åŠ¨äººå¿ƒçš„æ–°ç‰¹æ€§----è£…é¥°å™¨ï¼Œä¸è¿‡<code>Typrscript</code>æ—©å°±æ”¯æŒäº†è£…é¥°å™¨äº†ï¼Œè£…é¥°å™¨ä¹Ÿä¸æ˜¯<code>ts</code>ç‰¹æœ‰çš„è¯­æ³•ï¼Œå®é™…ä¸Š<code>python</code>ä¹Ÿæœ‰è£…é¥°å™¨ï¼Œåœ¨<code>oop</code>è¯­è¨€é‡Œé¢ï¼Œä¸€ç›´éƒ½æœ‰è£…é¥°å™¨æ¨¡å¼ï¼Œä¹Ÿç§°ä¸º<code>decorator</code>ï¼Œä¸è¿‡éƒ½æ˜¯ä»è¯­è¨€å±‚é¢ï¼Œé€šè¿‡ç»§æ‰¿å’Œç»„åˆå®ç°ï¼Œç°åœ¨ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡è¯­æ³•å±‚é¢ç›´æ¥å®ç°è£…é¥°å™¨äº†ã€‚</p></blockquote><h3 id="ä»€ä¹ˆæ˜¯è£…é¥°å™¨æ¨¡å¼"><a class="header-anchor" href="#ä»€ä¹ˆæ˜¯è£…é¥°å™¨æ¨¡å¼">Â¶</a>ä»€ä¹ˆæ˜¯è£…é¥°å™¨æ¨¡å¼</h3><p>è£…é¥°å™¨æ¨¡å¼ï¼ˆDecorator Patternï¼‰å…è®¸å‘ä¸€ä¸ªç°æœ‰çš„å¯¹è±¡æ·»åŠ æ–°çš„åŠŸèƒ½ï¼ŒåŒæ—¶åˆä¸æ”¹å˜å…¶ç»“æ„ã€‚è¿™ç§ç±»å‹çš„è®¾è®¡æ¨¡å¼å±äºç»“æ„å‹æ¨¡å¼ï¼Œå®ƒæ˜¯ä½œä¸ºç°æœ‰çš„ç±»çš„ä¸€ä¸ªåŒ…è£…ã€‚</p><p>è¿™ç§æ¨¡å¼åˆ›å»ºäº†ä¸€ä¸ªè£…é¥°ç±»ï¼Œç”¨æ¥åŒ…è£…åŸæœ‰çš„ç±»ï¼Œå¹¶åœ¨ä¿æŒç±»æ–¹æ³•ç­¾åå®Œæ•´æ€§çš„å‰æä¸‹ï¼Œæä¾›äº†é¢å¤–çš„åŠŸèƒ½ã€‚</p><p><code>java</code>é‡Œé¢çš„è£…é¥°å™¨æ¨¡å¼:</p><p>å‚è€ƒè¿™ä¸ªåœ°å€ï¼š<a href="https://github.com/iluwatar/java-design-patterns/tree/master/decorator" target="_blank" rel="noopener"><strong>decorator</strong></a></p><p>ğŸ”¼ä¸Šé¢çš„åœ°å€æ˜¯<code>github</code>ä¸Šä¸€ä¸ªå¾ˆæœ‰åçš„å„ç§è®¾è®¡æ¨¡å¼çš„<code>java</code>å®ç°ã€‚</p><blockquote><p>Attach additional responsibilities to an object dynamically. Decorators provide a flexible alternative to subclassing for extending functionality.</p></blockquote><p>ä¹Ÿå°±æ˜¯è¯´ï¼šåŠ¨æ€çš„å°†é™„åŠ èŒè´£æ·»åŠ åˆ°å¯¹è±¡ä¸Šã€‚è£…é¥°å™¨æ¨¡å¼ä¸ºå­ç±»åŒ–æä¾›äº†çµæ´»çš„ä»£æ›¿å’Œæ‰©å±•çš„åŠŸèƒ½ã€‚</p><p>ä¸¾ä¸ªä¾‹å­ï¼š</p><p>æˆ‘ä»¬å°æ—¶å€™éƒ½æ‰“è¿‡<code>cs</code>ï¼Œæ¯ä¸ªè­¦å¯Ÿæˆ–è€…åŠ«åŒªéƒ½å¯ä»¥æ‹¿ä¸€æŠŠæ­¦å™¨ï¼Œæˆ–è€…æ˜¯<code>AK47</code>ï¼Œæˆ–è€…æ˜¯<code>m16</code>ï¼Œä¸ºäº†æ›´æ¢æ­¦å™¨ï¼Œæˆ‘ä»¬æ²¡å¿…è¦å»åˆ›é€ æ–°çš„è§’è‰²å®ä¾‹ï¼Œå¯ä»¥ç”¨è£…é¥°å™¨åŠ¨æ€çš„ç”¨æ­¦å™¨è£…é¥°ä»–ã€‚</p><pre><code class="language-java">// åˆ›å»ºä¸€ä¸ªè§’è‰²æ¥å£public interface Person {  void attack();  int getAttackPower();}public class Police implements Person {    void attack(){        Systom.out.print(&quot;I'm attacking you&quot;);    }    int getAttackPower(){        return 5; // æˆ˜æ–—åŠ›åªæœ‰5çš„æ¸£æ¸£    }}public class AkPolice implements Person {    // æä¾›æ„é€ å‡½æ•°æ¥å¯¹ç›®æ ‡è¿›è¡ŒåŒ…è£…    public AkPolice(Police decorted) {        this.decorted = decorted;     }    void attack(){        this.decorted.attack()        Systom.out.print(&quot;I'm attacking with a Ak!!&quot;);//awesome!    }    int getAttackPower(){        return this.decorted.getAttackPower()+100;    }}</code></pre><p>ğŸ”¼å°±åƒä¸Šé¢çš„ç®€å•ä¾‹å­ï¼Œä¸€ä¸ªåŒ…è£…ç±»æŠŠåŸºæœ¬ç±»<code>warped</code>èµ·æ¥ï¼Œå½¢æˆäº†ä¸€ä¸ªæ–°çš„ç±»ï¼Œæ–°çš„ç±»ä¸ä»…æ·»åŠ äº†æ–°çš„åŠ¨ä½œï¼Œè¿˜ä¿ç•™äº†åŸºæœ¬ç±»çš„åŠ¨ä½œã€‚</p><p>ä¼˜ç‚¹ï¼š</p><p>ğŸ‘ è£…é¥°æ¨¡å¼ä¸ç»§æ‰¿å…³ç³»çš„ç›®çš„éƒ½æ˜¯è¦æ‹“å±•å¯¹è±¡çš„åŠŸèƒ½ï¼Œä½†æ˜¯è£…é¥°æ¨¡å¼å¯ä»¥æä¾›æ¯”ç»§æ‰¿æ›´å¤šçš„çµæ´»æ€§ã€‚è£…é¥°æ¨¡å¼å…è®¸ç³»ç»ŸåŠ¨æ€å†³å®šâ€œè´´ä¸Šâ€ä¸€ä¸ªéœ€è¦çš„â€œè£…é¥°â€ï¼Œæˆ–è€…â€œé™¤æ‰â€ä¸€ä¸ªä¸éœ€è¦çš„â€œè£…é¥°â€ã€‚ç»§æ‰¿å…³ç³»åˆ™ä¸åŒï¼Œç»§æ‰¿å…³ç³»æ˜¯é™æ€çš„ï¼Œå®ƒåœ¨ç³»ç»Ÿè¿è¡Œå‰å°±å†³å®šäº†ã€‚</p><p>ğŸ‘ é€šè¿‡ä¸åŒçš„å…·ä½“è£…é¥°ç±»ä»¥åŠè¿™äº›è£…é¥°ç±»çš„æ’åˆ—ç»„åˆï¼Œè®¾è®¡å¸ˆå¯ä»¥åˆ›é€ å‡ºæ›´å¤šä¸åŒè¡Œä¸ºçš„ç»„åˆã€‚</p><p>ç¼ºç‚¹ï¼š</p><p>ğŸ‘ç§æ¯”ç»§æ‰¿æ›´åŠ çµæ´»æœºåŠ¨çš„ç‰¹æ€§ï¼Œä¹ŸåŒæ—¶æ„å‘³ç€æ›´åŠ å¤šçš„å¤æ‚æ€§ã€‚è£…é¥°æ¨¡å¼ä¼šå¯¼è‡´è®¾è®¡ä¸­å‡ºç°è®¸å¤šå°ç±»ï¼Œå¦‚æœè¿‡åº¦ä½¿ç”¨ï¼Œä¼šä½¿ç¨‹åºå˜å¾—å¾ˆå¤æ‚ã€‚</p><p>è£…é¥°å™¨è¯­æ³•æœ€å¸¸è§çš„åº”ç”¨å°±æ˜¯æˆ‘ä»¬ç†Ÿæ‚‰çš„<code>java</code>é‡Œé¢çš„<code>AOP</code>(é¢å‘åˆ‡é¢)ç¼–ç¨‹ï¼Œåœ¨ä¸å½±å“åŸæœ‰åŠŸèƒ½çš„æƒ…å†µä¸‹ï¼Œå¢åŠ æ–°çš„å¤„ç†é€»è¾‘ï¼Œæ¯”å¦‚æ·»åŠ å„ç§<code>filter</code>,è¿™äº›<code>filter</code>å°±åƒæ´‹è‘±ä¸€æ ·å±‚å±‚åŒ…è£¹ï¼Œæœ€ç»ˆæ‰§è¡ŒåŸæœ‰çš„é€»è¾‘ï¼Œä½†æ˜¯åœ¨ä¹‹å‰å’Œä¹‹åï¼Œéƒ½å¯ä»¥éšæ„æ·»åŠ æ–°çš„è¡Œä¸ºï¼Œå› æ­¤ï¼Œç‰¹åˆ«é€‚åˆå®‰å…¨æ£€æŸ¥ï¼Œç¼“å­˜ï¼Œè°ƒè¯•ï¼Œæ—¥å¿—è®°å½•ç­‰ç­‰è¡Œä¸ºã€‚</p><h3 id="è£…é¥°å™¨è¯­æ³•"><a class="header-anchor" href="#è£…é¥°å™¨è¯­æ³•">Â¶</a>è£…é¥°å™¨è¯­æ³•</h3><p>ç¬¬ä¸€æ¬¡çœ‹åˆ°è£…é¥°å™¨è¯­æ³•æ˜¯åœ¨ä½¿ç”¨<code>python</code>çš„æ—¶å€™ï¼Œç°åœ¨<code>es7</code>ä¹Ÿå®ç°äº†è£…é¥°å™¨è¯­æ³•ã€‚</p><p>é¦–æ¬¡çœ‹åˆ°è£…é¥°å™¨è¯­æ³•ï¼Œç”¨è¿‡<code>java</code>æ³¨è§£çš„ä¹Ÿè®¸ä¼šæ··åˆ°ä¸€èµ·ï¼Œå…¶å®è¿™ä¸¤ä¸ªä¸œè¥¿é™¤äº†é•¿å¾—åƒå¤–ï¼ŒåŸç†å®Œå…¨ä¸ä¸€æ ·ã€‚</p><blockquote><p>Python decorators were inspired in part by Java annotations, and have a similar syntax</p><p>â€‹                                                                                                                      --wikipedia</p></blockquote><p>æ ¹æ®<code>wikipedia</code>çš„è¯´æ³•ï¼Œè£…é¥°å™¨è¯­æ³•çš„çµæ„Ÿæ¥æºäº<code>java</code>çš„æ³¨è§£ï¼Œæ‰€ä»¥ä»–ä»¬æœ‰ç±»ä¼¼çš„è¯­æ³•ã€‚</p><p>æ³¨è§£æ˜¯åˆ©ç”¨åå°„ï¼Œå®ƒæœ¬èº«ä¸æ”¹å˜è¢«æ³¨è§£å¯¹è±¡çš„è¡Œä¸ºå’Œæ€§è´¨ï¼Œåªæœ‰ç†è§£è¿™äº›æ³¨è§£çš„å¤„ç†å™¨æ‰ä¼šæ”¹å˜è¡Œä¸ºï¼Œåœ¨è¿è¡Œçš„æ—¶å€™èµ·ä½œç”¨ã€‚</p><p>è£…é¥°å™¨å®é™…ä¸Šæ˜¯è¯­æ³•ç³–ï¼Œåˆ©äºäº†<code>python</code>,<code>javascript</code>å‡½æ•°å¯ä»¥èµ‹å€¼ï¼Œä¼ å‚çš„ç‰¹æ€§ï¼Œå‡½æ•°æ˜¯ç¬¬ä¸€å…¬æ°‘ï¼Œå‡½æ•°æ˜¯å¯¹è±¡ã€æ˜¯å˜é‡ï¼Œå¯ä»¥ä½œä¸ºå‚æ•°ã€å¯ä»¥æ˜¯è¿”å›å€¼ï¼Œå¯¹åµŒå¥—å‡½æ•°åšäº†ç®€åŒ–ã€‚</p><p>ğŸ˜‹å¼•ç”³ï¼šå¦‚æœæƒ³äº†è§£æ›´å¤šå…³äº<code>javascript</code>å‡½æ•°å¼ç‰¹æ€§çš„çŸ¥è¯†ï¼Œå¯ä»¥çœ‹ä¸‹é¢â¬‡ï¸</p><p>[<a href="https://www.bookstack.cn/books/mostly-adequate-guide-chinese" target="_blank" rel="noopener">JS å‡½æ•°å¼ç¼–ç¨‹æŒ‡å—ä¸­æ–‡ç‰ˆ</a> ](<a href="https://www.bookstack.cn/read/mostly-adequate-guide-chinese/README.md" target="_blank" rel="noopener">https://www.bookstack.cn/read/mostly-adequate-guide-chinese/README.md</a>)</p><p>ç›¸ä¿¡çœ‹å®Œï¼Œä½ ä¼šå¯¹<code>javascript</code>æœ‰æ–°çš„è®¤è¯†ã€‚</p><p>ä¸‹é¢é‡å¤´æˆæ¥äº†ï¼Œåˆ°åº•åœ¨<code>javascript</code>é‡Œï¼Œæ€ä¹ˆå®ç°è‡ªå·±çš„è£…é¥°å™¨å‘¢ï¼Ÿ</p><p>å…³é”®çš„<code>api</code>æ˜¯<code>Object.defineProperty</code>ã€‚</p><pre><code class="language-javascript">Object.defineProperty(obj, prop, descriptor)</code></pre><p>å‚æ•°ï¼š</p><p><strong>obj</strong> è¦åœ¨å…¶ä¸Šå®šä¹‰å±æ€§çš„å¯¹è±¡</p><p><strong>prop</strong> è¦å®šä¹‰æˆ–ä¿®æ”¹çš„å±æ€§çš„åç§°ã€‚</p><p><strong>descriptor</strong> å°†è¢«å®šä¹‰æˆ–ä¿®æ”¹çš„å±æ€§æè¿°ç¬¦ã€‚</p><p>è£…é¥°å™¨å¯ä»¥ç”¨åˆ°<code>ç±»</code>ï¼Œå±æ€§å’Œç±»çš„<code>æ–¹æ³•</code>ä¸Šï¼Œä¸èƒ½ç”¨äº<code>function</code>â”<a href="http://es6.ruanyifeng.com/#docs/decorator#%E4%B8%BA%E4%BB%80%E4%B9%88%E4%BF%AE%E9%A5%B0%E5%99%A8%E4%B8%8D%E8%83%BD%E7%94%A8%E4%BA%8E%E5%87%BD%E6%95%B0%EF%BC%9F" target="_blank" rel="noopener">ä¸ºä»€ä¹ˆä¿®é¥°å™¨ä¸èƒ½ç”¨äºå‡½æ•°ï¼Ÿ</a></p><p>ğŸ‘æƒ³è¯¦ç»†äº†è§£è£…é¥°å™¨è¯­æ³•ï¼Œå¯ä»¥å»çœ‹é˜®ä¸€å³°è€å¸ˆçš„<code>es6</code>æ•™ç¨‹</p><p><a href="http://es6.ruanyifeng.com/#docs/decorator" target="_blank" rel="noopener">ä¿®é¥°å™¨</a></p><p>ä¸‹ç¯‡åšæ–‡ï¼Œæˆ‘ä¼šç”¨å®ä¾‹ä»£ç å®ç°ä¸åŒçš„è£…é¥°å™¨ï¼ˆç­‰æˆ‘çœ‹å®Œä¸Šé¢çš„æ•™ç¨‹å…ˆğŸ˜„)ã€‚</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;blockquote&gt;
&lt;p&gt;&lt;code&gt;es7&lt;/code&gt;ä¸º&lt;code&gt;javascript&lt;/code&gt;æ·»åŠ äº†æ¿€åŠ¨äººå¿ƒçš„æ–°ç‰¹æ€§----è£…é¥°å™¨ï¼Œä¸è¿‡&lt;code&gt;Typrscript&lt;/code&gt;æ—©å°±æ”¯æŒäº†è£…é¥°å™¨äº†ï¼Œè£…é¥°å™¨ä¹Ÿä¸æ˜¯&lt;code&gt;ts&lt;/code&gt;ç‰¹æœ‰çš„è¯­æ³•ï¼Œå®é™…ä¸Š
      
    
    </summary>
    
    
      <category term="JavaScript" scheme="https://zzz1220.github.io/tags/JavaScript/"/>
    
  </entry>
  
  <entry>
    <title>Performance--ä¸€ä¸ªç”¨æ¥è·å–é¡µé¢æ€§èƒ½çš„æ¥å£</title>
    <link href="https://zzz1220.github.io/posts/94e1353c/"/>
    <id>https://zzz1220.github.io/posts/94e1353c/</id>
    <published>2019-06-25T06:29:02.000Z</published>
    <updated>2023-11-07T06:53:35.488Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>æœ€è¿‘è¢«é—®åˆ°ä¸€ä¸ªé—®é¢˜ï¼Œå¦‚ä½•åˆ¤æ–­é¡µé¢åŠ è½½æ—¶é—´ï¼Œæˆ‘ç¬¬ä¸€æ—¶é—´æƒ³åˆ°çš„æ˜¯æ‰“å¼€<code>devtool</code>çœ‹ä¸‹<code>Network</code>ä¸‹é¢</p><p><code>DOMContentLoaded</code>å’Œ<code>load</code>åˆ†åˆ«ç”¨äº†å¤šä¹…ï¼Œå¦‚æœè‡ªå·±å†™çš„è¯ï¼Œè¦ç”¨åˆ°<code>window.onload</code>å‡½æ•°ï¼Œä½†æ˜¯å®é™…ä¸Šï¼Œwebå·²ç»ç»™å‡ºäº†<code>api</code>ï¼Œè·å–é¡µé¢æ€§èƒ½ï¼Œå¹¶ä¸”å¤§éƒ¨åˆ†ç°ä»£æµè§ˆå™¨ä¹Ÿæ”¯æŒè¿™ä¸ª<code>api</code>.</p></blockquote><h3 id="Performanceç®€ä»‹"><a class="header-anchor" href="#Performanceç®€ä»‹">Â¶</a><strong>Performance</strong>ç®€ä»‹</h3><p>æ ¹æ®<code>mdn</code>é‡Œé¢çš„è¯´æ³•:</p><blockquote><p><strong>Performance</strong> æ¥å£å¯ä»¥è·å–åˆ°å½“å‰é¡µé¢ä¸­ä¸æ€§èƒ½ç›¸å…³çš„ä¿¡æ¯ã€‚å®ƒæ˜¯ High Resolution Time API çš„ä¸€éƒ¨åˆ†ï¼ŒåŒæ—¶ä¹Ÿèåˆäº† Performance Timeline APIã€<a href="https://developer.mozilla.org/en-US/docs/Web/API/Navigation_timing_API">Navigation Timing API</a>ã€ <a href="https://developer.mozilla.org/en-US/docs/Web/API/User_Timing_API">User Timing API</a> å’Œ <a href="https://developer.mozilla.org/en-US/docs/Web/API/Resource_Timing_API">Resource Timing API</a>ã€‚</p></blockquote><p>å¹¶ä¸”ï¼Œè¿™äº›æ•°æ®æ˜¯åªè¯»çš„ã€‚</p><p><code>preformance</code>å¯¹è±¡æœ‰ä¸‰ä¸ªæ ‡å‡†å±æ€§ï¼Œå’Œä¸€ä¸ª<code>chrome</code>æ·»åŠ çš„éæ ‡å‡†åº“â€“<a href="https://developer.mozilla.org/zh-CN/docs/Web/API/Performance/memory"><code>performance.memory</code></a>ï¼Œç”¨æ¥è·å–åˆ°åŸºæœ¬å†…å­˜çš„ä½¿ç”¨æƒ…å†µï¼Œä¸€èˆ¬æ¥è¯´ä¸è¦ç”¨è¿™ä¸ªéæ ‡å‡†çš„<code>api</code>ã€‚</p><p>ğŸ‘<a href="https://developer.mozilla.org/zh-CN/docs/Web/API/Performance/navigation"><code>Performance.navigation</code></a> [åªè¯»]</p><p><a href="https://developer.mozilla.org/zh-CN/docs/Web/API/PerformanceNavigation"><code>PerformanceNavigation</code></a> å¯¹è±¡æä¾›äº†åœ¨æŒ‡å®šçš„æ—¶é—´æ®µé‡Œå‘ç”Ÿçš„æ“ä½œç›¸å…³ä¿¡æ¯ï¼ŒåŒ…æ‹¬é¡µé¢æ˜¯åŠ è½½è¿˜æ˜¯åˆ·æ–°ã€å‘ç”Ÿäº†å¤šå°‘æ¬¡é‡å®šå‘ç­‰ç­‰ã€‚Not available in workers.</p><p>ğŸ‘<a href="https://developer.mozilla.org/zh-CN/docs/Web/API/Performance/timing"><code>Performance.timing</code></a> [åªè¯»]</p><p><a href="https://developer.mozilla.org/zh-CN/docs/Web/API/PerformanceTiming"><code>PerformanceTiming</code></a> å¯¹è±¡åŒ…å«å»¶è¿Ÿç›¸å…³çš„æ€§èƒ½ä¿¡æ¯ã€‚Not available in workers.</p><p><a href="https://developer.mozilla.org/zh-CN/docs/Web/API/Performance/memory"><code>performance.memory</code></a></p><p>å…¶æ˜¯ Chrome æ·»åŠ çš„ä¸€ä¸ªéæ ‡å‡†æ‰©å±•ï¼Œè¿™ä¸ªå±æ€§æä¾›äº†ä¸€ä¸ªå¯ä»¥è·å–åˆ°åŸºæœ¬å†…å­˜ä½¿ç”¨æƒ…å†µçš„å¯¹è±¡ã€‚<strong>ä¸åº”è¯¥</strong>ä½¿ç”¨è¿™ä¸ªéæ ‡å‡†çš„ APIã€‚</p><p><a href="https://developer.mozilla.org/zh-CN/docs/Web/API/Performance/timeOrigin"><code>Performance.timeOrigin</code></a> [åªè¯»]</p><p>è¿”å›æ€§èƒ½æµ‹é‡å¼€å§‹æ—¶çš„æ—¶é—´çš„é«˜ç²¾åº¦æ—¶é—´æˆ³ã€‚</p><p>å…³äºæ›´ç²¾ç¡®çš„èµ„æ–™è¯·æŸ¥çœ‹<code>mdn</code>å®˜æ–¹æ–‡æ¡£ã€‚</p><p><a href="https://developer.mozilla.org/zh-CN/docs/Web/API/Performance">Performance</a></p><h3 id="å¦‚ä½•æ ¹æ®Performance-timingè·å–åŠ è½½æ—¶é—´"><a class="header-anchor" href="#å¦‚ä½•æ ¹æ®Performance-timingè·å–åŠ è½½æ—¶é—´">Â¶</a>å¦‚ä½•æ ¹æ®<code>Performance.timing</code>è·å–åŠ è½½æ—¶é—´</h3><p>åœ¨æ­¤ä¹‹å‰ï¼Œè¯»è€…éœ€è¦æ˜ç™½ä¸€ç‚¹æµè§ˆå™¨å·¥ä½œçš„åŸºæœ¬æµç¨‹å’ŒåŸç†ï¼Œæ¯”å¦‚ç»å¸¸åœ¨é¢è¯•æ—¶è¢«é—®åˆ°çš„â€œä»urlè¾“å…¥åˆ°é¡µé¢åŠ è½½ç»è¿‡äº†ä»€ä¹ˆæµç¨‹ï¼Ÿâ€</p><p>è¿™é‡Œæœ‰å‡ ç¯‡éå¸¸è¯¦ç»†çš„æ–‡ç« ï¼ˆæœ€èµ·ç æ˜¯æˆ‘é‡åˆ°çš„æœ€è¯¦ç»†çš„ï¼Œå¦‚æœä½ çœ‹åˆ°è¿‡æ›´è¯¦ç»†çš„ï¼Œæˆ–è€…è¿˜æœ‰å…¶ä»–è¡¥å……ï¼Œè¯·åœ¨ä¸‹æ–¹ç•™è¨€ï¼Œä¸‡åˆ†æ„Ÿè°¢ğŸ˜™ ï¼‰ï¼Œä»‹ç»äº†è¿™ä¸ªæµç¨‹ã€‚</p><p><a href="https://segmentfault.com/a/1190000006879700">ä»è¾“å…¥URLåˆ°é¡µé¢åŠ è½½å‘ç”Ÿäº†ä»€ä¹ˆ</a><br><a href="https://www.html5rocks.com/zh/tutorials/internals/howbrowserswork/">æµè§ˆå™¨çš„å·¥ä½œåŸç†ï¼šæ–°å¼ç½‘ç»œæµè§ˆå™¨å¹•åæ­ç§˜</a></p><p>ä¹Ÿå°±æ˜¯è¯´ï¼Œä½ æœ€èµ·ç è¦çŸ¥é“<code>dns</code>è§£æï¼Œ<code>http</code>è¯·æ±‚ï¼Œé¡µé¢æ¸²æŸ“ç­‰è®¤è¯†ã€‚</p><p><code>timing</code>å°±æ˜¯ä»è¾“å…¥<code>url</code>åˆ°é¡µé¢å±•ç¤ºçš„å…¨è¿‡ç¨‹çš„æ—¶é—´ç»Ÿè®¡ï¼Œå•ä½æ˜¯æ¯«ç§’ï¼Œåªè¯»ã€‚</p><p>â• å±æ€§ï¼š</p><p><a href="https://developer.mozilla.org/zh-CN/docs/Web/API/PerformanceTiming/navigationStart"><code>PerformanceTiming.navigationStart</code></a> åªè¯»</p><p>æ˜¯ä¸€ä¸ªæ— ç¬¦å·long long å‹çš„æ¯«ç§’æ•°ï¼Œè¡¨å¾äº†ä»åŒä¸€ä¸ªæµè§ˆå™¨ä¸Šä¸‹æ–‡çš„ä¸Šä¸€ä¸ªæ–‡æ¡£å¸è½½(unload)ç»“æŸæ—¶çš„UNIXæ—¶é—´æˆ³ã€‚å¦‚æœæ²¡æœ‰ä¸Šä¸€ä¸ªæ–‡æ¡£ï¼Œè¿™ä¸ªå€¼ä¼šå’ŒPerformanceTiming.fetchStartç›¸åŒã€‚</p><p><a href="https://developer.mozilla.org/zh-CN/docs/Web/API/PerformanceTiming/unloadEventStart"><code>PerformanceTiming.unloadEventStart</code></a> åªè¯»</p><p>æ˜¯ä¸€ä¸ªæ— ç¬¦å·long long å‹çš„æ¯«ç§’æ•°ï¼Œè¡¨å¾äº†<code>unload</code>äº‹ä»¶æŠ›å‡ºæ—¶çš„UNIXæ—¶é—´æˆ³ã€‚å¦‚æœæ²¡æœ‰ä¸Šä¸€ä¸ªæ–‡æ¡£ï¼Œor if the previous document, or one of the needed redirects, is not of the same origin, è¿™ä¸ªå€¼ä¼šè¿”å›0.</p><p><a href="https://developer.mozilla.org/zh-CN/docs/Web/API/PerformanceTiming/unloadEventEnd"><code>PerformanceTiming.unloadEventEnd</code></a> åªè¯»</p><p>æ˜¯ä¸€ä¸ªæ— ç¬¦å·long long å‹çš„æ¯«ç§’æ•°ï¼Œè¡¨å¾äº†<code>unload</code>äº‹ä»¶å¤„ç†å®Œæˆæ—¶çš„UNIXæ—¶é—´æˆ³ã€‚å¦‚æœæ²¡æœ‰ä¸Šä¸€ä¸ªæ–‡æ¡£ï¼Œor if the previous document, or one of the needed redirects, is not of the same origin, è¿™ä¸ªå€¼ä¼šè¿”å›0.</p><p><a href="https://developer.mozilla.org/zh-CN/docs/Web/API/PerformanceTiming/redirectStart"><code>PerformanceTiming.redirectStart</code></a> åªè¯»</p><p>æ˜¯ä¸€ä¸ªæ— ç¬¦å·long long å‹çš„æ¯«ç§’æ•°ï¼Œè¡¨å¾äº†ç¬¬ä¸€ä¸ªHTTPé‡å®šå‘å¼€å§‹æ—¶çš„UNIXæ—¶é—´æˆ³ã€‚å¦‚æœæ²¡æœ‰é‡å®šå‘ï¼Œæˆ–è€…é‡å®šå‘ä¸­çš„ä¸€ä¸ªä¸åŒæºï¼Œè¿™ä¸ªå€¼ä¼šè¿”å›0.</p><p><a href="https://developer.mozilla.org/zh-CN/docs/Web/API/PerformanceTiming/redirectEnd"><code>PerformanceTiming.redirectEnd</code></a> åªè¯»</p><p>æ˜¯ä¸€ä¸ªæ— ç¬¦å·long long å‹çš„æ¯«ç§’æ•°ï¼Œè¡¨å¾äº†æœ€åä¸€ä¸ªHTTPé‡å®šå‘å®Œæˆæ—¶ï¼ˆä¹Ÿå°±æ˜¯è¯´æ˜¯HTTPå“åº”çš„æœ€åä¸€ä¸ªæ¯”ç‰¹ç›´æ¥è¢«æ”¶åˆ°çš„æ—¶é—´ï¼‰çš„UNIXæ—¶é—´æˆ³ã€‚å¦‚æœæ²¡æœ‰é‡å®šå‘ï¼Œæˆ–è€…é‡å®šå‘ä¸­çš„ä¸€ä¸ªä¸åŒæºï¼Œè¿™ä¸ªå€¼ä¼šè¿”å›0.</p><p><a href="https://developer.mozilla.org/zh-CN/docs/Web/API/PerformanceTiming/fetchStart"><code>PerformanceTiming.fetchStart</code></a> åªè¯»</p><p>æ˜¯ä¸€ä¸ªæ— ç¬¦å·long long å‹çš„æ¯«ç§’æ•°ï¼Œè¡¨å¾äº†æµè§ˆå™¨å‡†å¤‡å¥½ä½¿ç”¨HTTPè¯·æ±‚æ¥è·å–(fetch)æ–‡æ¡£çš„UNIXæ—¶é—´æˆ³ã€‚è¿™ä¸ªæ—¶é—´ç‚¹ä¼šåœ¨æ£€æŸ¥ä»»ä½•åº”ç”¨ç¼“å­˜ä¹‹å‰ã€‚</p><p><a href="https://developer.mozilla.org/zh-CN/docs/Web/API/PerformanceTiming/domainLookupStart"><code>PerformanceTiming.domainLookupStart</code></a> åªè¯»</p><p>æ˜¯ä¸€ä¸ªæ— ç¬¦å·long long å‹çš„æ¯«ç§’æ•°ï¼Œè¡¨å¾äº†åŸŸåæŸ¥è¯¢å¼€å§‹çš„UNIXæ—¶é—´æˆ³ã€‚å¦‚æœä½¿ç”¨äº†æŒç»­è¿æ¥(persistent connection)ï¼Œæˆ–è€…è¿™ä¸ªä¿¡æ¯å­˜å‚¨åˆ°äº†ç¼“å­˜æˆ–è€…æœ¬åœ°èµ„æºä¸Šï¼Œè¿™ä¸ªå€¼å°†å’Œ <code>PerformanceTiming.fetchStartä¸€è‡´ã€‚</code></p><p><a href="https://developer.mozilla.org/zh-CN/docs/Web/API/PerformanceTiming/domainLookupEnd"><code>PerformanceTiming.domainLookupEnd</code></a> åªè¯»</p><p>æ˜¯ä¸€ä¸ªæ— ç¬¦å·long long å‹çš„æ¯«ç§’æ•°ï¼Œè¡¨å¾äº†åŸŸåæŸ¥è¯¢ç»“æŸçš„UNIXæ—¶é—´æˆ³ã€‚å¦‚æœä½¿ç”¨äº†æŒç»­è¿æ¥(persistent connection)ï¼Œæˆ–è€…è¿™ä¸ªä¿¡æ¯å­˜å‚¨åˆ°äº†ç¼“å­˜æˆ–è€…æœ¬åœ°èµ„æºä¸Šï¼Œè¿™ä¸ªå€¼å°†å’Œ <code>PerformanceTiming.fetchStartä¸€è‡´ã€‚</code></p><p><a href="https://developer.mozilla.org/zh-CN/docs/Web/API/PerformanceTiming/connectStart"><code>PerformanceTiming.connectStart</code></a> åªè¯»</p><p>æ˜¯ä¸€ä¸ªæ— ç¬¦å·long long å‹çš„æ¯«ç§’æ•°ï¼Œè¿”å›HTTPè¯·æ±‚å¼€å§‹å‘æœåŠ¡å™¨å‘é€æ—¶çš„Unixæ¯«ç§’æ—¶é—´æˆ³ã€‚å¦‚æœä½¿ç”¨æŒä¹…è¿æ¥ï¼ˆpersistent connectionï¼‰ï¼Œåˆ™è¿”å›å€¼ç­‰åŒäºfetchStartå±æ€§çš„å€¼ã€‚</p><p><a href="https://developer.mozilla.org/zh-CN/docs/Web/API/PerformanceTiming/connectEnd"><code>PerformanceTiming.connectEnd</code></a> åªè¯»</p><p>æ˜¯ä¸€ä¸ªæ— ç¬¦å·long long å‹çš„æ¯«ç§’æ•°ï¼Œè¿”å›æµè§ˆå™¨ä¸æœåŠ¡å™¨ä¹‹é—´çš„è¿æ¥å»ºç«‹æ—¶çš„Unixæ¯«ç§’æ—¶é—´æˆ³ã€‚å¦‚æœå»ºç«‹çš„æ˜¯æŒä¹…è¿æ¥ï¼Œåˆ™è¿”å›å€¼ç­‰åŒäºfetchStartå±æ€§çš„å€¼ã€‚è¿æ¥å»ºç«‹æŒ‡çš„æ˜¯æ‰€æœ‰æ¡æ‰‹å’Œè®¤è¯è¿‡ç¨‹å…¨éƒ¨ç»“æŸã€‚</p><p><a href="https://developer.mozilla.org/zh-CN/docs/Web/API/PerformanceTiming/secureConnectionStart"><code>PerformanceTiming.secureConnectionStart</code></a> åªè¯»</p><p>æ˜¯ä¸€ä¸ªæ— ç¬¦å·long long å‹çš„æ¯«ç§’æ•°ï¼Œè¿”å›æµè§ˆå™¨ä¸æœåŠ¡å™¨å¼€å§‹å®‰å…¨é“¾æ¥çš„æ¡æ‰‹æ—¶çš„Unixæ¯«ç§’æ—¶é—´æˆ³ã€‚å¦‚æœå½“å‰ç½‘é¡µä¸è¦æ±‚å®‰å…¨è¿æ¥ï¼Œåˆ™è¿”å›0ã€‚</p><p><a href="https://developer.mozilla.org/zh-CN/docs/Web/API/PerformanceTiming/requestStart"><code>PerformanceTiming.requestStart</code></a> åªè¯»</p><p>æ˜¯ä¸€ä¸ªæ— ç¬¦å·long long å‹çš„æ¯«ç§’æ•°ï¼Œè¿”å›æµè§ˆå™¨å‘æœåŠ¡å™¨å‘å‡ºHTTPè¯·æ±‚æ—¶ï¼ˆæˆ–å¼€å§‹è¯»å–æœ¬åœ°ç¼“å­˜æ—¶ï¼‰çš„Unixæ¯«ç§’æ—¶é—´æˆ³ã€‚</p><p><a href="https://developer.mozilla.org/zh-CN/docs/Web/API/PerformanceTiming/responseStart"><code>PerformanceTiming.responseStart</code></a> åªè¯»</p><p>æ˜¯ä¸€ä¸ªæ— ç¬¦å·long long å‹çš„æ¯«ç§’æ•°ï¼Œè¿”å›æµè§ˆå™¨ä»æœåŠ¡å™¨æ”¶åˆ°ï¼ˆæˆ–ä»æœ¬åœ°ç¼“å­˜è¯»å–ï¼‰ç¬¬ä¸€ä¸ªå­—èŠ‚æ—¶çš„Unixæ¯«ç§’æ—¶é—´æˆ³ã€‚å¦‚æœä¼ è¾“å±‚åœ¨å¼€å§‹è¯·æ±‚ä¹‹åå¤±è´¥å¹¶ä¸”è¿æ¥è¢«é‡å¼€ï¼Œè¯¥å±æ€§å°†ä¼šè¢«æ•°åˆ¶æˆæ–°çš„è¯·æ±‚çš„ç›¸å¯¹åº”çš„å‘èµ·æ—¶é—´ã€‚</p><p><a href="https://developer.mozilla.org/zh-CN/docs/Web/API/PerformanceTiming/responseEnd"><code>PerformanceTiming.responseEnd</code></a> åªè¯»</p><p>æ˜¯ä¸€ä¸ªæ— ç¬¦å·long long å‹çš„æ¯«ç§’æ•°ï¼Œè¿”å›æµè§ˆå™¨ä»æœåŠ¡å™¨æ”¶åˆ°ï¼ˆæˆ–ä»æœ¬åœ°ç¼“å­˜è¯»å–ï¼Œæˆ–ä»æœ¬åœ°èµ„æºè¯»å–ï¼‰æœ€åä¸€ä¸ªå­—èŠ‚æ—¶ï¼ˆå¦‚æœåœ¨æ­¤ä¹‹å‰HTTPè¿æ¥å·²ç»å…³é—­ï¼Œåˆ™è¿”å›å…³é—­æ—¶ï¼‰çš„Unixæ¯«ç§’æ—¶é—´æˆ³ã€‚</p><p><a href="https://developer.mozilla.org/zh-CN/docs/Web/API/PerformanceTiming/domLoading"><code>PerformanceTiming.domLoading</code></a> åªè¯»</p><p>æ˜¯ä¸€ä¸ªæ— ç¬¦å·long long å‹çš„æ¯«ç§’æ•°ï¼Œè¿”å›å½“å‰ç½‘é¡µDOMç»“æ„å¼€å§‹è§£ææ—¶ï¼ˆå³<a href="https://developer.mozilla.org/zh-CN/docs/Web/API/Document/readyState"><code>Document.readyState</code></a>å±æ€§å˜ä¸ºâ€œloadingâ€ã€ç›¸åº”çš„ <code>readystatechange</code>äº‹ä»¶è§¦å‘æ—¶ï¼‰çš„Unixæ¯«ç§’æ—¶é—´æˆ³ã€‚</p><p><a href="https://developer.mozilla.org/zh-CN/docs/Web/API/PerformanceTiming/domInteractive"><code>PerformanceTiming.domInteractive</code></a> åªè¯»</p><p>æ˜¯ä¸€ä¸ªæ— ç¬¦å·long long å‹çš„æ¯«ç§’æ•°ï¼Œè¿”å›å½“å‰ç½‘é¡µDOMç»“æ„ç»“æŸè§£æã€å¼€å§‹åŠ è½½å†…åµŒèµ„æºæ—¶ï¼ˆå³<a href="https://developer.mozilla.org/zh-CN/docs/Web/API/Document/readyState"><code>Document.readyState</code></a>å±æ€§å˜ä¸ºâ€œinteractiveâ€ã€ç›¸åº”çš„<code>readystatechange</code>äº‹ä»¶è§¦å‘æ—¶ï¼‰çš„Unixæ¯«ç§’æ—¶é—´æˆ³ã€‚</p><p><a href="https://developer.mozilla.org/zh-CN/docs/Web/API/PerformanceTiming/domContentLoadedEventStart"><code>PerformanceTiming.domContentLoadedEventStart</code></a> åªè¯»</p><p>æ˜¯ä¸€ä¸ªæ— ç¬¦å·long long å‹çš„æ¯«ç§’æ•°ï¼Œè¿”å›å½“è§£æå™¨å‘é€<code>DOMContentLoaded</code> äº‹ä»¶ï¼Œå³æ‰€æœ‰éœ€è¦è¢«æ‰§è¡Œçš„è„šæœ¬å·²ç»è¢«è§£ææ—¶çš„Unixæ¯«ç§’æ—¶é—´æˆ³ã€‚</p><p><a href="https://developer.mozilla.org/zh-CN/docs/Web/API/PerformanceTiming/domContentLoadedEventEnd"><code>PerformanceTiming.domContentLoadedEventEnd</code></a> åªè¯»</p><p>æ˜¯ä¸€ä¸ªæ— ç¬¦å·long long å‹çš„æ¯«ç§’æ•°ï¼Œè¿”å›å½“æ‰€æœ‰éœ€è¦ç«‹å³æ‰§è¡Œçš„è„šæœ¬å·²ç»è¢«æ‰§è¡Œï¼ˆä¸è®ºæ‰§è¡Œé¡ºåºï¼‰æ—¶çš„Unixæ¯«ç§’æ—¶é—´æˆ³ã€‚</p><p><a href="https://developer.mozilla.org/zh-CN/docs/Web/API/PerformanceTiming/domComplete"><code>PerformanceTiming.domComplete</code></a> åªè¯»</p><p>æ˜¯ä¸€ä¸ªæ— ç¬¦å·long long å‹çš„æ¯«ç§’æ•°ï¼Œè¿”å›å½“å‰æ–‡æ¡£è§£æå®Œæˆï¼Œå³<a href="https://developer.mozilla.org/zh-CN/docs/Web/API/Document/readyState"><code>Document.readyState</code></a> å˜ä¸º <code>'complete'ä¸”ç›¸å¯¹åº”çš„``readystatechange</code> è¢«è§¦å‘æ—¶çš„Unixæ¯«ç§’æ—¶é—´æˆ³ã€‚</p><p><a href="https://developer.mozilla.org/zh-CN/docs/Web/API/PerformanceTiming/loadEventStart"><code>PerformanceTiming.loadEventStart</code></a> åªè¯»</p><p>æ˜¯ä¸€ä¸ªæ— ç¬¦å·long long å‹çš„æ¯«ç§’æ•°ï¼Œè¿”å›è¯¥æ–‡æ¡£ä¸‹ï¼Œ<code>load</code>äº‹ä»¶è¢«å‘é€æ—¶çš„Unixæ¯«ç§’æ—¶é—´æˆ³ã€‚å¦‚æœè¿™ä¸ªäº‹ä»¶è¿˜æœªè¢«å‘é€ï¼Œå®ƒçš„å€¼å°†ä¼šæ˜¯0ã€‚</p><p><a href="https://developer.mozilla.org/zh-CN/docs/Web/API/PerformanceTiming/loadEventEnd"><code>PerformanceTiming.loadEventEnd</code></a> åªè¯»</p><p>æ˜¯ä¸€ä¸ªæ— ç¬¦å·long long å‹çš„æ¯«ç§’æ•°ï¼Œè¿”å›å½“<code>load</code>äº‹ä»¶ç»“æŸï¼Œå³åŠ è½½äº‹ä»¶å®Œæˆæ—¶çš„Unixæ¯«ç§’æ—¶é—´æˆ³ã€‚å¦‚æœè¿™ä¸ªäº‹ä»¶è¿˜æœªè¢«å‘é€ï¼Œæˆ–è€…å°šæœªå®Œæˆï¼Œå®ƒçš„å€¼å°†ä¼šæ˜¯0.</p><p>ğŸ”¼ ä»¥ä¸Šå±æ€§æ¥è‡ª<code>mdn</code>æ–‡æ¡£ã€‚</p><p>æ ¹æ®ä¸Šé¢çš„å®šä¹‰ï¼Œå¯ä»¥å¾—å‡ºä¸‹é¢çš„å¸¸ç”¨çš„æ—¶é—´è®¡ç®—å…¬å¼ï¼š</p><p><strong>å¸¸ç”¨è®¡ç®—ï¼š</strong><br><code>DNS</code>æŸ¥è¯¢è€—æ—¶ ï¼š<code>domainLookupEnd</code> - <code>domainLookupStart</code><br><code>TCP</code>é“¾æ¥è€—æ—¶ ï¼š<code>connectEnd</code> -<code> connectStart</code><br><code>request</code>è¯·æ±‚è€—æ—¶ ï¼š<code>responseEnd</code> - <code>responseStart</code><br>è§£æ<code>dom</code>æ ‘è€—æ—¶ ï¼š <code>domComplete</code> - <code>domInteractive</code><br>ç™½å±æ—¶é—´ ï¼š<code>responseStart</code> -<code> navigationStart</code><br><code>domready</code>æ—¶é—´(ç”¨æˆ·å¯æ“ä½œæ—¶é—´èŠ‚ç‚¹) ï¼š<code>domContentLoadedEventEnd</code> -<code> navigationStart</code><br><code>onload</code>æ—¶é—´(æ€»ä¸‹è½½æ—¶é—´) ï¼š<code>loadEventEnd</code> - <code>navigationStart</code></p><h4 id="å‚è€ƒ"><a class="header-anchor" href="#å‚è€ƒ">Â¶</a>å‚è€ƒ</h4><p>[<a href="https://www.cnblogs.com/bldxh/p/6857324.html">Performance â€” å‰ç«¯æ€§èƒ½ç›‘æ§åˆ©å™¨</a>](<a href="https://www.cnblogs.com/bldxh/p/6857324.html">https://www.cnblogs.com/bldxh/p/6857324.html</a>)</p><p><a href="https://w3c.github.io/navigation-timing/#introduction">w3cæ–‡æ¡£(<a href="https://w3c.github.io/navigation-timing/#introduction">https://w3c.github.io/navigation-timing/#introduction</a>)</a></p><p><a href="https://developer.mozilla.org/zh-CN/docs/Web/API/PerformanceTiming">mdnæ–‡æ¡£(<a href="https://developer.mozilla.org/zh-CN/docs/Web/API/PerformanceTiming">https://developer.mozilla.org/zh-CN/docs/Web/API/PerformanceTiming</a>)</a></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;blockquote&gt;
&lt;p&gt;æœ€è¿‘è¢«é—®åˆ°ä¸€ä¸ªé—®é¢˜ï¼Œå¦‚ä½•åˆ¤æ–­é¡µé¢åŠ è½½æ—¶é—´ï¼Œæˆ‘ç¬¬ä¸€æ—¶é—´æƒ³åˆ°çš„æ˜¯æ‰“å¼€&lt;code&gt;devtool&lt;/code&gt;çœ‹ä¸‹&lt;code&gt;Network&lt;/code&gt;ä¸‹é¢&lt;/p&gt;
&lt;p&gt;&lt;code&gt;DOMContentLoaded&lt;/code&gt;å’Œ&lt;code&gt;load
      
    
    </summary>
    
    
      <category term="JavaScript" scheme="https://zzz1220.github.io/tags/JavaScript/"/>
    
  </entry>
  
  <entry>
    <title>åŠ æ³•æ¨¡æ‹Ÿå™¨</title>
    <link href="https://zzz1220.github.io/posts/909f226/"/>
    <id>https://zzz1220.github.io/posts/909f226/</id>
    <published>2019-06-10T15:43:00.000Z</published>
    <updated>2023-11-08T07:30:23.184Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>ä¸ç”¨ â€œ+â€ æ€ä¹ˆå®ç°åŠ æ³•å‘¢ï¼Ÿç›¸ä¿¡å¤§å®¶çœ‹åˆ°ç¬¬ä¸€æ—¶é—´å°±ä¼šæƒ³åˆ°ç”¨ä½è¿ç®—ï¼Œç‰¹åˆ«æ˜¯è®¡ç®—æœºåŸºç¡€å¥½çš„åŒå­¦ï¼Œç«‹é©¬æƒ³åˆ°è®¡ç®—æœºæœ¬è´¨ä¸å°±æ˜¯2è¿›åˆ¶åšä½è¿ç®—å®ç°è®¡ç®—çš„å—ï¼Ÿ</p></blockquote><h3 id="å…ˆå¤ä¹ ä¸‹ä½è¿ç®—"><a class="header-anchor" href="#å…ˆå¤ä¹ ä¸‹ä½è¿ç®—">Â¶</a>å…ˆå¤ä¹ ä¸‹ä½è¿ç®—</h3><p>ä¸è¿ç®—<code>&amp;</code><br><code>2&amp;3</code><br>2çš„2è¿›åˆ¶æ˜¯<code>10</code><br>3çš„2è¿›åˆ¶æ˜¯<code>11</code><br>æ‰€ä»¥å°±æ˜¯<code>10</code>å’Œ<code>11</code>åšä¸è¿ç®—,åªæœ‰åŒæ–¹éƒ½æ˜¯<code>true</code>çš„æ—¶å€™ï¼Œç»“æœæ‰ä¸º<code>true</code>ã€‚</p><p>æ³¨æ„ï¼šå¦‚æœæ˜¯è´Ÿæ•°ï¼Œéœ€è¦è®¡ç®—è¡¥ç æ¥åšä½è¿ç®—ï¼Œæ­£æ•°çš„è¡¥ç å’Œæœ¬èº«ç›¸ç­‰ã€‚æ¯”å¦‚<code>-1</code></p><p>æºç  1000 0001</p><p>åç  1111 1110</p><p>è¡¥ç  1111 1111</p><table><thead><tr><th>ä¸è¿ç®—</th><th>true</th><th>false</th></tr></thead><tbody><tr><td>true</td><td>true</td><td>false</td></tr><tr><td>false</td><td>false</td><td>false</td></tr></tbody></table><table><thead><tr><th>æˆ–è¿ç®—</th><th>true</th><th>false</th></tr></thead><tbody><tr><td>true</td><td>true</td><td>true</td></tr><tr><td>false</td><td>true</td><td>false</td></tr></tbody></table><table><thead><tr><th>å¼‚æˆ–è¿ç®—</th><th>true</th><th>false</th></tr></thead><tbody><tr><td>true</td><td>false</td><td>true</td></tr><tr><td>false</td><td>true</td><td>false</td></tr></tbody></table><h3 id="å¼‚æˆ–å’Œä¸è¿ç®—"><a class="header-anchor" href="#å¼‚æˆ–å’Œä¸è¿ç®—">Â¶</a>å¼‚æˆ–å’Œä¸è¿ç®—</h3><p>å¼‚æˆ–</p><pre><code class="language-python">a = 10   # 1010b = 5    # 0101a^b = 15 # 1111c = 10    #1010d = 6     #0110c^b = 12  #1100</code></pre><p>ä¸</p><pre><code class="language-python">a = 10  # 1010b = 5   # 0101a&amp;b = 0 # 0000c = 10   #1010d = 6    #0110c&amp;b = 2  #0010</code></pre><p>çœ‹å‡ºç‚¹çœ‰ç›®æ²¡æœ‰ï¼Ÿ<br>å¼‚æˆ–ï¼Œå¾—åˆ°çš„æ˜¯ä¸¤ä¸ªæ•°æ²¡è¿›ä½çš„å’Œï¼›è€Œä¸ã€‚å¾—åˆ°çš„æ˜¯éœ€è¦è¿›ä½çš„ä½ç½®ï¼ˆè¿™é‡Œçš„ä½ç½®å¹¶ä¸æ˜¯ä¸€ä¸€å¯¹åº”ï¼Œéœ€è¦å‘å·¦ç§»åŠ¨ä¸€ä½ï¼Œï¼‰</p><p>ç®—æ³•</p><pre><code class="language-python">def add(a,b):    res = 0    while b != 0:        res = a^b        b = (a&amp;b)&lt;&lt;1        a = res        print(bin(a)[2:],bin(b)[2:])    return a  # è®¡ç®— 10 åŠ  6    add(10,6)#output 1100     100 1000    1000    0   1000010000       0# ç»“æœ16</code></pre><p>åŸç†<br>aï¼Œbå…ˆç”¨å¼‚æˆ–è·å–ä¸è¿›ä½çš„ç»“æœï¼Œåœ¨ç”¨ä¸è¿ç®—è·å–è¿›ä½ï¼Œè¿™ä¸ªç§°ä¸ºè¿›ä½è¡¥å¿ï¼Œç„¶åæŠŠè¿™ä¸¤ä¸ªç»“æœç›¸åŠ å°±æ˜¯a+bäº†ï¼Œ<br>ä½†æ˜¯ä¸ç„¶ç”¨åŠ æ³•å•Šï¼Œæ€ä¹ˆåŠå‘¢ï¼Ÿ å¯ä»¥æŠŠå‰é¢çš„æµç¨‹å†èµ°ä¸€æ¬¡ï¼Œç›´åˆ°è¿›ä½è¡¥å¿ä¸º0ï¼Œè¿™æ—¶å€™ï¼Œä¸Šä¸ªå¼‚æˆ–ç»“æœå°±æ˜¯æœ€ç»ˆç›¸åŠ çš„ç»“æœäº†ã€‚</p><p>æ ¹æ®ä¸Šé¢çš„åŸç†<br>1.a + b çš„é—®é¢˜æ‹†åˆ†ä¸º (a å’Œ b çš„æ— è¿›ä½ç»“æœ) + (a å’Œ b çš„è¿›ä½ç»“æœ)<br>2.æ— è¿›ä½åŠ æ³•ä½¿ç”¨å¼‚æˆ–è¿ç®—è®¡ç®—å¾—å‡º<br>3.è¿›ä½ç»“æœä½¿ç”¨ä¸è¿ç®—å’Œç§»ä½è¿ç®—è®¡ç®—å¾—å‡º<br>4.å¾ªç¯æ­¤è¿‡ç¨‹ï¼Œç›´åˆ°è¿›ä½ä¸º 0</p><p>ç”¨ä¸€ä¸ªå…¬å¼å°±æ˜¯</p><pre><code class="language-python">a + b = a^b + (a&amp;b)&lt;&lt;1</code></pre><p>ä¸è¿‡å…¶å®è¿˜æœ‰æ›´ç®€å•çš„æ–¹æ³•,æ¯•ç«Ÿ<br><strong>äººç”Ÿè‹¦çŸ­ï¼Œæˆ‘é€‰python</strong></p><pre><code class="language-python">def add(self, a, b):    return sum([a, b])</code></pre>]]></content>
    
    <summary type="html">
    
      
      
        &lt;blockquote&gt;
&lt;p&gt;ä¸ç”¨ â€œ+â€ æ€ä¹ˆå®ç°åŠ æ³•å‘¢ï¼Ÿç›¸ä¿¡å¤§å®¶çœ‹åˆ°ç¬¬ä¸€æ—¶é—´å°±ä¼šæƒ³åˆ°ç”¨ä½è¿ç®—ï¼Œç‰¹åˆ«æ˜¯è®¡ç®—æœºåŸºç¡€å¥½çš„åŒå­¦ï¼Œç«‹é©¬æƒ³åˆ°è®¡ç®—æœºæœ¬è´¨ä¸å°±æ˜¯2è¿›åˆ¶åšä½è¿ç®—å®ç°è®¡ç®—çš„å—ï¼Ÿ&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3 id=&quot;å…ˆå¤ä¹ ä¸‹ä½è¿ç®—&quot;&gt;&lt;a class=&quot;heade
      
    
    </summary>
    
    
      <category term="JavaScript" scheme="https://zzz1220.github.io/tags/JavaScript/"/>
    
  </entry>
  
  <entry>
    <title>setTimeoutå’ŒsetIntervalçš„åŒºåˆ«</title>
    <link href="https://zzz1220.github.io/posts/64e435bc/"/>
    <id>https://zzz1220.github.io/posts/64e435bc/</id>
    <published>2019-06-05T10:55:13.000Z</published>
    <updated>2023-11-08T07:30:23.124Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>æˆ‘ä»¬å†å‰ç«¯å¼€å‘ä¸­éœ€è¦å®ç°å®šæ—¶ä»»åŠ¡æˆ–è€…<code>js</code>åŠ¨ç”»ï¼Œéƒ½è¦ç”¨åˆ°<code>setTimeout</code>å’Œ<code>setInterval</code>zè¿™ä¸¤ä¸ªå‡½æ•°ï¼Œä½†æ˜¯å¯¹äºä»–ä»¬çš„åŸç†ï¼Œå¦‚æœä¸æ¸…æ¥šï¼Œå¾€å¾€ä¼šé€ æˆä¸€äº›æ„æƒ³ä¸åˆ°çš„é—®é¢˜ã€‚</p></blockquote><h3 id="settimeout"><a class="header-anchor" href="#settimeout">Â¶</a><code>setTimeout</code></h3><p><code>setTimeout</code>æ–¹æ³•è®¾ç½®ä¸€ä¸ªå®šæ—¶å™¨ï¼Œè¯¥å®šæ—¶å™¨åœ¨å®šæ—¶å™¨åˆ°æœŸåæ‰§è¡Œä¸€ä¸ªå‡½æ•°æˆ–æŒ‡å®šçš„ä¸€æ®µä»£ç ã€‚</p><p>è¯­æ³•</p><pre><code class="language-javascript">var id = setTimeout(function[,delay,param1...])var id = setTimeout(function[,delay])var id = setTimeout(code[,delay])</code></pre><h4 id="å‚æ•°"><a class="header-anchor" href="#å‚æ•°">Â¶</a>å‚æ•°</h4><p><code>function</code></p><p><a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/function" target="_blank" rel="noopener"><code>function</code></a> æ˜¯ä½ æƒ³è¦åœ¨åˆ°æœŸæ—¶é—´(<code>delay</code>æ¯«ç§’)ä¹‹åæ‰§è¡Œçš„<a href="https://developer.mozilla.org/en-US/docs/JavaScript/Reference/Global_Objects/Function" target="_blank" rel="noopener">å‡½æ•°</a>ã€‚</p><p><code>code</code></p><p>è¿™æ˜¯ä¸€ä¸ªå¯é€‰è¯­æ³•ï¼Œä½ å¯ä»¥ä½¿ç”¨å­—ç¬¦ä¸²è€Œä¸æ˜¯<a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/function" target="_blank" rel="noopener"><code>function</code></a> ï¼Œåœ¨<code>delay</code>æ¯«ç§’ä¹‹åç¼–è¯‘å’Œæ‰§è¡Œå­—ç¬¦ä¸² (ä½¿ç”¨è¯¥è¯­æ³•æ˜¯<strong>ä¸æ¨èçš„,</strong> åŸå› å’Œä½¿ç”¨ <a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/eval" target="_blank" rel="noopener"><code>eval()</code></a>ä¸€æ ·ï¼Œæœ‰å®‰å…¨é£é™©)ã€‚</p><p><code>delay</code>å¯é€‰</p><p>å»¶è¿Ÿçš„æ¯«ç§’æ•° (ä¸€ç§’ç­‰äº1000æ¯«ç§’)ï¼Œå‡½æ•°çš„è°ƒç”¨ä¼šåœ¨è¯¥å»¶è¿Ÿä¹‹åå‘ç”Ÿã€‚å¦‚æœçœç•¥è¯¥å‚æ•°ï¼Œdelayå–é»˜è®¤å€¼0ï¼Œæ„å‘³ç€â€œé©¬ä¸Šâ€æ‰§è¡Œï¼Œæˆ–è€…å°½å¿«æ‰§è¡Œã€‚ä¸ç®¡æ˜¯å“ªç§æƒ…å†µï¼Œå®é™…çš„å»¶è¿Ÿæ—¶é—´å¯èƒ½ä¼šæ¯”æœŸå¾…çš„(delayæ¯«ç§’æ•°) å€¼é•¿ï¼ŒåŸå› è¯·æŸ¥çœ‹<a href="https://developer.mozilla.org/zh-CN/docs/Web/API/Window/setTimeout#Reasons_for_delays_longer_than_specified" target="_blank" rel="noopener">Reasons for delays longer than specified</a>ã€‚</p><p><code>param1, ..., paramN</code> å¯é€‰</p><p>é™„åŠ å‚æ•°ï¼Œä¸€æ—¦å®šæ—¶å™¨åˆ°æœŸï¼Œå®ƒä»¬ä¼šä½œä¸ºå‚æ•°ä¼ é€’ç»™<a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/function" target="_blank" rel="noopener"><code>function</code></a></p><h4 id="è¿”å›å€¼"><a class="header-anchor" href="#è¿”å›å€¼">Â¶</a>è¿”å›å€¼</h4><p>è¿”å›å€¼<code>timeoutID</code>æ˜¯ä¸€ä¸ªæ­£æ•´æ•°ï¼Œè¡¨ç¤ºå®šæ—¶å™¨çš„ç¼–å·ã€‚è¿™ä¸ªå€¼å¯ä»¥ä¼ é€’ç»™<a href="https://developer.mozilla.org/zh-CN/docs/Web/API/WindowOrWorkerGlobalScope/clearTimeout" target="_blank" rel="noopener"><code>clearTimeout()</code></a>æ¥å–æ¶ˆè¯¥å®šæ—¶å™¨ã€‚</p><h4 id="ç”¨é€”"><a class="header-anchor" href="#ç”¨é€”">Â¶</a>ç”¨é€”</h4><p>ä¸¾ä¸ªä¾‹å­ï¼Œä¸‰ç§’åè·³è½¬æ–°é¡µé¢</p><pre><code class="language-javascript">setTimeout(function() {    location.href = &quot;url&quot;},3000)</code></pre><p>åœ¨å‡½æ•°æ‰§è¡Œå‰å–æ¶ˆ</p><pre><code class="language-javascript">var key;function myFunction() {    key = setTimeout(function(){ console.log(&quot;fn&quot;) }, 3000);}function myStopFunction() {    clearTimeout(key);}</code></pre><p>å¦‚æœä½ åªæ˜¯æŒæ¡äº†ä¸Šé¢çš„ç”¨æ³•ï¼Œä¸äº†è§£å®ƒçš„åŸç†ï¼Œå°±ä¼šçŠ¯ä¸€äº›é”™è¯¯</p><p>æ¯”å¦‚ä¸€ä¸ªå¸¸è§çš„é¢è¯•é¢˜</p><pre><code class="language-javas">for (var i = 1;i &lt;= 5;i ++) {  setTimeout(function timer() {      console.log(i)  },i * 1000)}</code></pre><p>é—®æ‰“å°å‡ºæ¥çš„æ˜¯ä»€ä¹ˆï¼Ÿ</p><p>å¦‚æœå¯¹é—­åŒ…å’Œä½œç”¨åŸŸä¸äº†è§£çš„åŒå­¦ä¼šä»¥ä¸ºæ˜¯æ¯éš”ä¸€ç§’å°±è¾“å‡º1,2,3,4,5ã€‚ä½†å®é™…ä¸Šæ˜¯æ¯éš”ä¸€ç§’è¾“å‡ºäº†6ã€‚</p><p>åŸå› å°±æ˜¯ä½œç”¨åŸŸï¼Œåœ¨<code>javascript</code>é‡Œé¢æ²¡æœ‰å—ä½œç”¨åŸŸï¼Œå› æ­¤ï¼Œå½“<code>setTimeout</code>é‡Œé¢çš„å‡½æ•°æ‰§è¡Œçš„æ—¶å€™ï¼Œæ‰€æœ‰çš„iéƒ½æ˜¯<code>for</code>å¾ªç¯é‡Œé¢çš„<code>i</code>ï¼Œæ­¤æ—¶ï¼Œ<code>i</code>æ˜¯6ã€‚</p><p>å¦å¤–ï¼Œè¯´åˆ°<code>setTimeout</code>å°±ä¸€å®šè¦è¯´ä¸€ä¸‹äº‹ä»¶å¾ªç¯ï¼Œè¿™ä¸ªæ¦‚å¿µæ¯”è¾ƒå¤æ‚ï¼Œä¸‹é¢ç®€å•è¯´ä¸€ä¸‹ï¼Œ</p><p><code>setTimeout</code>è¿è¡Œåï¼Œä¼šæŠŠç¬¬ä¸€ä¸ªå‚æ•°çš„å‡½æ•°åœ¨ç¬¬äºŒä¸ªå‚æ•°è®¾ç½®çš„æ—¶é—´ä¹‹åï¼Œå°†å…¶æ”¾å…¥å¼‚æ­¥é˜Ÿåˆ—é‡Œé¢ï¼Œç„¶åç­‰åˆ°ä¸»çº¿ç¨‹å‡½æ•°æ ˆä¸ºç©ºï¼Œåœ¨æ‰§è¡Œè¿™ä¸ªå‡½æ•°ã€‚</p><p>è¿™é‡Œæœ‰ä¸ªéœ€è¦æ³¨æ„çš„åœ°æ–¹ï¼Œ</p><blockquote><p>HTML5 æ ‡å‡†è§„å®šäº†<code>setTimeout()</code>çš„ç¬¬äºŒä¸ªå‚æ•°çš„æœ€å°å€¼ï¼Œå³æœ€çŸ­é—´éš”ï¼Œä¸å¾—ä½äº4æ¯«ç§’ã€‚å¦‚æœä½äºè¿™ä¸ªå€¼ï¼Œå°±ä¼šè‡ªåŠ¨å¢åŠ ã€‚åœ¨æ­¤ä¹‹å‰ï¼Œè€ç‰ˆæœ¬çš„æµè§ˆå™¨éƒ½å°†æœ€çŸ­é—´éš”è®¾ä¸º10æ¯«ç§’ã€‚</p></blockquote><p>è¿™æ„å‘³ç€ï¼Œå³ä½¿ä½ æŠŠç¬¬äºŒä¸ªå‚æ•°è®¾ç½®ä¸º0ï¼Œä¹Ÿè¦æœ€å°‘ç­‰ä¸ª4msæ‰èƒ½è¿›å…¥å¼‚æ­¥é˜Ÿåˆ—ã€‚å¦å¤–ï¼Œå°±ç®—è¿›å…¥å¼‚æ­¥é˜Ÿåˆ—,ä¹Ÿè¦ç­‰é˜Ÿåˆ—é‡Œé¢å…¶ä»–æœªæ‰§è¡Œçš„å‡½æ•°æ‰§è¡Œå®Œï¼Œå› æ­¤ï¼Œå¯ä¸è¦ä»¥ä¸ºåªè¦è®¾ç½®ä¸€ä¸ªæ—¶é—´ï¼Œå°±ä¸€å®šå¯ä»¥å‡†æ—¶æ‰§è¡Œè¿™ä¸ªå‡½æ•°ã€‚</p><p>é‚£ä¹ˆï¼Œæ€ä¹ˆè®©ä¸Šé¢çš„ä»£ç æ‰“å°å‡º0,1,2,3,4,5å‘¢ï¼Ÿ</p><p>å¯ä»¥ç”¨ä¸‹é¢çš„æ–¹æ³•ã€‚</p><p>1.<code>es6</code>çš„<code>let</code>å…³é”®è¯</p><p><code>let</code>æ˜¯<code>es6</code>çš„å—ä½œç”¨åŸŸçš„å£°æ˜å…³é”®è¯ã€‚</p><pre><code class="language-javascript">for(let i = 0;i&lt;5;i++) {  setTimeout(function timer(){    console.log(i);  }, i * 1000);}</code></pre><p>2.åˆ©ç”¨é—­åŒ…</p><pre><code class="language-javascript">for(var i = 0;i&lt;5;i ++) {  (function(i){    setTimeout(function timer() {      console.log(i)    }, i * 1000);  })(i);}</code></pre><p>3.åˆ©ç”¨ç¬¬ä¸‰ä¸ªå‚æ•°</p><pre><code class="language-javascript">for (var i=1; i&lt;=5; i++) {  setTimeout( function timer(i) {    console.log(i);       }, i*1000,i );}</code></pre><p>tips:</p><p><code>setTimeout</code>ç¬¬ä¸€ä¸ªå‚æ•°å‡½æ•°é‡Œé¢çš„<code>this</code>æ˜¯<code>window</code>ã€‚</p><p>###ã€€setInterval</p><p><strong>setInterval()</strong> æ–¹æ³•é‡å¤è°ƒç”¨ä¸€ä¸ªå‡½æ•°æˆ–æ‰§è¡Œä¸€ä¸ªä»£ç æ®µï¼Œåœ¨æ¯æ¬¡è°ƒç”¨ä¹‹é—´å…·æœ‰å›ºå®šçš„æ—¶é—´å»¶è¿Ÿã€‚</p><p>è¯­æ³•</p><pre><code class="language-javascript">let intervalID = window.setInterval(func, delay[, param1, param2, ...]);let intervalID = window.setInterval(code, delay);</code></pre><p>å‚æ•°</p><ul><li><code>intervalID</code> æ˜¯æ­¤é‡å¤æ“ä½œçš„å”¯ä¸€è¾¨è¯†ç¬¦ï¼Œå¯ä»¥ä½œä¸ºå‚æ•°ä¼ ç»™<code>clearInterval``()</code>ã€‚</li><li><code>func</code> æ˜¯ä½ æƒ³è¦é‡å¤è°ƒç”¨çš„å‡½æ•°ã€‚</li><li><code>code</code> æ˜¯å¦ä¸€ç§è¯­æ³•çš„åº”ç”¨ï¼Œæ˜¯æŒ‡ä½ æƒ³è¦é‡å¤æ‰§è¡Œçš„ä¸€æ®µå­—ç¬¦ä¸²æ„æˆçš„ä»£ç (ä½¿ç”¨è¯¥è¯­æ³•æ˜¯<strong>ä¸æ¨è</strong>çš„ï¼Œä¸æ¨èçš„åŸå› å’Œ<a href="https://developer.mozilla.org/en-US/docs/JavaScript/Reference/Global_Objects/eval#Don't_use_eval!" target="_blank" rel="noopener">eval()</a>ä¸€æ ·)ã€‚</li><li><code>delay</code> æ˜¯æ¯æ¬¡å»¶è¿Ÿçš„æ¯«ç§’æ•° (ä¸€ç§’ç­‰äº1000æ¯«ç§’)ï¼Œå‡½æ•°çš„æ¯æ¬¡è°ƒç”¨ä¼šåœ¨è¯¥å»¶è¿Ÿä¹‹åå‘ç”Ÿã€‚å’Œ<a href="https://developer.mozilla.org/en-US/docs/DOM/window.setTimeout#Minimum_delay_and_timeout_nesting" target="_blank" rel="noopener">setTimeout</a>ä¸€æ ·ï¼Œå®é™…çš„å»¶è¿Ÿæ—¶é—´å¯èƒ½ä¼šç¨é•¿ä¸€ç‚¹ã€‚</li></ul><p>è¿”å›å€¼</p><p>è¿”å›ä¸€ä¸ª intervalIDã€‚å¯ä»¥ç”¨clearIntervalå‡½æ•°æ¥å–æ¶ˆå®šæ—¶ä»»åŠ¡ã€‚</p><p><strong>è¿™é‡Œéœ€è¦æ³¨æ„ï¼ŒäºsetTimeoutè¿”å›çš„idå…¬ç”¨ä¸€ä¸ªidæ± </strong></p><p>é€šå¸¸ï¼Œè¿™ä¸ªå‡½æ•°ç”¨æ¥æ‰§è¡Œå‘¨æœŸæ‰§è¡Œçš„å‡½æ•°ï¼Œæ¯”å¦‚åŠ¨ç”»ä¹‹ç±»çš„æ•ˆæœã€‚</p><p>mdné‡Œé¢æœ‰ä¸ªæ‰“å­—æœºæ•ˆæœçš„ä¾‹å­ã€‚</p><p><a href="https://mdn.mozillademos.org/files/3997/typewriter.html" target="_blank" rel="noopener">æ‰“å­—æœºæ•ˆæœ</a></p><p>å’Œ<code>setTimeout</code>ä¸€æ ·ï¼Œä¹Ÿæ˜¯åŠ å…¥åˆ°å¼‚æ­¥é˜Ÿåˆ—é‡Œï¼Œç­‰å¾…åˆé€‚çš„æ—¶æœºè¿è¡Œã€‚</p><blockquote><p>å½“ä½¿ç”¨<code>setInterval</code>æ—¶,ä»…å½“(åœ¨é˜Ÿåˆ—ä¸­)æ²¡æœ‰è¯¥å®šæ—¶å™¨çš„ä»»ä½•å…¶ä»–ä»£ç å®ä¾‹æ—¶,æ‰å°†å®šæ—¶å™¨ä»£ç æ·»åŠ åˆ°é˜Ÿåˆ—ä¸­,å¼•ç”¨JavaScripté«˜çº§ç¨‹åºè®¾è®¡ç¬¬ä¸‰ç‰ˆä¹¦ä¸­è¯­å¥</p></blockquote><p>(å³ï¼šå½“å‰ä¸€ä¸ªå®šæ—¶å™¨ä»£ç æ‰§è¡Œæ—¶,ç´§è·Ÿåé¢çš„ç¬¬ä¸€ä¸ªå®šæ—¶å™¨ä»£ç å°†æ·»åŠ åˆ°é˜Ÿåˆ—ä¸­,ç­‰å¾…æ‰§è¡Œ,å†åé¢çš„å®šæ—¶å™¨ä»£ç ä¸ä¼šæ·»åŠ åˆ°é˜Ÿåˆ—ä¸­)</p><p>æ‰€ä»¥ï¼Œå¦‚æœä½ çš„å‡½æ•°ï¼ˆç¬¬ä¸€ä¸ªå‚æ•°ï¼‰æ‰§è¡Œæ—¶é—´æ¯”è¾ƒé•¿ï¼Œä½†æ˜¯ä½ çš„æ‰§è¡Œé—´éš”æ—¶é—´è®¾ç½®çš„æ¯”è¾ƒçŸ­ï¼Œå¯ä¸è¦ä»¥ä¸ºå¯ä»¥ç²¾å‡†çš„åœ¨é¢„æ–™çš„æ—¶é—´ç‚¹ä¼šæ‰§è¡Œè®¾ç½®çš„å‡½æ•°ã€‚</p><p>æ­¤å¤–ï¼Œç¬¬äºŒä¸ªå‚æ•°ä¹Ÿæœ‰ä¸€ä¸ªæœ€çŸ­çš„é»˜è®¤å‚æ•°ï¼Œåœ¨<code>chrome</code>é‡Œé¢æ˜¯7msã€‚</p><p>å½“å®šæ—¶å™¨ä»£ç æ‰§è¡Œæ—¶é—´è¶…è¿‡æŒ‡å®šé—´éš”,é‚£ä¹ˆæŸäº›å®šæ—¶å™¨ä»£ç å°±ä¼šè¢«è·³è¿‡(å³åé¢çš„å®šæ—¶å™¨ä»£ç ä¸ä¼šè¢«æ·»åŠ åˆ°é˜Ÿåˆ—ä¸­),å‰ä¸€ä¸ªå®šæ—¶å™¨ä»£ç æ‰§è¡Œå®Œæ¯•å,é˜Ÿåˆ—ä¸­çš„å®šæ—¶å™¨ä»£ç ç«‹åˆ»æ‰§è¡Œ,å„å®šæ—¶å™¨ä¹‹é—´çš„ä»£ç æ‰§è¡Œæ²¡æœ‰é—´éš”ã€‚è¿™æ—¶ï¼Œéœ€è¦ä½¿ç”¨é“¾å¼<code>setTimeout</code>ã€‚</p><pre><code class="language-javas">setTimeout(function(){    //è¦æ‰§è¡Œçš„ä»£ç      setTimeout(arguments.callee,2000);                   },2000);</code></pre><p>ä¸Šé¢çš„ä»£ç å°±æ˜¯ç”¨<code>setTimeout</code>æ¥æ¨¡æ‹Ÿ<code>setInterval</code>,å¦‚æœé¢è¯•å®˜é—®ä½ æ€ä¹ˆç”¨<code>setTimeout</code>æ¥è§£å†³å®šæ—¶å™¨é—®é¢˜ï¼Œå¯ä»¥ç”¨ä¸Šé¢çš„ä»£ç æ¥å›ç­”å“¦ã€‚</p><p>å¦‚æœè¦æ±‚åœ¨æ¯éš”ä¸€ä¸ªå›ºå®šçš„æ—¶é—´é—´éš”åå°±ç²¾ç¡®åœ°æ‰§è¡ŒæŸåŠ¨ä½œï¼Œé‚£ä¹ˆæœ€å¥½ä½¿ç”¨<code>setInterval</code>ï¼Œ</p><p>æ¯”å¦‚å‡½æ•°æ‰§è¡Œçš„æ—¶é—´æ¯”è¾ƒçŸ­çš„ï¼Œç”¨æ¥å®ç°åŠ¨ç”»æ•ˆæœã€‚</p><p>å¦‚æœæ¯æ¬¡å‡½æ•°çš„è°ƒç”¨éœ€è¦ç¹é‡çš„è®¡ç®—ä»¥åŠå¾ˆé•¿çš„å¤„ç†æ—¶é—´ï¼Œè€Œä¸”ä¸å¸Œæœ›ä»–ä»¬ä¹‹é—´äº’ç›¸å¹²æ‰°ï¼Œé‚£ä¹ˆæœ€å¥½ä½¿ç”¨<code>setTimeout</code>ã€‚</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;blockquote&gt;
&lt;p&gt;æˆ‘ä»¬å†å‰ç«¯å¼€å‘ä¸­éœ€è¦å®ç°å®šæ—¶ä»»åŠ¡æˆ–è€…&lt;code&gt;js&lt;/code&gt;åŠ¨ç”»ï¼Œéƒ½è¦ç”¨åˆ°&lt;code&gt;setTimeout&lt;/code&gt;å’Œ&lt;code&gt;setInterval&lt;/code&gt;zè¿™ä¸¤ä¸ªå‡½æ•°ï¼Œä½†æ˜¯å¯¹äºä»–ä»¬çš„åŸç†ï¼Œå¦‚æœä¸æ¸…æ¥šï¼Œå¾€å¾€ä¼šé€ æˆä¸€äº›æ„æƒ³ä¸åˆ°çš„é—®
      
    
    </summary>
    
    
      <category term="JavaScript" scheme="https://zzz1220.github.io/tags/JavaScript/"/>
    
  </entry>
  
  <entry>
    <title>å¿«ä¹æ•°</title>
    <link href="https://zzz1220.github.io/posts/9ba82001/"/>
    <id>https://zzz1220.github.io/posts/9ba82001/</id>
    <published>2019-06-03T12:34:42.000Z</published>
    <updated>2023-11-07T06:53:35.488Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>å¿«ä¹å°±å®Œäº‹äº†ã€‚</p></blockquote><h3 id="å¿«ä¹æ•°æ˜¯ä»€ä¹ˆ"><a class="header-anchor" href="#å¿«ä¹æ•°æ˜¯ä»€ä¹ˆ">Â¶</a>å¿«ä¹æ•°æ˜¯ä»€ä¹ˆ</h3><p>ä¸€ä¸ªâ€œå¿«ä¹æ•°â€å®šä¹‰ä¸ºï¼šå¯¹äºä¸€ä¸ªæ­£æ•´æ•°ï¼Œæ¯ä¸€æ¬¡å°†è¯¥æ•°æ›¿æ¢ä¸ºå®ƒæ¯ä¸ªä½ç½®ä¸Šçš„æ•°å­—çš„å¹³æ–¹å’Œï¼Œç„¶åé‡å¤è¿™ä¸ªè¿‡ç¨‹ç›´åˆ°è¿™ä¸ªæ•°å˜ä¸º 1ï¼Œä¹Ÿå¯èƒ½æ˜¯æ— é™å¾ªç¯ä½†å§‹ç»ˆå˜ä¸åˆ° 1ã€‚å¦‚æœå¯ä»¥å˜ä¸º 1ï¼Œé‚£ä¹ˆè¿™ä¸ªæ•°å°±æ˜¯å¿«ä¹æ•°ã€‚</p><p>ç¤ºä¾‹:</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥: <span class="number">19</span></span><br><span class="line">è¾“å‡º: <span class="literal">true</span></span><br><span class="line">è§£é‡Š: </span><br><span class="line"><span class="number">1</span>^<span class="number">2</span> + <span class="number">9</span>^<span class="number">2</span> = <span class="number">82</span></span><br><span class="line"><span class="number">8</span>^<span class="number">2</span> + <span class="number">2</span>^<span class="number">2</span> = <span class="number">68</span></span><br><span class="line"><span class="number">6</span>^<span class="number">2</span> + <span class="number">8</span>^<span class="number">2</span> = <span class="number">100</span></span><br><span class="line"><span class="number">1</span>^<span class="number">2</span> + <span class="number">0</span>^<span class="number">2</span> + <span class="number">0</span>^<span class="number">2</span> = <span class="number">1</span></span><br></pre></td></tr></table></figure><h3 id="ç¼–å†™ä¸€ä¸ªç®—æ³•æ¥åˆ¤æ–­ä¸€ä¸ªæ•°æ˜¯ä¸æ˜¯â€œå¿«ä¹æ•°â€ã€‚"><a class="header-anchor" href="#ç¼–å†™ä¸€ä¸ªç®—æ³•æ¥åˆ¤æ–­ä¸€ä¸ªæ•°æ˜¯ä¸æ˜¯â€œå¿«ä¹æ•°â€ã€‚">Â¶</a>ç¼–å†™ä¸€ä¸ªç®—æ³•æ¥åˆ¤æ–­ä¸€ä¸ªæ•°æ˜¯ä¸æ˜¯â€œå¿«ä¹æ•°â€ã€‚</h3><p>æ€è·¯ï¼Œä¸æ–­çš„æ±‚è¾“å…¥æ•°å­—æ¯ä¸ªä½ç½®å¹³æ–¹å’Œï¼Œç„¶åçœ‹æ˜¯å¦ç­‰äº1ï¼Œç­‰äº1å°±æ˜¯å¿«ä¹æ•°ï¼Œé—®é¢˜æ˜¯ï¼Œä»€ä¹ˆæ—¶å€™åˆ¤æ–­falseã€‚<br>ç­”æ¡ˆå°±æ˜¯å‡ºç°æ— çº¿å¾ªç¯çš„æ—¶å€™ï¼Œä¹Ÿå°±æ˜¯å‡ºç°é‡å¤çš„æ•°å­—ï¼Œå¿…å®šä¼šè¿›è¡Œä¸‹ä¸€æ¬¡å¾ªç¯ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span>:</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">isHappy</span>(<span class="params">self, n: <span class="built_in">int</span></span>) -&gt; <span class="built_in">bool</span>:</span><br><span class="line">        already = <span class="built_in">set</span>()</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">while</span> n != <span class="number">1</span>:</span><br><span class="line">            nums = <span class="number">0</span></span><br><span class="line">            <span class="keyword">while</span> n &gt; <span class="number">0</span>:</span><br><span class="line">                temp = n % <span class="number">10</span></span><br><span class="line">                nums = nums + temp * temp</span><br><span class="line">                n = n // <span class="number">10</span></span><br><span class="line">            <span class="keyword">if</span> nums <span class="keyword">in</span> already:</span><br><span class="line">                <span class="keyword">return</span> <span class="literal">False</span></span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                already.add(nums)</span><br><span class="line">                n = nums</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">True</span>    </span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;blockquote&gt;
&lt;p&gt;å¿«ä¹å°±å®Œäº‹äº†ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3 id=&quot;å¿«ä¹æ•°æ˜¯ä»€ä¹ˆ&quot;&gt;&lt;a class=&quot;header-anchor&quot; href=&quot;#å¿«ä¹æ•°æ˜¯ä»€ä¹ˆ&quot;&gt;Â¶&lt;/a&gt;å¿«ä¹æ•°æ˜¯ä»€ä¹ˆ&lt;/h3&gt;
&lt;p&gt;ä¸€ä¸ªâ€œå¿«ä¹æ•°â€å®šä¹‰ä¸ºï¼šå¯¹äºä¸€ä¸ªæ­£æ•´æ•°ï¼Œæ¯ä¸€æ¬¡
      
    
    </summary>
    
    
      <category term="python" scheme="https://zzz1220.github.io/tags/python/"/>
    
  </entry>
  
  <entry>
    <title>äºŒå‰æ ‘çš„å¾ªç¯éå†æ–¹æ³•</title>
    <link href="https://zzz1220.github.io/posts/8925371c/"/>
    <id>https://zzz1220.github.io/posts/8925371c/</id>
    <published>2019-06-01T07:08:21.000Z</published>
    <updated>2023-11-07T06:53:35.488Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>æœ€è¿‘ç¨å¾®åˆ·äº†ä¸€ä¸‹<code>leetcode</code>ï¼Œæƒ³å·©å›ºä¸€ä¸‹ç¼–ç¨‹åŠŸåº•ï¼Œä½†æ˜¯å‘ç°å·¥ä½œåçš„å¾ˆå°‘ç”¨åˆ°åœ¨å­¦æ ¡æ—¶ç”¨çš„æ•°æ®ç»“æ„ï¼Œå¥½å¤šéƒ½å¿˜äº†ï¼Œåœ¨è¿™é‡Œåšä¸‹è®°å½•ã€‚</p></blockquote><h3 id="1-äºŒå‰æ ‘çš„å‰åºï¼Œä¸­åºï¼Œååºéå†"><a class="header-anchor" href="#1-äºŒå‰æ ‘çš„å‰åºï¼Œä¸­åºï¼Œååºéå†">Â¶</a>1.äºŒå‰æ ‘çš„å‰åºï¼Œä¸­åºï¼Œååºéå†</h3><p>å‰åºéå†æ–¹å‘æ˜¯ ä¸­ å·¦ å³</p><p>ä¸­åºéå†æ–¹å‘æ˜¯ å·¦ ä¸­ å³</p><p>ååºéå†æ–¹å‘æ˜¯ å³ å·¦ ä¸­</p><p>æ ¹æ®ä¸Šé¢çš„å®šä¹‰ï¼Œçœ‹çš„å‡ºæ¥å¯¹äºå·¦å³èŠ‚ç‚¹ï¼Œé¡ºåºæ˜¯ä¸å˜çš„ï¼Œåªæ˜¯ä¸­é—´èŠ‚ç‚¹å‡ºç°çš„ä½ç½®æ”¹å˜ã€‚æ‰€ä»¥ï¼Œè¿™ä¹Ÿæ˜¯ä¸€ä¸ªé˜²æ­¢å¿˜è®°çš„æŠ€å·§ã€‚</p><h3 id="2-ä»£ç å®ç°"><a class="header-anchor" href="#2-ä»£ç å®ç°">Â¶</a>2.ä»£ç å®ç°</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># å®šä¹‰èŠ‚ç‚¹å¯¹è±¡</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">TreeNode</span>:</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self, x</span>):</span><br><span class="line">        self.val = x</span><br><span class="line">        self.left = <span class="literal">None</span></span><br><span class="line">        self.right = <span class="literal">None</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># å‡†å¤‡æµ‹è¯•æ•°æ®</span></span><br><span class="line">a = TreeNode(<span class="number">1</span>)</span><br><span class="line">a.left = TreeNode(<span class="number">2</span>)</span><br><span class="line">a.left.left = TreeNode(<span class="number">4</span>)</span><br><span class="line">a.left.right = TreeNode(<span class="number">5</span>)</span><br><span class="line">a.right = TreeNode(<span class="number">3</span>)</span><br><span class="line">a.right.left = TreeNode(<span class="number">6</span>)</span><br><span class="line">a.right.right = TreeNode(<span class="number">7</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span>:</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">inorderTraversal</span>(<span class="params">self,root</span>):</span><br><span class="line">        <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">        é€’å½’å®ç°ä¸­åºéå†</span></span><br><span class="line"><span class="string">        &quot;&quot;&quot;</span></span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">not</span> root:</span><br><span class="line">            <span class="keyword">return</span> []</span><br><span class="line">        <span class="keyword">return</span> self.inorderTraversal(root.left) + [root.val] + self.inorderTraversal(root.right)</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">inerderTraversalLoop</span>(<span class="params">self,root</span>):</span><br><span class="line">        <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">        å¾ªç¯å®ç°ä¸­åºéå†</span></span><br><span class="line"><span class="string">        &quot;&quot;&quot;</span></span><br><span class="line">        result = []</span><br><span class="line">        stack = []</span><br><span class="line">        curr = root</span><br><span class="line">        <span class="keyword">while</span> curr <span class="keyword">or</span> stack:</span><br><span class="line">            <span class="keyword">if</span> curr:</span><br><span class="line">                stack.append(curr)</span><br><span class="line">                curr=curr.left</span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                curr = stack.pop()</span><br><span class="line">                result.append(curr.val)</span><br><span class="line">                curr = curr.right</span><br><span class="line">        <span class="keyword">return</span> result        </span><br><span class="line">            </span><br><span class="line">            </span><br><span class="line">    </span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">predorderTraversal</span>(<span class="params">self, root</span>):</span><br><span class="line">        <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">        é€’å½’å®ç°å‰åºéå†</span></span><br><span class="line"><span class="string">        &quot;&quot;&quot;</span></span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">not</span> root:</span><br><span class="line">            <span class="keyword">return</span> []</span><br><span class="line">        <span class="keyword">return</span> [root.val] + self.predorderTraversal(root.left) + self.predorderTraversal(root.right)</span><br><span class="line">        </span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">predorderTraversalLoop</span>(<span class="params">self,root</span>):</span><br><span class="line">        <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">        å¾ªç¯å®ç°å‰åºéå†</span></span><br><span class="line"><span class="string">        &quot;&quot;&quot;</span></span><br><span class="line">        result = []</span><br><span class="line">        stack = []</span><br><span class="line">        curr = root</span><br><span class="line">        <span class="keyword">while</span> curr <span class="keyword">or</span> stack:</span><br><span class="line">            <span class="keyword">if</span> curr:</span><br><span class="line">                result.append(curr.val)</span><br><span class="line">                stack.append(curr.right)</span><br><span class="line">                curr = curr.left</span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                curr = stack.pop()</span><br><span class="line">                </span><br><span class="line">        <span class="keyword">return</span> result         </span><br><span class="line">            </span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">postorderTraversal</span>(<span class="params">self,root</span>):</span><br><span class="line">        <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">        é€’å½’å®ç°åç»­éå†</span></span><br><span class="line"><span class="string">        &quot;&quot;&quot;</span></span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">not</span> root:</span><br><span class="line">            <span class="keyword">return</span> []</span><br><span class="line">        <span class="keyword">return</span> self.postorderTraversal(root.left) + self.postorderTraversal(root.right) + [root.val]</span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">postorderTraversalLoop</span>(<span class="params">self,root</span>):</span><br><span class="line">        <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">        å¾ªç¯å®ç°åç»­éå†</span></span><br><span class="line"><span class="string">        &quot;&quot;&quot;</span></span><br><span class="line">        result = []</span><br><span class="line">        stack = []</span><br><span class="line">        curr = root</span><br><span class="line">        <span class="keyword">while</span> curr <span class="keyword">or</span> stack:</span><br><span class="line">            <span class="keyword">if</span> curr:</span><br><span class="line">               result.append(curr.val)</span><br><span class="line">               stack.append(curr.left)</span><br><span class="line">               curr = curr.right</span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">               curr = stack.pop()</span><br><span class="line">        <span class="keyword">return</span> result[::-<span class="number">1</span>]     </span><br><span class="line">        </span><br><span class="line">    </span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&quot;__main__&quot;</span>:</span><br><span class="line">    s = Solution()</span><br><span class="line">    <span class="built_in">print</span>(s.inorderTraversal(a))</span><br><span class="line">    <span class="built_in">print</span>(s.inerderTraversalLoop(a))</span><br><span class="line">    <span class="built_in">print</span>(s.predorderTraversal(a))</span><br><span class="line">    <span class="built_in">print</span>(s.predorderTraversalLoop(a))</span><br><span class="line">    <span class="built_in">print</span>(s.postorderTraversal(a))</span><br><span class="line">    <span class="built_in">print</span>(s.postorderTraversalLoop(a))</span><br><span class="line"><span class="comment"># [4, 2, 5, 1, 6, 3, 7]</span></span><br><span class="line"><span class="comment"># [4, 2, 5, 1, 6, 3, 7]</span></span><br><span class="line"><span class="comment"># [1, 2, 4, 5, 3, 6, 7]</span></span><br><span class="line"><span class="comment"># [1, 2, 4, 5, 3, 6, 7]</span></span><br><span class="line"><span class="comment"># [4, 5, 2, 6, 7, 3, 1]</span></span><br><span class="line"><span class="comment"># [4, 5, 2, 6, 7, 3, 1]   </span></span><br></pre></td></tr></table></figure><p>ä¸Šé¢å°±æ˜¯å®ç°ä»£ç ã€‚</p><p>å…ˆè¯´ä¸‹é€’å½’å®ç°ï¼Œæ ¹æ®ç¬¬ä¸€èŠ‚çš„éå†é¡ºåºå®šä¹‰ï¼Œè¿™é‡Œå¾ˆç®€å•å°±å¯ä»¥å†™å‡ºé€’å½’ç¨‹åºï¼Œåªæ˜¯è¿”å›çš„æ—¶å€™ï¼Œæ›´æ”¹ä¸‹ä¸­é—´èŠ‚ç‚¹çš„ä½ç½®å°±å¥½ã€‚</p><p>åœ¨è¯´ä¸‹å¾ªç¯å®ç°ï¼Œåœ¨<code>LeetCode</code>é‡Œé¢ï¼Œå¾ªç¯éƒ½æ˜¯<code>hard</code>å’Œ<code>middle</code>çš„é¢˜ï¼Œå¯è§ï¼Œç”¨å¾ªç¯å®ç°èµ·æ¥å¹¶ä¸å®¹æ˜“ã€‚</p><p>ä¸»è¦æ˜¯è¦åœ¨ä¸€ä¸ªå‡½æ•°é‡Œé¢å®ç°éå†åˆ°æ•´ä¸ªæ ‘å½¢ç»“æ„ï¼Œå¦‚æœä½ èƒ½æƒ³åˆ°ç”¨<strong>æ ˆ</strong>ï¼ˆ<code>stack</code>ï¼‰æ¥å­˜èŠ‚ç‚¹ï¼Œé‚£ä¹ˆä½ åº”è¯¥å·®ä¸å¤šå¯¹æ•°æ®ç»“æ„è¿ç”¨æœ‰ä¸€å®šç»éªŒäº†ã€‚</p><p>å¦‚ä¸‹çš„äºŒå‰æ ‘</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">      <span class="number">1</span></span><br><span class="line">   <span class="number">2</span>      <span class="number">3</span></span><br><span class="line"><span class="number">4</span>    <span class="number">5</span></span><br></pre></td></tr></table></figure><p>å¯¹äºä¸­åºéå†</p><p>æ¯æ¬¡å°†å½“å‰ç»“ç‚¹<code>curr</code>çš„å·¦å­ç»“ç‚¹pushåˆ°æ ˆä¸­ï¼Œç›´åˆ°å½“å‰ç»“ç‚¹<code>curr</code>ä¸ºNoneã€‚è¿™æ—¶ï¼Œ<code>pop</code>å‡ºæ ˆé¡¶çš„ç¬¬ä¸€ä¸ªå…ƒç´ ï¼Œè®¾å…¶ä¸ºå½“å‰ç»“ç‚¹ï¼Œå¹¶è¾“å‡ºè¯¥ç»“ç‚¹çš„<code>val</code>å€¼ï¼Œä¸”å¼€å§‹éå†è¯¥ç»“ç‚¹çš„å³å­æ ‘ã€‚å½“<code>stack</code>å’Œ<code>curr</code>éƒ½ä¸ºç©ºçš„æ—¶å€™ï¼Œç»“æŸå¾ªç¯ã€‚</p><p>å¯¹äºå‰åºéå†</p><p>è¾“å‡ºå½“å‰ç»“ç‚¹<code>curr</code>çš„<code>val</code>ï¼Œå¹¶å°†å³å­ç»“ç‚¹<code>push</code>åˆ°æ ˆä¸­ï¼Œç„¶åå°†å·¦å­ç»“ç‚¹è®¾ä¸ºå½“å‰ç»“ç‚¹ã€‚å…¥æ ˆå’Œå‡ºæ ˆæ¡ä»¶ï¼ˆå½“å‰ç»“ç‚¹<code>curr</code>ä¸ä¸º<code>None</code>æ—¶ï¼Œæ¯ä¸€æ¬¡å¾ªç¯å°†å½“å‰ç»“ç‚¹<code>curr</code>å…¥æ ˆï¼›å½“å‰ç»“ç‚¹<code>curr</code>ä¸º<code>None</code>æ—¶ï¼Œåˆ™å‡ºæ ˆä¸€ä¸ªç»“ç‚¹ï¼‰ä»¥åŠå¾ªç¯ç»“æŸæ¡ä»¶ï¼ˆæ•´ä¸ªå¾ªç¯åœ¨<code>stack</code>å’Œ<code>curr</code>çš†ä¸º<code>None</code>çš„æ—¶å€™ç»“æŸï¼‰ä¸ä¸­åºéå†ä¸€æ¨¡ä¸€æ ·ã€‚</p><p>å¯¹äºååºéå†</p><p>ååºéå†åœ¨<code>leetcode</code>ä¸Šæ˜¯<code>hard</code>éš¾åº¦çš„é¢˜ï¼Œè¿™é‡Œæœ‰ä¸ªæŠ€å·§ï¼Œååºæ˜¯å·¦å³ä¸­ï¼Œæˆ‘ä»¬æŒ‰ç…§ä¸­å³å·¦çš„æ–¹å¼éå†ï¼Œç„¶ååå‘è¾“å‡ºå°±å¯ä»¥äº†ã€‚è€Œä¸”ä¸­å³å·¦ä¸å°±æ˜¯å‰åºéå†å·¦å³äº’ç›¸æ¢ä¸‹å—ï¼Ÿ</p><h3 id="æ€»ç»“"><a class="header-anchor" href="#æ€»ç»“">Â¶</a>æ€»ç»“</h3><p>äºŒå‰æ ‘çš„å¾ªç¯éå†ï¼Œè¿˜æ˜¯è¦å€ŸåŠ©äºæ ˆè¿™ä¸ªéå¸¸æœ‰ç”¨çš„æ•°æ®ç»“æ„ï¼Œæœ‰æ—¶æˆ‘ä»¬éƒ½æ˜ç™½ï¼Œæ¯”å¦‚ï¼Œæ ˆå•Šï¼Œé˜Ÿåˆ—å•Šï¼Œè¿™äº›ç»“æ„æœ‰ä»€ä¹ˆç‰¹æ€§ï¼Œä½†æ˜¯ï¼Œè¦çœŸæ­£çµæ´»çš„ä½¿ç”¨è¿™äº›æ•°æ®ç»“æ„ï¼Œè¿˜éœ€è¦å¤šå¤šç»ƒä¹ ã€‚</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;blockquote&gt;
&lt;p&gt;æœ€è¿‘ç¨å¾®åˆ·äº†ä¸€ä¸‹&lt;code&gt;leetcode&lt;/code&gt;ï¼Œæƒ³å·©å›ºä¸€ä¸‹ç¼–ç¨‹åŠŸåº•ï¼Œä½†æ˜¯å‘ç°å·¥ä½œåçš„å¾ˆå°‘ç”¨åˆ°åœ¨å­¦æ ¡æ—¶ç”¨çš„æ•°æ®ç»“æ„ï¼Œå¥½å¤šéƒ½å¿˜äº†ï¼Œåœ¨è¿™é‡Œåšä¸‹è®°å½•ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3 id=&quot;1-äºŒå‰æ ‘çš„å‰åºï¼Œä¸­åºï¼Œååºéå†&quot;&gt;&lt;a
      
    
    </summary>
    
    
      <category term="python" scheme="https://zzz1220.github.io/tags/python/"/>
    
      <category term="äºŒå‰æ ‘" scheme="https://zzz1220.github.io/tags/%E4%BA%8C%E5%8F%89%E6%A0%91/"/>
    
  </entry>
  
</feed>
